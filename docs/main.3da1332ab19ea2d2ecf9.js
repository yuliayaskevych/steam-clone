(self.webpackChunksteam_clone=self.webpackChunksteam_clone||[]).push([[179],{8255:Pe=>{function me(F){return Promise.resolve().then(()=>{var p=new Error("Cannot find module '"+F+"'");throw p.code="MODULE_NOT_FOUND",p})}me.keys=()=>[],me.resolve=me,me.id=8255,Pe.exports=me},7716:(Pe,me,F)=>{"use strict";F.d(me,{deG:()=>Ac,tb:()=>QE,AFp:()=>YE,ip1:()=>Cv,CZH:()=>Pd,hGG:()=>wT,z2F:()=>Wh,sBO:()=>cw,Sil:()=>Gh,_Vd:()=>Yl,EJc:()=>JE,SBq:()=>Is,qLn:()=>ms,vpe:()=>As,gxx:()=>mu,tBr:()=>zr,XFs:()=>Re,OlP:()=>It,zs3:()=>xt,ZZ4:()=>Lg,aQg:()=>Vg,soG:()=>Zg,YKP:()=>jC,v3s:()=>rT,h0i:()=>ql,PXZ:()=>KA,R0b:()=>Di,FiY:()=>Sr,Lbi:()=>ZE,g9A:()=>qE,Qsj:()=>ZD,FYo:()=>kg,JOm:()=>Zr,Tiy:()=>Y_,q3G:()=>Dt,tp0:()=>hi,EAV:()=>aT,Rgc:()=>Nh,dDg:()=>nb,DyG:()=>yo,q4F:()=>q_,GfV:()=>PC,s_b:()=>jg,ifc:()=>xe,eFA:()=>ab,G48:()=>GA,Gpc:()=>H,X6Q:()=>Tv,_c5:()=>_T,VLi:()=>$A,c2e:()=>KE,zSh:()=>bs,wAp:()=>Qe,vHH:()=>se,EiD:()=>qr,mCW:()=>gr,qzn:()=>$i,JVY:()=>fl,pB0:()=>_f,eBb:()=>hl,L6k:()=>mf,LAX:()=>Fc,cg1:()=>V_,Tjo:()=>gT,kL8:()=>nC,yhl:()=>gf,dqk:()=>Tt,sIi:()=>Gl,CqO:()=>M_,QGY:()=>S_,F4k:()=>cy,RDi:()=>wa,AaK:()=>Q,z3N:()=>Yr,qOj:()=>Ch,TTD:()=>Lu,_Bn:()=>MC,xp6:()=>rd,uIk:()=>Dh,ekj:()=>P_,Suo:()=>IE,Xpm:()=>cn,lG2:()=>Ou,Yz7:()=>mt,cJS:()=>Qt,oAB:()=>Nu,Yjl:()=>tc,Y36:()=>Ih,_UZ:()=>uy,BQk:()=>T_,ynx:()=>A_,qZA:()=>I_,TgZ:()=>w_,EpF:()=>ly,n5z:()=>oi,Ikx:()=>L_,LFG:()=>Rt,$8M:()=>mn,NdJ:()=>R_,CRH:()=>AE,oxw:()=>py,Q6J:()=>b_,s9C:()=>N_,DdM:()=>gE,VKq:()=>mE,iGM:()=>wE,CHM:()=>Ls,LSH:()=>Xa,kYT:()=>ec,YNc:()=>m,_uU:()=>Ly,Oqu:()=>k_,hij:()=>Mg});var p=F(9765),ie=F(5319),A=F(7574),W=F(6682),ue=F(8819);function Y(e){for(let t in e)if(e[t]===Y)return t;throw Error("Could not find renamed property on target object.")}function de(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Q(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Q).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function z(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const P=Y({__forward_ref__:Y});function H(e){return e.__forward_ref__=H,e.toString=function(){return Q(this())},e}function O(e){return B(e)?e():e}function B(e){return"function"==typeof e&&e.hasOwnProperty(P)&&e.__forward_ref__===H}class se extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function ve(e){return"string"==typeof e?e:null==e?"":String(e)}function ye(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ve(e)}function Ct(e,t){const n=t?` in ${t}`:"";throw new se("201",`No provider for ${ye(e)} found${n}`)}function ke(e,t){null==e&&function(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function mt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Qt(e){return{providers:e.providers||[],imports:e.imports||[]}}function gn(e){return Cr(e,pt)||Cr(e,yn)}function Cr(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ss(e){return e&&(e.hasOwnProperty(ot)||e.hasOwnProperty(Cn))?e[ot]:null}const pt=Y({\u0275prov:Y}),ot=Y({\u0275inj:Y}),yn=Y({ngInjectableDef:Y}),Cn=Y({ngInjectorDef:Y});var Re=(()=>((Re=Re||{})[Re.Default=0]="Default",Re[Re.Host=1]="Host",Re[Re.Self=2]="Self",Re[Re.SkipSelf=4]="SkipSelf",Re[Re.Optional=8]="Optional",Re))();let kt;function en(e){const t=kt;return kt=e,t}function Ur(e,t,n){const i=gn(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&Re.Optional?null:void 0!==t?t:void Ct(Q(e),"Injector")}function ir(e){return{toString:e}.toString()}var ln=(()=>((ln=ln||{})[ln.OnPush=0]="OnPush",ln[ln.Default=1]="Default",ln))(),xe=(()=>((xe=xe||{})[xe.Emulated=0]="Emulated",xe[xe.None=2]="None",xe[xe.ShadowDom=3]="ShadowDom",xe))();const Je="undefined"!=typeof globalThis&&globalThis,xu="undefined"!=typeof window&&window,Ii="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,or="undefined"!=typeof global&&global,Tt=Je||or||xu||Ii,U={},V=[],$=Y({\u0275cmp:Y}),ae=Y({\u0275dir:Y}),Z=Y({\u0275pipe:Y}),Ie=Y({\u0275mod:Y}),Ge=Y({\u0275loc:Y}),ut=Y({\u0275fac:Y}),Et=Y({__NG_ELEMENT_ID__:Y});let wt=0;function cn(e){return ir(()=>{const n={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===ln.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||V,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||xe.Emulated,id:"c",styles:e.styles||V,_:null,setInput:null,schemas:e.schemas||null,tView:null},l=e.directives,f=e.features,g=e.pipes;return i.id+=wt++,i.inputs=va(e.inputs,n),i.outputs=va(e.outputs),f&&f.forEach(_=>_(i)),i.directiveDefs=l?()=>("function"==typeof l?l():l).map(Bn):null,i.pipeDefs=g?()=>("function"==typeof g?g():g).map(Xr):null,i})}function Bn(e){return In(e)||function(e){return e[ae]||null}(e)}function Xr(e){return function(e){return e[Z]||null}(e)}const _a={};function Nu(e){return ir(()=>{const t={type:e.type,bootstrap:e.bootstrap||V,declarations:e.declarations||V,imports:e.imports||V,exports:e.exports||V,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(_a[e.id]=e.type),t})}function ec(e,t){return ir(()=>{const n=ar(e,!0);n.declarations=t.declarations||V,n.imports=t.imports||V,n.exports=t.exports||V})}function va(e,t){if(null==e)return U;const n={};for(const i in e)if(e.hasOwnProperty(i)){let l=e[i],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),n[l]=i,t&&(t[l]=f)}return n}const Ou=cn;function tc(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function In(e){return e[$]||null}function ar(e,t){const n=e[Ie]||null;if(!n&&!0===t)throw new Error(`Type ${Q(e)} does not have '\u0275mod' property.`);return n}function zt(e){return Array.isArray(e)&&"object"==typeof e[1]}function ur(e){return Array.isArray(e)&&!0===e[1]}function Rs(e){return 0!=(8&e.flags)}function Nn(e){return 2==(2&e.flags)}function Ca(e){return 1==(1&e.flags)}function Hr(e){return null!==e.template}function Er(e){return 0!=(512&e[2])}function ti(e,t){return e.hasOwnProperty(ut)?e[ut]:null}class ku{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Lu(){return ba}function ba(e){return e.type.prototype.ngOnChanges&&(e.setInput=ic),rc}function rc(){const e=oc(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===U)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function ic(e,t,n,i){const l=oc(e)||function(e,t){return e[lo]=t}(e,{previous:U,current:null}),f=l.current||(l.current={}),g=l.previous,_=this.declaredInputs[n],y=g[_];f[_]=new ku(y&&y.currentValue,t,g===U),e[i]=t}Lu.ngInherit=!0;const lo="__ngSimpleChanges__";function oc(e){return e[lo]||null}let Da;function wa(e){Da=e}function jt(e){return!!e.listen}const qe={createRenderer:(e,t)=>void 0!==Da?Da:"undefined"!=typeof document?document:void 0};function Ft(e){for(;Array.isArray(e);)e=e[0];return e}function Ko(e,t){return Ft(t[e])}function lr(e,t){return Ft(t[e.index])}function Si(e,t){return e.data[t]}function $n(e,t){const n=t[e];return zt(n)?n:n[0]}function lc(e){return 4==(4&e[2])}function cc(e){return 128==(128&e[2])}function Ri(e,t){return null==t?null:e[t]}function Vu(e){e[18]=0}function xi(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const We={lFrame:Ni(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qd(){return We.bindingsEnabled}function pe(){return We.lFrame.lView}function ft(){return We.lFrame.tView}function Ls(e){return We.lFrame.contextLView=e,e[8]}function qt(){let e=Vs();for(;null!==e&&64===e.type;)e=e.parent;return e}function Vs(){return We.lFrame.currentTNode}function On(e,t){const n=We.lFrame;n.currentTNode=e,n.isParent=t}function Us(){return We.lFrame.isParent}function Bs(){We.lFrame.isParent=!1}function fo(){return We.isInCheckNoChangesMode}function ni(e){We.isInCheckNoChangesMode=e}function sn(){const e=We.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ri(){return We.lFrame.bindingIndex++}function pc(e,t){const n=We.lFrame;n.bindingIndex=n.bindingRootIndex=e,Gn(t)}function Gn(e){We.lFrame.currentDirectiveIndex=e}function Aa(){return We.lFrame.currentQueryIndex}function ho(e){We.lFrame.currentQueryIndex=e}function gc(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Bu(e,t,n){if(n&Re.SkipSelf){let l=t,f=e;for(;!(l=l.parent,null!==l||n&Re.Host||(l=gc(f),null===l||(f=f[15],10&l.type))););if(null===l)return!1;t=l,e=f}const i=We.lFrame=Ta();return i.currentTNode=t,i.lView=e,!0}function po(e){const t=Ta(),n=e[1];We.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ta(){const e=We.lFrame,t=null===e?null:e.child;return null===t?Ni(e):t}function Ni(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function mc(){const e=We.lFrame;return We.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ef=mc;function ii(){const e=mc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function fn(){return We.lFrame.selectedIndex}function Dr(e){We.lFrame.selectedIndex=e}function Xt(){const e=We.lFrame;return Si(e.tView,e.selectedIndex)}function Oi(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const f=e.data[n].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:_,ngAfterViewInit:y,ngAfterViewChecked:b,ngOnDestroy:w}=f;g&&(e.contentHooks||(e.contentHooks=[])).push(-n,g),_&&((e.contentHooks||(e.contentHooks=[])).push(n,_),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,_)),y&&(e.viewHooks||(e.viewHooks=[])).push(-n,y),b&&((e.viewHooks||(e.viewHooks=[])).push(n,b),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,b)),null!=w&&(e.destroyHooks||(e.destroyHooks=[])).push(n,w)}}function Pi(e,t,n){Fi(e,t,3,n)}function Hs(e,t,n,i){(3&e[2])===n&&Fi(e,t,n,i)}function $s(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Fi(e,t,n,i){const f=null!=i?i:-1,g=t.length-1;let _=0;for(let y=void 0!==i?65535&e[18]:0;y<g;y++)if("number"==typeof t[y+1]){if(_=t[y],null!=i&&_>=i)break}else t[y]<0&&(e[18]+=65536),(_<f||-1==f)&&(_c(e,n,t,y),e[18]=(4294901760&e[18])+y+2),y++}function _c(e,t,n,i){const l=n[i]<0,f=n[i+1],_=e[l?-n[i]:n[i]];if(l){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{f.call(_)}finally{}}}else try{f.call(_)}finally{}}class Xo{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Gu(e,t,n){const i=jt(e);let l=0;for(;l<n.length;){const f=n[l];if("number"==typeof f){if(0!==f)break;l++;const g=n[l++],_=n[l++],y=n[l++];i?e.setAttribute(t,_,y,g):t.setAttributeNS(g,_,y)}else{const g=f,_=n[++l];Ir(g)?i&&e.setProperty(t,g,_):i?e.setAttribute(t,g,_):t.setAttribute(g,_),l++}}return l}function yc(e){return 3===e||4===e||6===e}function Ir(e){return 64===e.charCodeAt(0)}function Ws(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const l=t[i];"number"==typeof l?n=l:0===n||Cc(e,n,l,null,-1===n||2===n?t[++i]:null)}}return e}function Cc(e,t,n,i,l){let f=0,g=e.length;if(-1===t)g=-1;else for(;f<e.length;){const _=e[f++];if("number"==typeof _){if(_===t){g=-1;break}if(_>t){g=f-1;break}}}for(;f<e.length;){const _=e[f];if("number"==typeof _)break;if(_===n){if(null===i)return void(null!==l&&(e[f+1]=l));if(i===e[f+1])return void(e[f+2]=l)}f++,null!==i&&f++,null!==l&&f++}-1!==g&&(e.splice(g,0,t),f=g+1),e.splice(f++,0,n),null!==i&&e.splice(f++,0,i),null!==l&&e.splice(f++,0,l)}function Sa(e){return-1!==e}function go(e){return 32767&e}function zs(e,t){let n=function(e){return e>>16}(e),i=t;for(;n>0;)i=i[15],n--;return i}let Ec=!0;function mo(e){const t=Ec;return Ec=e,t}let lp=0;function es(e,t){const n=an(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,zu(i.data,e),zu(t,null),zu(i.blueprint,null));const l=Xn(e,t),f=e.injectorIndex;if(Sa(l)){const g=go(l),_=zs(l,t),y=_[1].data;for(let b=0;b<8;b++)t[f+b]=_[g+b]|y[g+b]}return t[f+8]=l,f}function zu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function an(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Xn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,l=t;for(;null!==l;){const f=l[1],g=f.type;if(i=2===g?f.declTNode:1===g?l[6]:null,null===i)return-1;if(n++,l=l[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function _o(e,t,n){!function(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Et)&&(i=n[Et]),null==i&&(i=n[Et]=lp++);const l=255&i;t.data[e+(l>>5)]|=1<<l}(e,t,n)}function Dc(e,t,n){if(n&Re.Optional)return e;Ct(t,"NodeInjector")}function wc(e,t,n,i){if(n&Re.Optional&&void 0===i&&(i=null),0==(n&(Re.Self|Re.Host))){const l=e[9],f=en(void 0);try{return l?l.get(t,i,n&Re.Optional):Ur(t,i,n&Re.Optional)}finally{en(f)}}return Dc(i,t,n)}function Ys(e,t,n,i=Re.Default,l){if(null!==e){const f=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Et)?e[Et]:void 0;return"number"==typeof t?t>=0?255&t:Li:t}(n);if("function"==typeof f){if(!Bu(t,e,i))return i&Re.Host?Dc(l,n,i):wc(t,n,i,l);try{const g=f(i);if(null!=g||i&Re.Optional)return g;Ct(n)}finally{ef()}}else if("number"==typeof f){let g=null,_=an(e,t),y=-1,b=i&Re.Host?t[16][6]:null;for((-1===_||i&Re.SkipSelf)&&(y=-1===_?Xn(e,t):t[_+8],-1!==y&&Ra(i,!1)?(g=t[1],_=go(y),t=zs(y,t)):_=-1);-1!==_;){const w=t[1];if(qu(f,_,w.data)){const S=er(_,t,n,g,i,b);if(S!==Yu)return S}y=t[_+8],-1!==y&&Ra(i,t[1].data[_+8]===b)&&qu(f,_,t)?(g=w,_=go(y),t=zs(y,t)):_=-1}}}return wc(t,n,i,l)}const Yu={};function Li(){return new dr(qt(),pe())}function er(e,t,n,i,l,f){const g=t[1],_=g.data[e+8],w=ts(_,g,n,null==i?Nn(_)&&Ec:i!=g&&0!=(3&_.type),l&Re.Host&&f===_);return null!==w?Vi(t,g,w,_):Yu}function ts(e,t,n,i,l){const f=e.providerIndexes,g=t.data,_=1048575&f,y=e.directiveStart,w=f>>20,x=l?_+w:e.directiveEnd;for(let L=i?_:_+w;L<x;L++){const j=g[L];if(L<y&&n===j||L>=y&&j.type===n)return L}if(l){const L=g[y];if(L&&Hr(L)&&L.type===n)return y}return null}function Vi(e,t,n,i){let l=e[n];const f=t.data;if(function(e){return e instanceof Xo}(l)){const g=l;g.resolving&&function(e,t){throw new se("200",`Circular dependency in DI detected for ${e}`)}(ye(f[n]));const _=mo(g.canSeeViewProviders);g.resolving=!0;const y=g.injectImpl?en(g.injectImpl):null;Bu(e,i,Re.Default);try{l=e[n]=g.factory(void 0,f,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){const{ngOnChanges:i,ngOnInit:l,ngDoCheck:f}=t.type.prototype;if(i){const g=ba(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,g),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,g)}l&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,l),f&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,f),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,f))}(n,f[n],t)}finally{null!==y&&en(y),mo(_),g.resolving=!1,ef()}}return l}function qu(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Ra(e,t){return!(e&Re.Self||e&Re.Host&&t)}class dr{constructor(t,n){this._tNode=t,this._lView=n}get(t,n){return Ys(this._tNode,this._lView,t,void 0,n)}}function oi(e){return ir(()=>{const t=e.prototype.constructor,n=t[ut]||xa(t),i=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==i;){const f=l[ut]||xa(l);if(f&&f!==n)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function xa(e){return B(e)?()=>{const t=xa(O(e));return t&&t()}:ti(e)}function mn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let l=0;for(;l<i;){const f=n[l];if(yc(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<i&&"string"==typeof n[l];)l++;else{if(f===t)return n[l+1];l+=2}}}return null}(qt(),e)}const ns="__parameters__";function si(e,t,n){return ir(()=>{const i=function(e){return function(...n){if(e){const i=e(...n);for(const l in i)this[l]=i[l]}}}(t);function l(...f){if(this instanceof l)return i.apply(this,f),this;const g=new l(...f);return _.annotation=g,_;function _(y,b,w){const S=y.hasOwnProperty(ns)?y[ns]:Object.defineProperty(y,ns,{value:[]})[ns];for(;S.length<=w;)S.push(null);return(S[w]=S[w]||[]).push(g),y}}return n&&(l.prototype=Object.create(n.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}class It{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=mt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ac=new It("AnalyzeForEntryComponents"),yo=Function;function Lt(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),Lt(i,t)):t!==e&&t.push(i)}return t}function $t(e,t){e.forEach(n=>Array.isArray(n)?$t(n,t):t(n))}function li(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function rs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function An(e,t,n){let i=bo(e,t);return i>=0?e[1|i]=n:(i=~i,function(e,t,n,i){let l=e.length;if(l==t)e.push(n,i);else if(1===l)e.push(i,e[0]),e[0]=n;else{for(l--,e.push(e[l-1],e[l]);l>t;)e[l]=e[l-2],l--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function Tr(e,t){const n=bo(e,t);if(n>=0)return e[1|n]}function bo(e,t){return function(e,t,n){let i=0,l=e.length>>n;for(;l!==i;){const f=i+(l-i>>1),g=e[f<<n];if(t===g)return f<<n;g>t?l=f:i=f+1}return~(l<<n)}(e,t,1)}const Qs={},Ha="__NG_DI_FLAG__",Bi="ngTempTokenPath",cf=/\n/gm,as="__source",di=Y({provide:String,useValue:Y});let Do;function Wr(e){const t=Do;return Do=e,t}function Js(e,t=Re.Default){if(void 0===Do)throw new Error("inject() must be called from an injection context");return null===Do?Ur(e,void 0,t):Do.get(e,t&Re.Optional?null:void 0,t)}function Rt(e,t=Re.Default){return(kt||Js)(O(e),t)}function fi(e){const t=[];for(let n=0;n<e.length;n++){const i=O(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let l,f=Re.Default;for(let g=0;g<i.length;g++){const _=i[g],y=ls(_);"number"==typeof y?-1===y?l=_.token:f|=y:l=_}t.push(Rt(l,f))}else t.push(Rt(i))}return t}function Gt(e,t){return e[Ha]=t,e.prototype[Ha]=t,e}function ls(e){return e[Ha]}function Ga(e,t,n,i){const l=e[Bi];throw t[as]&&l.unshift(t[as]),e.message=function(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let l=Q(t);if(Array.isArray(t))l=t.map(Q).join(" -> ");else if("object"==typeof t){let f=[];for(let g in t)if(t.hasOwnProperty(g)){let _=t[g];f.push(g+":"+("string"==typeof _?JSON.stringify(_):Q(_)))}l=`{${f.join(", ")}}`}return`${n}${i?"("+i+")":""}[${l}]: ${e.replace(cf,"\n  ")}`}("\n"+e.message,l,n,i),e.ngTokenPath=l,e[Bi]=null,e}const zr=Gt(si("Inject",e=>({token:e})),-1),Sr=Gt(si("Optional"),8),hi=Gt(si("SkipSelf"),4);let To;function bn(e){var t;return(null===(t=function(){if(void 0===To&&(To=null,Tt.trustedTypes))try{To=Tt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return To}())||void 0===t?void 0:t.createHTML(e))||e}class Hi{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Oc extends Hi{getTypeName(){return"HTML"}}class Pc extends Hi{getTypeName(){return"Style"}}class cl extends Hi{getTypeName(){return"Script"}}class dl extends Hi{getTypeName(){return"URL"}}class qa extends Hi{getTypeName(){return"ResourceURL"}}function Yr(e){return e instanceof Hi?e.changingThisBreaksApplicationSecurity:e}function $i(e,t){const n=gf(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function gf(e){return e instanceof Hi&&e.getTypeName()||null}function fl(e){return new Oc(e)}function mf(e){return new Pc(e)}function hl(e){return new cl(e)}function Fc(e){return new dl(e)}function _f(e){return new qa(e)}class gl{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(bn(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class Za{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const i=this.inertDocument.createElement("body");n.appendChild(i)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=bn(t),n;const i=this.inertDocument.createElement("body");return i.innerHTML=bn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const n=t.attributes;for(let l=n.length-1;0<l;l--){const g=n.item(l).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&t.removeAttribute(g)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const yf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,So=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function gr(e){return(e=String(e)).match(yf)||e.match(So)?e:"unsafe:"+e}function mr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function gi(...e){const t={};for(const n of e)for(const i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}const Lc=mr("area,br,col,hr,img,wbr"),Gi=mr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vc=mr("rp,rt"),ra=gi(Lc,gi(Gi,mr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gi(Vc,mr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gi(Vc,Gi)),hs=mr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qa=mr("srcset"),Mo=gi(hs,Qa,mr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gp=mr("script,style,template");class nn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,i=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let l=this.checkClobberedElement(n,n.nextSibling);if(l){n=l;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!ra.hasOwnProperty(n))return this.sanitizedSomething=!0,!gp.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const i=t.attributes;for(let l=0;l<i.length;l++){const f=i.item(l),g=f.name,_=g.toLowerCase();if(!Mo.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let y=f.value;hs[_]&&(y=gr(y)),Qa[_]&&(e=y,y=(e=String(e)).split(",").map(t=>gr(t.trim())).join(", ")),this.buf.push(" ",g,'="',Ka(y),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();ra.hasOwnProperty(n)&&!Lc.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Ka(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Bc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ze=/([^\#-~ |!])/g;function Ka(e){return e.replace(/&/g,"&amp;").replace(Bc,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ze,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fn;function qr(e,t){let n=null;try{Fn=Fn||function(e){const t=new Za(e);return function(){try{return!!(new window.DOMParser).parseFromString(bn(""),"text/html")}catch(e){return!1}}()?new gl(t):t}(e);let i=t?String(t):"";n=Fn.getInertBodyElement(i);let l=5,f=i;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,i=f,f=n.innerHTML,n=Fn.getInertBodyElement(i)}while(i!==f);return bn((new nn).sanitizeChildren(Vt(n)||n))}finally{if(n){const i=Vt(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Vt(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Dt=(()=>((Dt=Dt||{})[Dt.NONE=0]="NONE",Dt[Dt.HTML=1]="HTML",Dt[Dt.STYLE=2]="STYLE",Dt[Dt.SCRIPT=3]="SCRIPT",Dt[Dt.URL=4]="URL",Dt[Dt.RESOURCE_URL=5]="RESOURCE_URL",Dt))();function Xa(e){const t=function(){const e=pe();return e&&e[12]}();return t?t.sanitize(Dt.URL,e)||"":$i(e,"URL")?Yr(e):gr(ve(e))}const vl="__ngContext__";function Dn(e,t){e[vl]=t}function Rr(e){const t=function(e){return e[vl]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Nr(e){return e.ngOriginalError}function Sf(e,...t){e.error(...t)}class ms{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),i=this._findContext(t),l=(e=t)&&e.ngErrorLogger||Sf;var e;l(this._console,"ERROR",t),n&&l(this._console,"ORIGINAL ERROR",n),i&&l(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?t.ngDebugContext||this._findContext(Nr(t)):null}_findOriginalError(t){let n=t&&Nr(t);for(;n&&Nr(n);)n=Nr(n);return n||null}}const aa=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt))();function Pr(e){return e instanceof Function?e():e}var Zr=(()=>((Zr=Zr||{})[Zr.Important=1]="Important",Zr[Zr.DashCase=2]="DashCase",Zr))();function zi(e,t){return undefined(e,t)}function _r(e){const t=e[3];return ur(t)?t[3]:t}function Il(e){return Tl(e[13])}function Al(e){return Tl(e[4])}function Tl(e){for(;null!==e&&!ur(e);)e=e[4];return e}function Oo(e,t,n,i,l){if(null!=i){let f,g=!1;ur(i)?f=i:zt(i)&&(g=!0,i=i[0]);const _=Ft(i);0===e&&null!==n?null==l?T(t,n,_):D(t,n,_,l||null,!0):1===e&&null!==n?D(t,n,_,l||null,!0):2===e?function(e,t,n){const i=k(e,t);i&&function(e,t,n,i){jt(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,_,g):3===e&&t.destroyNode(_),null!=f&&function(e,t,n,i,l){const f=n[7];f!==Ft(n)&&Oo(t,e,i,f,l);for(let _=10;_<n.length;_++){const y=n[_];_n(y[1],y,e,t,i,f)}}(t,e,f,n,l)}}function su(e,t,n){return jt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function au(e,t){const n=e[9],i=n.indexOf(t),l=t[3];1024&t[2]&&(t[2]&=-1025,xi(l,-1)),n.splice(i,1)}function Ml(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const l=i[17];null!==l&&l!==e&&au(l,i),t>0&&(e[n-1][4]=i[4]);const f=rs(e,10+t);!function(e,t){_n(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const g=f[19];null!==g&&g.detachView(f[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function u(e,t){if(!(256&t[2])){const n=t[11];jt(n)&&n.destroyNode&&_n(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return a(e[1],e);for(;t;){let n=null;if(zt(t))n=t[13];else{const i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)zt(t)&&a(t[1],t),t=t[3];null===t&&(t=e),zt(t)&&a(t[1],t),n=t&&t[4]}t=n}}(t)}}function a(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const l=t[n[i]];if(!(l instanceof Xo)){const f=n[i+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const _=l[f[g]],y=f[g+1];try{y.call(_)}finally{}}else try{f.call(l)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,i=t[7];let l=-1;if(null!==n)for(let f=0;f<n.length-1;f+=2)if("string"==typeof n[f]){const g=n[f+1],_="function"==typeof g?g(t):Ft(t[g]),y=i[l=n[f+2]],b=n[f+3];"boolean"==typeof b?_.removeEventListener(n[f],y,b):b>=0?i[l=b]():i[l=-b].unsubscribe(),f+=2}else{const g=i[l=n[f+1]];n[f].call(g)}if(null!==i){for(let f=l+1;f<i.length;f++)i[f]();t[7]=null}}(e,t),1===t[1].type&&jt(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&ur(t[3])){n!==t[3]&&au(n,t);const i=t[19];null!==i&&i.detachView(e)}}}function v(e,t,n){return function(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){const l=e.data[i.directiveStart].encapsulation;if(l===xe.None||l===xe.Emulated)return null}return lr(i,n)}(e,t.parent,n)}function D(e,t,n,i,l){jt(e)?e.insertBefore(t,n,i,l):t.insertBefore(n,i,l)}function T(e,t,n){jt(e)?e.appendChild(t,n):t.appendChild(n)}function R(e,t,n,i,l){null!==i?D(e,t,n,i,l):T(e,t,n)}function k(e,t){return jt(e)?e.parentNode(t):t.parentNode}let be=function(e,t,n){return 40&e.type?lr(e,n):null};function Fe(e,t,n,i){const l=v(e,i,t),f=t[11],_=function(e,t,n){return be(e,t,n)}(i.parent||t[6],i,t);if(null!=l)if(Array.isArray(n))for(let y=0;y<n.length;y++)R(f,l,n[y],_,!1);else R(f,l,n,_,!1)}function Ut(e,t){if(null!==t){const n=t.type;if(3&n)return lr(t,e);if(4&n)return _s(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return Ut(e,i);{const l=e[t.index];return ur(l)?_s(-1,l):Ft(l)}}if(32&n)return zi(t,e)()||Ft(e[t.index]);{const i=nr(e,t);return null!==i?Array.isArray(i)?i[0]:Ut(_r(e[16]),i):Ut(e,t.next)}}return null}function nr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function _s(e,t){const n=10+e+1;if(n<t.length){const i=t[n],l=i[1].firstChild;if(null!==l)return Ut(i,l)}return t[7]}function ua(e,t,n,i,l,f,g){for(;null!=n;){const _=i[n.index],y=n.type;if(g&&0===t&&(_&&Dn(Ft(_),i),n.flags|=4),64!=(64&n.flags))if(8&y)ua(e,t,n.child,i,l,f,!1),Oo(t,e,l,_,f);else if(32&y){const b=zi(n,i);let w;for(;w=b();)Oo(t,e,l,w,f);Oo(t,e,l,_,f)}else 16&y?Cp(e,t,i,n,l,f):Oo(t,e,l,_,f);n=g?n.projectionNext:n.next}}function _n(e,t,n,i,l,f){ua(n,i,e.firstChild,t,l,f,!1)}function Cp(e,t,n,i,l,f){const g=n[16],y=g[6].projection[i.projection];if(Array.isArray(y))for(let b=0;b<y.length;b++)Oo(t,e,l,y[b],f);else ua(e,t,y,g[3],l,f,!0)}function Yi(e,t,n){jt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Rl(e,t,n){jt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function lu(e,t,n){let i=e.length;for(;;){const l=e.indexOf(t,n);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const f=t.length;if(l+f===i||e.charCodeAt(l+f)<=32)return l}n=l+1}}const Ep="ng-template";function hm(e,t,n){let i=0;for(;i<e.length;){let l=e[i++];if(n&&"class"===l){if(l=e[i],-1!==lu(l.toLowerCase(),t,0))return!0}else if(1===l){for(;i<e.length&&"string"==typeof(l=e[i++]);)if(l.toLowerCase()===t)return!0;return!1}}return!1}function bp(e){return 4===e.type&&e.value!==Ep}function pm(e,t,n){return t===(4!==e.type||n?e.value:Ep)}function gm(e,t,n){let i=4;const l=e.attrs||[],f=function(e){for(let t=0;t<e.length;t++)if(yc(e[t]))return t;return e.length}(l);let g=!1;for(let _=0;_<t.length;_++){const y=t[_];if("number"!=typeof y){if(!g)if(4&i){if(i=2|1&i,""!==y&&!pm(e,y,n)||""===y&&1===t.length){if(vi(i))return!1;g=!0}}else{const b=8&i?y:t[++_];if(8&i&&null!==e.attrs){if(!hm(e.attrs,b,n)){if(vi(i))return!1;g=!0}continue}const S=Dp(8&i?"class":y,l,bp(e),n);if(-1===S){if(vi(i))return!1;g=!0;continue}if(""!==b){let x;x=S>f?"":l[S+1].toLowerCase();const L=8&i?x:null;if(L&&-1!==lu(L,b,0)||2&i&&b!==x){if(vi(i))return!1;g=!0}}}}else{if(!g&&!vi(i)&&!vi(y))return!1;if(g&&vi(y))continue;g=!1,i=y|1&i}}return vi(i)||g}function vi(e){return 0==(1&e)}function Dp(e,t,n,i){if(null===t)return-1;let l=0;if(i||!n){let f=!1;for(;l<t.length;){const g=t[l];if(g===e)return l;if(3===g||6===g)f=!0;else{if(1===g||2===g){let _=t[++l];for(;"string"==typeof _;)_=t[++l];continue}if(4===g)break;if(0===g){l+=4;continue}}l+=f?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Lf(e,t,n=!1){for(let i=0;i<t.length;i++)if(gm(e,t[i],n))return!0;return!1}function Vf(e,t){return e?":not("+t.trim()+")":t}function ht(e){let t=e[0],n=1,i=2,l="",f=!1;for(;n<e.length;){let g=e[n];if("string"==typeof g)if(2&i){const _=e[++n];l+="["+g+(_.length>0?'="'+_+'"':"")+"]"}else 8&i?l+="."+g:4&i&&(l+=" "+g);else""!==l&&!vi(g)&&(t+=Vf(f,l),l=""),i=g,f=f||!vi(i);n++}return""!==l&&(t+=Vf(f,l)),t}const et={};function rd(e){wp(ft(),pe(),fn()+e,fo())}function wp(e,t,n,i){if(!i)if(3==(3&t[2])){const f=e.preOrderCheckHooks;null!==f&&Pi(t,f,n)}else{const f=e.preOrderHooks;null!==f&&Hs(t,f,0,n)}Dr(n)}function id(e,t){return e<<17|t<<2}function yi(e){return e>>17&32767}function od(e){return 2|e}function qi(e){return(131068&e)>>2}function Ap(e,t){return-131069&e|t<<2}function Qr(e){return 1|e}function qf(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const l=n[i],f=n[i+1];if(-1!==f){const g=e.data[f];ho(l),g.contentQueries(2,t[f],f)}}}function kn(e,t,n,i,l,f,g,_,y,b){const w=t.blueprint.slice();return w[0]=l,w[2]=140|i,Vu(w),w[3]=w[15]=e,w[8]=n,w[10]=g||e&&e[10],w[11]=_||e&&e[11],w[12]=y||e&&e[12]||null,w[9]=b||e&&e[9]||null,w[6]=f,w[16]=2==t.type?e[16]:w,w}function la(e,t,n,i,l){let f=e.data[t];if(null===f)f=function(e,t,n,i,l){const f=Vs(),g=Us(),y=e.data[t]=function(e,t,n,i,l,f){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,n,t,i,l);return null===e.firstChild&&(e.firstChild=y),null!==f&&(g?null==f.child&&null!==y.parent&&(f.child=y):null===f.next&&(f.next=y)),y}(e,t,n,i,l),We.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=n,f.value=i,f.attrs=l;const g=function(){const e=We.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();f.injectorIndex=null===g?-1:g.injectorIndex}return On(f,!0),f}function Po(e,t,n,i){if(0===n)return-1;const l=t.length;for(let f=0;f<n;f++)t.push(i),e.blueprint.push(i),e.data.push(null);return l}function fu(e,t,n){po(t);try{const i=e.viewQuery;null!==i&&ha(1,i,n);const l=e.template;null!==l&&ld(e,t,l,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&qf(e,t),e.staticViewQueries&&ha(2,e.viewQuery,n);const f=e.components;null!==f&&function(e,t){for(let n=0;n<t.length;n++)Wp(e,t[n])}(t,f)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[2]&=-5,ii()}}function Es(e,t,n,i){const l=t[2];if(256==(256&l))return;po(t);const f=fo();try{Vu(t),function(e){We.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ld(e,t,n,2,i);const g=3==(3&l);if(!f)if(g){const b=e.preOrderCheckHooks;null!==b&&Pi(t,b,null)}else{const b=e.preOrderHooks;null!==b&&Hs(t,b,0,null),$s(t,0)}if(function(e){for(let t=Il(e);null!==t;t=Al(t)){if(!t[2])continue;const n=t[9];for(let i=0;i<n.length;i++){const l=n[i],f=l[3];0==(1024&l[2])&&xi(f,1),l[2]|=1024}}}(t),function(e){for(let t=Il(e);null!==t;t=Al(t))for(let n=10;n<t.length;n++){const i=t[n],l=i[1];cc(i)&&Es(l,i,l.template,i[8])}}(t),null!==e.contentQueries&&qf(e,t),!f)if(g){const b=e.contentCheckHooks;null!==b&&Pi(t,b)}else{const b=e.contentHooks;null!==b&&Hs(t,b,1),$s(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const l=n[i];if(l<0)Dr(~l);else{const f=l,g=n[++i],_=n[++i];pc(g,f),_(2,t[f])}}}finally{Dr(-1)}}(e,t);const _=e.components;null!==_&&function(e,t){for(let n=0;n<t.length;n++)Kr(e,t[n])}(t,_);const y=e.viewQuery;if(null!==y&&ha(2,y,i),!f)if(g){const b=e.viewCheckHooks;null!==b&&Pi(t,b)}else{const b=e.viewHooks;null!==b&&Hs(t,b,2),$s(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),f||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,xi(t[3],-1))}finally{ii()}}function Pp(e,t,n,i){const l=t[10],f=!fo(),g=lc(t);try{f&&!g&&l.begin&&l.begin(),g&&fu(e,t,i),Es(e,t,n,i)}finally{f&&!g&&l.end&&l.end()}}function ld(e,t,n,i,l){const f=fn(),g=2&i;try{Dr(-1),g&&t.length>20&&wp(e,t,20,fo()),n(i,l)}finally{Dr(f)}}function cd(e,t,n){if(Rs(t)){const l=t.directiveEnd;for(let f=t.directiveStart;f<l;f++){const g=e.data[f];g.contentQueries&&g.contentQueries(1,n[f],f)}}}function Qf(e,t,n){!Qd()||(function(e,t,n,i){const l=n.directiveStart,f=n.directiveEnd;e.firstCreatePass||es(n,t),Dn(i,t);const g=n.initialInputs;for(let _=l;_<f;_++){const y=e.data[_],b=Hr(y);b&&Bm(t,n,y);const w=Vi(t,e,_,n);Dn(w,t),null!==g&&kl(0,_-l,w,y,0,g),b&&($n(n.index,t)[8]=w)}}(e,t,n,lr(n,t)),128==(128&n.flags)&&function(e,t,n){const i=n.directiveStart,l=n.directiveEnd,g=n.index,_=We.lFrame.currentDirectiveIndex;try{Dr(g);for(let y=i;y<l;y++){const b=e.data[y],w=t[y];Gn(y),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Bp(b,w)}}finally{Dr(-1),Gn(_)}}(e,t,n))}function hu(e,t,n=lr){const i=t.localNames;if(null!==i){let l=t.index+1;for(let f=0;f<i.length;f+=2){const g=i[f+1],_=-1===g?n(t,e):e[g];e[l++]=_}}}function Kf(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=dd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function dd(e,t,n,i,l,f,g,_,y,b){const w=20+i,S=w+l,x=function(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:et);return n}(w,S),L="function"==typeof b?b():b;return x[1]={type:e,blueprint:x,template:n,queries:null,viewQuery:_,declTNode:t,data:x.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:y,consts:L,incompleteFirstPass:!1}}function fd(e,t,n,i){const l=uh(t);null===n?l.push(i):(l.push(n),e.firstCreatePass&&qp(e).push(i,l.length-1))}function Xf(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const l=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,l):n[i]=[t,l]}return n}function Fr(e,t,n,i,l,f,g,_){const y=lr(t,n);let w,b=t.inputs;!_&&null!=b&&(w=b[i])?(Kp(e,n,w,i,l),Nn(t)&&function(e,t){const n=$n(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(i=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),l=null!=g?g(l,t.value||"",i):l,jt(f)?f.setProperty(y,i,l):Ir(i)||(y.setProperty?y.setProperty(i,l):y[i]=l))}function hd(e,t,n,i){let l=!1;if(Qd()){const f=function(e,t,n){const i=e.directiveRegistry;let l=null;if(i)for(let f=0;f<i.length;f++){const g=i[f];Lf(n,g.selectors,!1)&&(l||(l=[]),_o(es(n,t),e,g.type),Hr(g)?(Fo(e,n),l.unshift(g)):l.push(g))}return l}(e,t,n),g=null===i?null:{"":-1};if(null!==f){l=!0,jp(n,e.data.length,f.length);for(let w=0;w<f.length;w++){const S=f[w];S.providersResolver&&S.providersResolver(S)}let _=!1,y=!1,b=Po(e,t,f.length,null);for(let w=0;w<f.length;w++){const S=f[w];n.mergedAttrs=Ws(n.mergedAttrs,S.hostAttrs),Hp(e,n,t,b,S),ca(b,S,g),null!==S.contentQueries&&(n.flags|=8),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(n.flags|=128);const x=S.type.prototype;!_&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),_=!0),!y&&(x.ngOnChanges||x.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),y=!0),b++}!function(e,t){const i=t.directiveEnd,l=e.data,f=t.attrs,g=[];let _=null,y=null;for(let b=t.directiveStart;b<i;b++){const w=l[b],S=w.inputs,x=null===f||bp(t)?null:$p(S,f);g.push(x),_=Xf(S,b,_),y=Xf(w.outputs,b,y)}null!==_&&(_.hasOwnProperty("class")&&(t.flags|=16),_.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=g,t.inputs=_,t.outputs=y}(e,n)}g&&function(e,t,n){if(t){const i=e.localNames=[];for(let l=0;l<t.length;l+=2){const f=n[t[l+1]];if(null==f)throw new se("301",`Export of name '${t[l+1]}' not found!`);i.push(t[l],f)}}}(n,i,g)}return n.mergedAttrs=Ws(n.mergedAttrs,n.attrs),l}function nh(e,t,n,i,l,f){const g=f.hostBindings;if(g){let _=e.hostBindingOpCodes;null===_&&(_=e.hostBindingOpCodes=[]);const y=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(_)!=y&&_.push(y),_.push(i,l,g)}}function Bp(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Fo(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function ca(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Hr(t)&&(n[""]=e)}}function jp(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Hp(e,t,n,i,l){e.data[i]=l;const f=l.factory||(l.factory=ti(l.type)),g=new Xo(f,Hr(l),null);e.blueprint[i]=g,n[i]=g,nh(e,t,0,i,Po(e,n,l.hostVars,et),l)}function Bm(e,t,n){const i=lr(t,e),l=Kf(n),f=e[10],g=fa(e,kn(e,l,null,n.onPush?64:16,i,t,f,f.createRenderer(i,n),null,null));e[t.index]=g}function Qi(e,t,n,i,l,f){const g=lr(e,t);!function(e,t,n,i,l,f,g){if(null==f)jt(e)?e.removeAttribute(t,l,n):t.removeAttribute(l);else{const _=null==g?ve(f):g(f,i||"",l);jt(e)?e.setAttribute(t,l,_,n):n?t.setAttributeNS(n,l,_):t.setAttribute(l,_)}}(t[11],g,f,e.value,n,i,l)}function kl(e,t,n,i,l,f){const g=f[t];if(null!==g){const _=i.setInput;for(let y=0;y<g.length;){const b=g[y++],w=g[y++],S=g[y++];null!==_?i.setInput(n,S,b,w):n[w]=S}}}function $p(e,t){let n=null,i=0;for(;i<t.length;){const l=t[i];if(0!==l)if(5!==l){if("number"==typeof l)break;e.hasOwnProperty(l)&&(null===n&&(n=[]),n.push(l,e[l],t[i+1])),i+=2}else i+=2;else i+=4}return n}function Gp(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function Kr(e,t){const n=$n(t,e);if(cc(n)){const i=n[1];80&n[2]?Es(i,n,i.template,n[8]):n[5]>0&&pd(n)}}function pd(e){for(let i=Il(e);null!==i;i=Al(i))for(let l=10;l<i.length;l++){const f=i[l];if(1024&f[2]){const g=f[1];Es(g,f,g.template,f[8])}else f[5]>0&&pd(f)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const l=$n(n[i],e);cc(l)&&l[5]>0&&pd(l)}}function Wp(e,t){const n=$n(t,e),i=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),fu(i,n,n[8])}function fa(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function oh(e){for(;e;){e[2]|=64;const t=_r(e);if(Er(e)&&!t)return e;e=t}return null}function ah(e,t,n){const i=t[10];i.begin&&i.begin();try{Es(e,t,e.template,n)}catch(l){throw Qp(t,l),l}finally{i.end&&i.end()}}function Ll(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=Rr(n),l=i[1];Pp(l,i,l.template,n)}}(e[8])}function ha(e,t,n){ho(0),t(e,n)}const md=(()=>Promise.resolve(null))();function uh(e){return e[7]||(e[7]=[])}function qp(e){return e.cleanup||(e.cleanup=[])}function Qp(e,t){const n=e[9],i=n?n.get(ms,null):null;i&&i.handleError(t)}function Kp(e,t,n,i,l){for(let f=0;f<n.length;){const g=n[f++],_=n[f++],y=t[g],b=e.data[g];null!==b.setInput?b.setInput(y,l,i,_):y[_]=l}}function ko(e,t,n){const i=Ko(t,e);!function(e,t,n){jt(e)?e.setValue(t,n):t.textContent=n}(e[11],i,n)}function gu(e,t,n){let i=n?e.styles:null,l=n?e.classes:null,f=0;if(null!==t)for(let g=0;g<t.length;g++){const _=t[g];"number"==typeof _?f=_:1==f?l=z(l,_):2==f&&(i=z(i,_+": "+t[++g]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=l:e.classesWithoutHost=l}const mu=new It("INJECTOR",-1);class Xp{get(t,n=Qs){if(n===Qs){const i=new Error(`NullInjectorError: No provider for ${Q(t)}!`);throw i.name="NullInjectorError",i}return n}}const bs=new It("Set Injector scope."),Vl={},Ul={};let ch;function eg(){return void 0===ch&&(ch=new Xp),ch}function tg(e,t=null,n=null,i){return new zm(e,n,t||eg(),i)}class zm{constructor(t,n,i,l=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];n&&$t(n,_=>this.processProvider(_,t,n)),$t([t],_=>this.processInjectorType(_,[],f)),this.records.set(mu,_u(void 0,this));const g=this.records.get(bs);this.scope=null!=g?g.value:null,this.source=l||("object"==typeof t?null:Q(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=Qs,i=Re.Default){this.assertNotDestroyed();const l=Wr(this),f=en(void 0);try{if(!(i&Re.SkipSelf)){let _=this.records.get(t);if(void 0===_){const y=("function"==typeof(e=t)||"object"==typeof e&&e instanceof It)&&gn(t);_=y&&this.injectableDefInScope(y)?_u(dh(t),Vl):null,this.records.set(t,_)}if(null!=_)return this.hydrate(t,_)}return(i&Re.Self?eg():this.parent).get(t,n=i&Re.Optional&&n===Qs?null:n)}catch(g){if("NullInjectorError"===g.name){if((g[Bi]=g[Bi]||[]).unshift(Q(t)),l)throw g;return Ga(g,t,"R3InjectorError",this.source)}throw g}finally{en(f),Wr(l)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,l)=>t.push(Q(l))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,i){if(!(t=O(t)))return!1;let l=Ss(t);const f=null==l&&t.ngModule||void 0,g=void 0===f?t:f,_=-1!==i.indexOf(g);if(void 0!==f&&(l=Ss(f)),null==l)return!1;if(null!=l.imports&&!_){let w;i.push(g);try{$t(l.imports,S=>{this.processInjectorType(S,n,i)&&(void 0===w&&(w=[]),w.push(S))})}finally{}if(void 0!==w)for(let S=0;S<w.length;S++){const{ngModule:x,providers:L}=w[S];$t(L,j=>this.processProvider(j,x,L||V))}}this.injectorDefTypes.add(g);const y=ti(g)||(()=>new g);this.records.set(g,_u(y,Vl));const b=l.providers;if(null!=b&&!_){const w=t;$t(b,S=>this.processProvider(S,w,b))}return void 0!==f&&void 0!==t.providers}processProvider(t,n,i){let l=vu(t=O(t))?t:O(t&&t.provide);const f=rg(e=t)?_u(void 0,e.useValue):_u(ng(e),Vl);var e;if(vu(t)||!0!==t.multi)this.records.get(l);else{let g=this.records.get(l);g||(g=_u(void 0,Vl,!0),g.factory=()=>fi(g.multi),this.records.set(l,g)),l=t,g.multi.push(t)}this.records.set(l,f)}hydrate(t,n){return n.value===Vl&&(n.value=Ul,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=O(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function dh(e){const t=gn(e),n=null!==t?t.factory:ti(e);if(null!==n)return n;if(e instanceof It)throw new Error(`Token ${Q(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const i=function(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${Q(e)}: (${i.join(", ")}).`)}const n=function(e){const t=e&&(e[pt]||e[yn]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function ng(e,t,n){let i;if(vu(e)){const l=O(e);return ti(l)||dh(l)}if(rg(e))i=()=>O(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...fi(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))i=()=>Rt(O(e.useExisting));else{const l=O(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ti(l)||dh(l);i=()=>new l(...fi(e.deps))}return i}function _u(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function rg(e){return null!==e&&"object"==typeof e&&di in e}function vu(e){return"function"==typeof e}const fh=function(e,t,n){return function(e,t=null,n=null,i){const l=tg(e,t,n,i);return l._resolveInjectorDefTypes(),l}({name:n},t,e,n)};class xt{static create(t,n){return Array.isArray(t)?fh(t,n,""):fh(t.providers,t.parent,t.name||"")}}function vg(e,t){Oi(Rr(e)[1],qt())}function Ch(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let l;if(Hr(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");l=t.\u0275dir}if(l){if(n){i.push(l);const g=e;g.inputs=Eh(e.inputs),g.declaredInputs=Eh(e.declaredInputs),g.outputs=Eh(e.outputs);const _=l.hostBindings;_&&bh(e,_);const y=l.viewQuery,b=l.contentQueries;if(y&&c_(e,y),b&&d_(e,b),de(e.inputs,l.inputs),de(e.declaredInputs,l.declaredInputs),de(e.outputs,l.outputs),Hr(l)&&l.data.animation){const w=e.data;w.animation=(w.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let g=0;g<f.length;g++){const _=f[g];_&&_.ngInherit&&_(e),_===Ch&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const l=e[i];l.hostVars=t+=l.hostVars,l.hostAttrs=Ws(l.hostAttrs,n=Ws(n,l.hostAttrs))}}(i)}function Eh(e){return e===U?{}:e===V?[]:e}function c_(e,t){const n=e.viewQuery;e.viewQuery=n?(i,l)=>{t(i,l),n(i,l)}:t}function d_(e,t){const n=e.contentQueries;e.contentQueries=n?(i,l,f)=>{t(i,l,f),n(i,l,f)}:t}function bh(e,t){const n=e.hostBindings;e.hostBindings=n?(i,l)=>{t(i,l),n(i,l)}:t}xt.THROW_IF_NOT_FOUND=Qs,xt.NULL=new Xp,xt.\u0275prov=mt({token:xt,providedIn:"any",factory:()=>Rt(mu)}),xt.__NG_ELEMENT_ID__=-1;let Cd=null;function $l(){if(!Cd){const e=Tt.Symbol;if(e&&e.iterator)Cd=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Cd=i)}}}return Cd}function Gl(e){return!!Ed(e)&&(Array.isArray(e)||!(e instanceof Map)&&$l()in e)}function Ed(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ji(e,t,n){return e[t]=n}function Yn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Dh(e,t,n,i){const l=pe();return Yn(l,ri(),t)&&(ft(),Qi(Xt(),l,e,t,n,i)),Dh}function ga(e,t,n,i){return Yn(e,ri(),n)?t+ve(n)+i:et}function m(e,t,n,i,l,f,g,_){const y=pe(),b=ft(),w=e+20,S=b.firstCreatePass?function(e,t,n,i,l,f,g,_,y){const b=t.consts,w=la(t,e,4,g||null,Ri(b,_));hd(t,n,w,Ri(b,y)),Oi(t,w);const S=w.tViews=dd(2,w,i,l,f,t.directiveRegistry,t.pipeRegistry,null,t.schemas,b);return null!==t.queries&&(t.queries.template(t,w),S.queries=t.queries.embeddedTView(w)),w}(w,b,y,t,n,i,l,f,g):b.data[w];On(S,!1);const x=y[11].createComment("");Fe(b,y,x,S),Dn(x,y),fa(y,y[w]=Gp(x,y,x,S)),Ca(S)&&Qf(b,y,S),null!=g&&hu(y,S,_)}function Ih(e,t=Re.Default){const n=pe();return null===n?Rt(e,t):Ys(qt(),n,O(e),t)}function b_(e,t,n){const i=pe();return Yn(i,ri(),t)&&Fr(ft(),Xt(),i,e,t,i[11],n,!1),b_}function D_(e,t,n,i,l){const g=l?"class":"style";Kp(e,n,t.inputs[g],g,i)}function w_(e,t,n,i){const l=pe(),f=ft(),g=20+e,_=l[11],y=l[g]=su(_,t,We.lFrame.currentNamespace),b=f.firstCreatePass?function(e,t,n,i,l,f,g){const _=t.consts,b=la(t,e,2,l,Ri(_,f));return hd(t,n,b,Ri(_,g)),null!==b.attrs&&gu(b,b.attrs,!1),null!==b.mergedAttrs&&gu(b,b.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,b),b}(g,f,l,0,t,n,i):f.data[g];On(b,!0);const w=b.mergedAttrs;null!==w&&Gu(_,y,w);const S=b.classes;null!==S&&Rl(_,y,S);const x=b.styles;null!==x&&Yi(_,y,x),64!=(64&b.flags)&&Fe(f,l,y,b),0===We.lFrame.elementDepthCount&&Dn(y,l),We.lFrame.elementDepthCount++,Ca(b)&&(Qf(f,l,b),cd(f,b,l)),null!==i&&hu(l,b)}function I_(){let e=qt();Us()?Bs():(e=e.parent,On(e,!1));const t=e;We.lFrame.elementDepthCount--;const n=ft();n.firstCreatePass&&(Oi(n,e),Rs(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&D_(n,t,pe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&D_(n,t,pe(),t.stylesWithoutHost,!1)}function uy(e,t,n,i){w_(e,t,n,i),I_()}function A_(e,t,n){const i=pe(),l=ft(),f=e+20,g=l.firstCreatePass?function(e,t,n,i,l){const f=t.consts,g=Ri(f,i),_=la(t,e,8,"ng-container",g);return null!==g&&gu(_,g,!0),hd(t,n,_,Ri(f,l)),null!==t.queries&&t.queries.elementStart(t,_),_}(f,l,i,t,n):l.data[f];On(g,!0);const _=i[f]=i[11].createComment("");Fe(l,i,_,g),Dn(_,i),Ca(g)&&(Qf(l,i,g),cd(l,g,i)),null!=n&&hu(i,g)}function T_(){let e=qt();const t=ft();Us()?Bs():(e=e.parent,On(e,!1)),t.firstCreatePass&&(Oi(t,e),Rs(e)&&t.queries.elementEnd(e))}function ly(){return pe()}function S_(e){return!!e&&"function"==typeof e.then}function cy(e){return!!e&&"function"==typeof e.subscribe}const M_=cy;function R_(e,t,n,i){const l=pe(),f=ft(),g=qt();return function(e,t,n,i,l,f,g,_){const y=Ca(i),w=e.firstCreatePass&&qp(e),S=t[8],x=uh(t);let L=!0;if(3&i.type||_){const K=lr(i,t),Ce=_?_(K):K,fe=x.length,Be=_?Ke=>_(Ft(Ke[i.index])):i.index;if(jt(n)){let Ke=null;if(!_&&y&&(Ke=function(e,t,n,i){const l=e.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const g=l[f];if(g===n&&l[f+1]===i){const _=t[7],y=l[f+2];return _.length>y?_[y]:null}"string"==typeof g&&(f+=2)}return null}(e,t,l,i.index)),null!==Ke)(Ke.__ngLastListenerFn__||Ke).__ngNextListenerFn__=f,Ke.__ngLastListenerFn__=f,L=!1;else{f=x_(i,t,S,f,!1);const yt=n.listen(Ce,l,f);x.push(f,yt),w&&w.push(l,Be,fe,fe+1)}}else f=x_(i,t,S,f,!0),Ce.addEventListener(l,f,g),x.push(f),w&&w.push(l,Be,fe,g)}else f=x_(i,t,S,f,!1);const j=i.outputs;let oe;if(L&&null!==j&&(oe=j[l])){const K=oe.length;if(K)for(let Ce=0;Ce<K;Ce+=2){const Un=t[oe[Ce]][oe[Ce+1]].subscribe(f),ro=x.length;x.push(f,Un),w&&w.push(l,i.index,ro,-(ro+1))}}}(f,l,l[11],g,e,t,!!n,i),R_}function hy(e,t,n,i){try{return!1!==n(i)}catch(l){return Qp(e,l),!1}}function x_(e,t,n,i,l){return function f(g){if(g===Function)return i;const _=2&e.flags?$n(e.index,t):t;0==(32&t[2])&&oh(_);let y=hy(t,0,i,g),b=f.__ngNextListenerFn__;for(;b;)y=hy(t,0,b,g)&&y,b=b.__ngNextListenerFn__;return l&&!1===y&&(g.preventDefault(),g.returnValue=!1),y}}function py(e=1){return function(e){return(We.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,We.lFrame.contextLView))[8]}(e)}function N_(e,t,n){return O_(e,"",t,"",n),N_}function O_(e,t,n,i,l){const f=pe(),g=ga(f,t,n,i);return g!==et&&Fr(ft(),Xt(),f,e,g,f[11],l,!1),O_}function Dy(e,t,n,i,l){const f=e[n+1],g=null===t;let _=i?yi(f):qi(f),y=!1;for(;0!==_&&(!1===y||g);){const w=e[_+1];c0(e[_],t)&&(y=!0,e[_+1]=i?Qr(w):od(w)),_=i?yi(w):qi(w)}y&&(e[n+1]=i?od(f):Qr(f))}function c0(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&bo(e,t)>=0}function P_(e,t){return function(e,t,n,i){const l=pe(),f=ft(),g=function(e){const t=We.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);f.firstUpdatePass&&function(e,t,n,i){const l=e.data;if(null===l[n+1]){const f=l[fn()],g=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(f,i)&&null===t&&!g&&(t=!1),t=function(e,t,n,i){const l=function(e){const t=We.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let f=i?t.residualClasses:t.residualStyles;if(null===l)0===(i?t.classBindings:t.styleBindings)&&(n=Ah(n=F_(null,e,t,n,i),t.attrs,i),f=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==l)if(n=F_(l,e,t,n,i),null===f){let y=function(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==qi(i))return e[yi(i)]}(e,t,i);void 0!==y&&Array.isArray(y)&&(y=F_(null,e,t,y[1],i),y=Ah(y,t.attrs,i),function(e,t,n,i){e[yi(n?t.classBindings:t.styleBindings)]=i}(e,t,i,y))}else f=function(e,t,n){let i;const l=t.directiveEnd;for(let f=1+t.directiveStylingLast;f<l;f++)i=Ah(i,e[f].hostAttrs,n);return Ah(i,t.attrs,n)}(e,t,i)}return void 0!==f&&(i?t.residualClasses=f:t.residualStyles=f),n}(l,f,t,i),function(e,t,n,i,l,f){let g=f?t.classBindings:t.styleBindings,_=yi(g),y=qi(g);e[i]=n;let w,b=!1;if(Array.isArray(n)){const S=n;w=S[1],(null===w||bo(S,w)>0)&&(b=!0)}else w=n;if(l)if(0!==y){const x=yi(e[_+1]);e[i+1]=id(x,_),0!==x&&(e[x+1]=Ap(e[x+1],i)),e[_+1]=function(e,t){return 131071&e|t<<17}(e[_+1],i)}else e[i+1]=id(_,0),0!==_&&(e[_+1]=Ap(e[_+1],i)),_=i;else e[i+1]=id(y,0),0===_?_=i:e[y+1]=Ap(e[y+1],i),y=i;b&&(e[i+1]=od(e[i+1])),Dy(e,w,i,!0),Dy(e,w,i,!1),function(e,t,n,i,l){const f=l?e.residualClasses:e.residualStyles;null!=f&&"string"==typeof t&&bo(f,t)>=0&&(n[i+1]=Qr(n[i+1]))}(t,w,e,i,f),g=id(_,y),f?t.classBindings=g:t.styleBindings=g}(l,f,t,n,g,i)}}(f,e,g,i),t!==et&&Yn(l,g,t)&&function(e,t,n,i,l,f,g,_){if(!(3&t.type))return;const y=e.data,b=y[_+1];Sg(function(e){return 1==(1&e)}(b)?Fy(y,t,n,l,qi(b),g):void 0)||(Sg(f)||function(e){return 2==(2&e)}(b)&&(f=Fy(y,null,n,l,_,g)),function(e,t,n,i,l){const f=jt(e);if(t)l?f?e.addClass(n,i):n.classList.add(i):f?e.removeClass(n,i):n.classList.remove(i);else{let g=-1===i.indexOf("-")?void 0:Zr.DashCase;if(null==l)f?e.removeStyle(n,i,g):n.style.removeProperty(i);else{const _="string"==typeof l&&l.endsWith("!important");_&&(l=l.slice(0,-10),g|=Zr.Important),f?e.setStyle(n,i,l,g):n.style.setProperty(i,l,_?"important":"")}}}(i,g,Ko(fn(),n),l,f))}(f,f.data[fn()],l,l[11],e,l[g+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Q(Yr(e)))),e}(t,n),i,g)}(e,t,null,!0),P_}function F_(e,t,n,i,l){let f=null;const g=n.directiveEnd;let _=n.directiveStylingLast;for(-1===_?_=n.directiveStart:_++;_<g&&(f=t[_],i=Ah(i,f.hostAttrs,l),f!==e);)_++;return null!==e&&(n.directiveStylingLast=_),i}function Ah(e,t,n){const i=n?1:2;let l=-1;if(null!==t)for(let f=0;f<t.length;f++){const g=t[f];"number"==typeof g?l=g:l===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),An(e,g,!!n||t[++f]))}return void 0===e?null:e}function Fy(e,t,n,i,l,f){const g=null===t;let _;for(;l>0;){const y=e[l],b=Array.isArray(y),w=b?y[1]:y,S=null===w;let x=n[l+1];x===et&&(x=S?V:void 0);let L=S?Tr(x,i):w===i?x:void 0;if(b&&!Sg(L)&&(L=Tr(y,i)),Sg(L)&&(_=L,g))return _;const j=e[l+1];l=g?yi(j):qi(j)}if(null!==t){let y=f?t.residualClasses:t.residualStyles;null!=y&&(_=Tr(y,i))}return _}function Sg(e){return void 0!==e}function Ly(e,t=""){const n=pe(),i=ft(),l=e+20,f=i.firstCreatePass?la(i,l,1,t,null):i.data[l],g=n[l]=function(e,t){return jt(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Fe(i,n,g,f),On(f,!1)}function k_(e){return Mg("",e,""),k_}function Mg(e,t,n){const i=pe(),l=ga(i,e,t,n);return l!==et&&ko(i,fn(),l),Mg}function L_(e,t,n){const i=pe();return Yn(i,ri(),t)&&Fr(ft(),Xt(),i,e,t,i[11],n,!0),L_}const zl=void 0;var W0=["en",[["a","p"],["AM","PM"],zl],[["AM","PM"],zl,zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zl,"{1} 'at' {0}",zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Id={};function V_(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=rC(t);if(n)return n;const i=t.split("-")[0];if(n=rC(i),n)return n;if("en"===i)return W0;throw new Error(`Missing locale data for the locale "${e}".`)}function nC(e){return V_(e)[Qe.PluralCase]}function rC(e){return e in Id||(Id[e]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[e]),Id[e]}var Qe=(()=>((Qe=Qe||{})[Qe.LocaleId=0]="LocaleId",Qe[Qe.DayPeriodsFormat=1]="DayPeriodsFormat",Qe[Qe.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qe[Qe.DaysFormat=3]="DaysFormat",Qe[Qe.DaysStandalone=4]="DaysStandalone",Qe[Qe.MonthsFormat=5]="MonthsFormat",Qe[Qe.MonthsStandalone=6]="MonthsStandalone",Qe[Qe.Eras=7]="Eras",Qe[Qe.FirstDayOfWeek=8]="FirstDayOfWeek",Qe[Qe.WeekendRange=9]="WeekendRange",Qe[Qe.DateFormat=10]="DateFormat",Qe[Qe.TimeFormat=11]="TimeFormat",Qe[Qe.DateTimeFormat=12]="DateTimeFormat",Qe[Qe.NumberSymbols=13]="NumberSymbols",Qe[Qe.NumberFormats=14]="NumberFormats",Qe[Qe.CurrencyCode=15]="CurrencyCode",Qe[Qe.CurrencySymbol=16]="CurrencySymbol",Qe[Qe.CurrencyName=17]="CurrencyName",Qe[Qe.Currencies=18]="Currencies",Qe[Qe.Directionality=19]="Directionality",Qe[Qe.PluralCase=20]="PluralCase",Qe[Qe.ExtraData=21]="ExtraData",Qe))();const Rg="en-US";let iC=Rg;function U_(e){ke(e,"Expected localeId to be defined"),"string"==typeof e&&(iC=e.toLowerCase().replace(/_/g,"-"))}function H_(e,t,n,i,l){if(e=O(e),Array.isArray(e))for(let f=0;f<e.length;f++)H_(e[f],t,n,i,l);else{const f=ft(),g=pe();let _=vu(e)?e:O(e.provide),y=ng(e);const b=qt(),w=1048575&b.providerIndexes,S=b.directiveStart,x=b.providerIndexes>>20;if(vu(e)||!e.multi){const L=new Xo(y,l,Ih),j=G_(_,t,l?w:w+x,S);-1===j?(_o(es(b,g),f,_),$_(f,e,t.length),t.push(_),b.directiveStart++,b.directiveEnd++,l&&(b.providerIndexes+=1048576),n.push(L),g.push(L)):(n[j]=L,g[j]=L)}else{const L=G_(_,t,w+x,S),j=G_(_,t,w,w+x),oe=L>=0&&n[L],K=j>=0&&n[j];if(l&&!K||!l&&!oe){_o(es(b,g),f,_);const Ce=function(e,t,n,i,l){const f=new Xo(e,n,Ih);return f.multi=[],f.index=t,f.componentProviders=0,SC(f,l,i&&!n),f}(l?HD:jD,n.length,l,i,y);!l&&K&&(n[j].providerFactory=Ce),$_(f,e,t.length,0),t.push(_),b.directiveStart++,b.directiveEnd++,l&&(b.providerIndexes+=1048576),n.push(Ce),g.push(Ce)}else $_(f,e,L>-1?L:j,SC(n[l?j:L],y,!l&&i));!l&&i&&K&&n[j].componentProviders++}}}function $_(e,t,n,i){const l=vu(t);if(l||function(e){return!!e.useClass}(t)){const g=(t.useClass||t).prototype.ngOnDestroy;if(g){const _=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const y=_.indexOf(n);-1===y?_.push(n,[i,g]):_[y+1].push(i,g)}else _.push(n,g)}}}function SC(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function G_(e,t,n,i){for(let l=n;l<i;l++)if(t[l]===e)return l;return-1}function jD(e,t,n,i){return W_(this.multi,[])}function HD(e,t,n,i){const l=this.multi;let f;if(this.providerFactory){const g=this.providerFactory.componentProviders,_=Vi(n,n[1],this.providerFactory.index,i);f=_.slice(0,g),W_(l,f);for(let y=g;y<_.length;y++)f.push(_[y])}else f=[],W_(l,f);return f}function W_(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function MC(e,t=[]){return n=>{n.providersResolver=(i,l)=>function(e,t,n){const i=ft();if(i.firstCreatePass){const l=Hr(e);H_(n,i.data,i.blueprint,l,!0),H_(t,i.data,i.blueprint,l,!1)}}(i,l?l(e):e,t)}}class RC{}const NC="ngComponent";class WD{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${Q(e)}. Did you add it to @NgModule.entryComponents?`);return t[NC]=e,t}(t)}}class Yl{}function Fg(...e){}function Td(e,t){return new Is(lr(e,t))}Yl.NULL=new WD;const qD=function(){return Td(qt(),pe())};let Is=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=qD,e})();function OC(e){return e instanceof Is?e.nativeElement:e}class kg{}let ZD=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>KD(),e})();const KD=function(){const e=pe(),n=$n(qt().index,e);return function(e){return e[11]}(zt(n)?n:e)};let Y_=(()=>{class e{}return e.\u0275prov=mt({token:e,providedIn:"root",factory:()=>null}),e})();class PC{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const q_=new PC("12.2.2");class FC{constructor(){}supports(t){return Gl(t)}create(t){return new tw(t)}}const ew=(e,t)=>t;class tw{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ew}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,l=0,f=null;for(;n||i;){const g=!i||n&&n.currentIndex<LC(i,l,f)?n:i,_=LC(g,l,f),y=g.currentIndex;if(g===i)l--,i=i._nextRemoved;else if(n=n._next,null==g.previousIndex)l++;else{f||(f=[]);const b=_-l,w=y-l;if(b!=w){for(let x=0;x<b;x++){const L=x<f.length?f[x]:f[x]=0,j=L+x;w<=j&&j<b&&(f[x]=L+1)}f[g.previousIndex]=w-b}}_!==y&&t(g,_,y)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Gl(t))throw new Error(`Error trying to diff '${Q(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,f,g,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let _=0;_<this.length;_++)f=t[_],g=this._trackByFn(_,f),null!==n&&Object.is(n.trackById,g)?(i&&(n=this._verifyReinsertion(n,f,g,_)),Object.is(n.item,f)||this._addIdentityChange(n,f)):(n=this._mismatch(n,f,g,_),i=!0),n=n._next}else l=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[$l()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,_=>{g=this._trackByFn(l,_),null!==n&&Object.is(n.trackById,g)?(i&&(n=this._verifyReinsertion(n,_,g,l)),Object.is(n.item,_)||this._addIdentityChange(n,_)):(n=this._mismatch(n,_,g,l),i=!0),n=n._next,l++}),this.length=l;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,l){let f;return null===t?f=this._itTail:(f=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,f,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,l))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,f,l)):t=this._addAfter(new nw(n,i),f,l),t}_verifyReinsertion(t,n,i,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==f?t=this._reinsertAfter(f,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,f=t._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const l=null===n?this._itHead:n._next;return t._next=l,t._prev=n,null===l?this._itTail=t:l._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new kC),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class nw{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rw{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class kC{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new rw,this.map.set(n,i)),i.add(t)}get(t,n){const l=this.map.get(t);return l?l.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LC(e,t,n){const i=e.previousIndex;if(null===i)return i;let l=0;return n&&i<n.length&&(l=n[i]),i+t+l}class VC{constructor(){}supports(t){return t instanceof Map||Ed(t)}create(){return new iw}}class iw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Ed(t)))throw new Error(`Error trying to diff '${Q(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,l)=>{if(n&&n.key===l)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const f=this._getOrCreateRecordForKey(l,i);n=this._insertBeforeOrAppend(n,f)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,n);const f=l._prev,g=l._next;return f&&(f._next=g),g&&(g._prev=f),l._next=null,l._prev=null,l}const i=new ow(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class ow{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UC(){return new Lg([new FC])}let Lg=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const l=i.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||UC()),deps:[[e,new hi,new Sr]]}}find(n){const i=this.factories.find(l=>l.supports(n));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=mt({token:e,providedIn:"root",factory:UC}),e})();function BC(){return new Vg([new VC])}let Vg=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const l=i.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||BC()),deps:[[e,new hi,new Sr]]}}find(n){const i=this.factories.find(l=>l.supports(n));if(i)return i;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=mt({token:e,providedIn:"root",factory:BC}),e})();function Ug(e,t,n,i,l=!1){for(;null!==n;){const f=t[n.index];if(null!==f&&i.push(Ft(f)),ur(f))for(let _=10;_<f.length;_++){const y=f[_],b=y[1].firstChild;null!==b&&Ug(y[1],y,b,i)}const g=n.type;if(8&g)Ug(e,t,n.child,i);else if(32&g){const _=zi(n,t);let y;for(;y=_();)i.push(y)}else if(16&g){const _=nr(t,n);if(Array.isArray(_))i.push(..._);else{const y=_r(t[16]);Ug(y[1],y,_,i,!0)}}n=l?n.projectionNext:n.next}return i}class xh{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Ug(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ur(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(Ml(t,i),rs(n,i))}this._attachedToViewContainer=!1}u(this._lView[1],this._lView)}onDestroy(t){fd(this._lView[1],this._lView,null,t)}markForCheck(){oh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ah(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){ni(!0);try{ah(e,t,n)}finally{ni(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,_n(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class aw extends xh{constructor(t){super(t),this._view=t}detectChanges(){Ll(this._view)}checkNoChanges(){!function(e){ni(!0);try{Ll(e)}finally{ni(!1)}}(this._view)}get context(){return null}}const lw=function(e){return function(e,t,n){if(Nn(e)&&!n){const i=$n(e.index,t);return new xh(i,i)}return 47&e.type?new xh(t[16],t):null}(qt(),pe(),16==(16&e))};let cw=(()=>{class e{}return e.__NG_ELEMENT_ID__=lw,e})();const hw=[new VC],gw=new Lg([new FC]),mw=new Vg(hw),vw=function(){return Bg(qt(),pe())};let Nh=(()=>{class e{}return e.__NG_ELEMENT_ID__=vw,e})();const yw=Nh,Cw=class extends yw{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t){const n=this._declarationTContainer.tViews,i=kn(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(i[19]=f.createEmbeddedView(n)),fu(n,i,t),new xh(i)}};function Bg(e,t){return 4&e.type?new Cw(t,e,Td(e,t)):null}class ql{}class jC{}const Dw=function(){return GC(qt(),pe())};let jg=(()=>{class e{}return e.__NG_ELEMENT_ID__=Dw,e})();const Iw=jg,HC=class extends Iw{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Td(this._hostTNode,this._hostLView)}get injector(){return new dr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Xn(this._hostTNode,this._hostLView);if(Sa(t)){const n=zs(t,this._hostLView),i=go(t);return new dr(n[1].data[i+8],n)}return new dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=$C(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,i){const l=t.createEmbeddedView(n||{});return this.insert(l,i),l}createComponent(t,n,i,l,f){const g=i||this.parentInjector;if(!f&&null==t.ngModule&&g){const y=g.get(ql,null);y&&(f=y)}const _=t.create(g,l,void 0,f);return this.insert(_.hostView,n),_}insert(t,n){const i=t._lView,l=i[1];if(ur(i[3])){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const S=i[3],x=new HC(S,S[6],S[3]);x.detach(x.indexOf(t))}}const f=this._adjustIndex(n),g=this._lContainer;!function(e,t,n,i){const l=10+i,f=n.length;i>0&&(n[l-1][4]=t),i<f-10?(t[4]=n[l],li(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const g=t[17];null!==g&&n!==g&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(g,t);const _=t[19];null!==_&&_.insertView(e),t[2]|=128}(l,i,g,f);const _=_s(f,g),y=i[11],b=k(y,g[7]);return null!==b&&function(e,t,n,i,l,f){i[0]=l,i[6]=t,_n(e,i,n,1,l,f)}(l,g[6],y,i,b,_),t.attachToViewContainerRef(),li(Z_(g),f,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=$C(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=Ml(this._lContainer,n);i&&(rs(Z_(this._lContainer),n),u(i[1],i))}detach(t){const n=this._adjustIndex(t,-1),i=Ml(this._lContainer,n);return i&&null!=rs(Z_(this._lContainer),n)?new xh(i):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function $C(e){return e[8]}function Z_(e){return e[8]||(e[8]=[])}function GC(e,t){let n;const i=t[e.index];if(ur(i))n=i;else{let l;if(8&e.type)l=Ft(i);else{const f=t[11];l=f.createComment("");const g=lr(e,t);D(f,k(f,g),l,function(e,t){return jt(e)?e.nextSibling(t):t.nextSibling}(f,g),!1)}t[e.index]=n=Gp(i,t,l,e),fa(t,n)}return new HC(n,e,t)}const xd={};class cE extends Yl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=In(t);return new fE(n,this.ngModule)}}function dE(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const EI=new It("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>aa});class fE extends RC{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(ht).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return dE(this.componentDef.inputs)}get outputs(){return dE(this.componentDef.outputs)}create(t,n,i,l){const f=(l=l||this.ngModule)?function(e,t){return{get:(n,i,l)=>{const f=e.get(n,xd,l);return f!==xd||i===xd?f:t.get(n,i,l)}}}(t,l.injector):t,g=f.get(kg,qe),_=f.get(Y_,null),y=g.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",w=i?function(e,t,n){if(jt(e))return e.selectRootElement(t,n===xe.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(y,i,this.componentDef.encapsulation):su(g.createRenderer(null,this.componentDef),b,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(b)),S=this.componentDef.onPush?576:528,x=function(e,t){return{components:[],scheduler:e||aa,clean:md,playerHandler:t||null,flags:0}}(),L=dd(0,null,null,1,0,null,null,null,null,null),j=kn(null,L,x,S,null,null,g,y,_,f);let oe,K;po(j);try{const Ce=function(e,t,n,i,l,f){const g=n[1];n[20]=e;const y=la(g,20,2,"#host",null),b=y.mergedAttrs=t.hostAttrs;null!==b&&(gu(y,b,!0),null!==e&&(Gu(l,e,b),null!==y.classes&&Rl(l,e,y.classes),null!==y.styles&&Yi(l,e,y.styles)));const w=i.createRenderer(e,t),S=kn(n,Kf(t),null,t.onPush?64:16,n[20],y,i,w,f||null,null);return g.firstCreatePass&&(_o(es(y,n),g,t.type),Fo(g,y),jp(y,n.length,1)),fa(n,S),n[20]=S}(w,this.componentDef,j,g,y);if(w)if(i)Gu(y,w,["ng-version",q_.full]);else{const{attrs:fe,classes:Be}=function(e){const t=[],n=[];let i=1,l=2;for(;i<e.length;){let f=e[i];if("string"==typeof f)2===l?""!==f&&t.push(f,e[++i]):8===l&&n.push(f);else{if(!vi(l))break;l=f}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);fe&&Gu(y,w,fe),Be&&Be.length>0&&Rl(y,w,Be.join(" "))}if(K=Si(L,20),void 0!==n){const fe=K.projection=[];for(let Be=0;Be<this.ngContentSelectors.length;Be++){const Ke=n[Be];fe.push(null!=Ke?Array.from(Ke):null)}}oe=function(e,t,n,i,l){const f=n[1],g=function(e,t,n){const i=qt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Hp(e,i,t,Po(e,t,1,null),n));const l=Vi(t,e,i.directiveStart,i);Dn(l,t);const f=lr(i,t);return f&&Dn(f,t),l}(f,n,t);if(i.components.push(g),e[8]=g,l&&l.forEach(y=>y(g,t)),t.contentQueries){const y=qt();t.contentQueries(1,g,y.directiveStart)}const _=qt();return!f.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Dr(_.index),nh(n[1],_,0,_.directiveStart,_.directiveEnd,t),Bp(t,g)),g}(Ce,this.componentDef,j,x,[vg]),fu(L,j,null)}finally{ii()}return new wI(this.componentType,oe,Td(K,j),j,K)}}class wI extends class{}{constructor(t,n,i,l,f){super(),this.location=i,this._rootLView=l,this._tNode=f,this.instance=n,this.hostView=this.changeDetectorRef=new aw(l),this.componentType=t}get injector(){return new dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Nd=new Map;class TI extends ql{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new cE(this);const i=ar(t),l=t[Ge]||null;l&&U_(l),this._bootstrapComponents=Pr(i.bootstrap),this._r3Injector=tg(t,n,[{provide:ql,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver}],Q(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=xt.THROW_IF_NOT_FOUND,i=Re.Default){return t===xt||t===ql||t===mu?this:this._r3Injector.get(t,n,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class uv extends jC{constructor(t){super(),this.moduleType=t,null!==ar(t)&&function(e){const t=new Set;!function n(i){const l=ar(i,!0),f=l.id;null!==f&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${Q(t)} vs ${Q(t.name)}`)}(f,Nd.get(f),i),Nd.set(f,i));const g=Pr(l.imports);for(const _ of g)t.has(_)||(t.add(_),n(_))}(e)}(t)}create(t){return new TI(this.moduleType,t)}}function gE(e,t,n){const i=sn()+e,l=pe();return l[i]===et?Ji(l,i,n?t.call(n):t()):function(e,t){return e[t]}(l,i)}function mE(e,t,n,i){return function(e,t,n,i,l,f){const g=t+n;return Yn(e,g,l)?Ji(e,g+1,f?i.call(f,l):i(l)):function(e,t){const n=e[t];return n===et?void 0:n}(e,g+1)}(pe(),sn(),e,t,n,i)}function lv(e){return t=>{setTimeout(e,void 0,t)}}const As=class extends p.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){var l,f,g;let _=t,y=n||(()=>null),b=i;if(t&&"object"==typeof t){const S=t;_=null===(l=S.next)||void 0===l?void 0:l.bind(S),y=null===(f=S.error)||void 0===f?void 0:f.bind(S),b=null===(g=S.complete)||void 0===g?void 0:g.bind(S)}this.__isAsync&&(y=lv(y),_&&(_=lv(_)),b&&(b=lv(b)));const w=super.subscribe({next:_,error:y,complete:b});return t instanceof ie.w&&t.add(w),w}};function GI(){return this._results[$l()]()}class zg{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=$l(),i=zg.prototype;i[n]||(i[n]=GI)}get changes(){return this._changes||(this._changes=new As)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const l=Lt(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let l=e[i],f=t[i];if(n&&(l=n(l),f=n(f)),f!==l)return!1}return!0}(i._results,l,n))&&(i._results=l,i.length=l.length,i.last=l[this.length-1],i.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class cv{constructor(t){this.queryList=t,this.matches=null}clone(){return new cv(this.queryList)}setDirty(){this.queryList.setDirty()}}class dv{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,l=[];for(let f=0;f<i;f++){const g=n.getByIndex(f);l.push(this.queries[g.indexInDeclarationView].clone())}return new dv(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==ME(t,n).matches&&this.queries[n].setDirty()}}class bE{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class fv{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const l=null!==n?n.length:0,f=this.getByIndex(i).embeddedTView(t,l);f&&(f.indexInDeclarationView=i,null!==n?n.push(f):n=[f])}return null!==n?new fv(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class hv{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new hv(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let l=0;l<i.length;l++){const f=i[l];this.matchTNodeWithReadOption(t,n,YI(n,f)),this.matchTNodeWithReadOption(t,n,ts(n,t,f,!1,!1))}else i===Nh?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ts(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const l=this.metadata.read;if(null!==l)if(l===Is||l===jg||l===Nh&&4&n.type)this.addMatch(n.index,-2);else{const f=ts(n,t,l,!1,!1);null!==f&&this.addMatch(n.index,f)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function YI(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function ZI(e,t,n,i){return-1===n?function(e,t){return 11&e.type?Td(e,t):4&e.type?Bg(e,t):null}(t,e):-2===n?function(e,t,n){return n===Is?Td(t,e):n===Nh?Bg(t,e):n===jg?GC(t,e):void 0}(e,t,i):Vi(e,e[1],n,t)}function DE(e,t,n,i){const l=t[19].queries[i];if(null===l.matches){const f=e.data,g=n.matches,_=[];for(let y=0;y<g.length;y+=2){const b=g[y];_.push(b<0?null:ZI(t,f[b],g[y+1],n.metadata.read))}l.matches=_}return l.matches}function pv(e,t,n,i){const l=e.queries.getByIndex(n),f=l.matches;if(null!==f){const g=DE(e,t,l,n);for(let _=0;_<f.length;_+=2){const y=f[_];if(y>0)i.push(g[_/2]);else{const b=f[_+1],w=t[-y];for(let S=10;S<w.length;S++){const x=w[S];x[17]===x[3]&&pv(x[1],x,b,i)}if(null!==w[9]){const S=w[9];for(let x=0;x<S.length;x++){const L=S[x];pv(L[1],L,b,i)}}}}}return i}function wE(e){const t=pe(),n=ft(),i=Aa();ho(i+1);const l=ME(n,i);if(e.dirty&&lc(t)===(2==(2&l.metadata.flags))){if(null===l.matches)e.reset([]);else{const f=l.crossesNgTemplate?pv(n,t,i,[]):DE(n,t,l,i);e.reset(f,OC),e.notifyOnChanges()}return!0}return!1}function IE(e,t,n,i){const l=ft();if(l.firstCreatePass){const f=qt();(function(e,t,n){null===e.queries&&(e.queries=new fv),e.queries.track(new hv(t,n))})(l,new bE(t,n,i),f.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(l,e),2==(2&n)&&(l.staticContentQueries=!0)}!function(e,t,n){const i=new zg(4==(4&n));fd(e,t,i,i.destroy),null===t[19]&&(t[19]=new dv),t[19].queries.push(new cv(i))}(l,pe(),n)}function AE(){return e=pe(),t=Aa(),e[19].queries[t].queryList;var e,t}function ME(e,t){return e.queries.getByIndex(t)}const Cv=new It("Application Initializer");let Pd=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Fg,this.reject=Fg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,l)=>{this.resolve=i,this.reject=l})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const f=this.appInits[l]();if(S_(f))n.push(f);else if(M_(f)){const g=new Promise((_,y)=>{f.subscribe({complete:_,error:y})});n.push(g)}}Promise.all(n).then(()=>{i()}).catch(l=>{this.reject(l)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Rt(Cv,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const YE=new It("AppId"),TA={provide:YE,useFactory:function(){return`${Ev()}${Ev()}${Ev()}`},deps:[]};function Ev(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qE=new It("Platform Initializer"),ZE=new It("Platform ID"),QE=new It("appBootstrapListener");let KE=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const Zg=new It("LocaleId"),JE=new It("DefaultCurrencyCode");class MA{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const bv=function(e){return new uv(e)},RA=bv,xA=function(e){return Promise.resolve(bv(e))},XE=function(e){const t=bv(e),i=Pr(ar(e).declarations).reduce((l,f)=>{const g=In(f);return g&&l.push(new fE(g)),l},[]);return new MA(t,i)},NA=XE,OA=function(e){return Promise.resolve(XE(e))};let Gh=(()=>{class e{constructor(){this.compileModuleSync=RA,this.compileModuleAsync=xA,this.compileModuleAndAllComponentsSync=NA,this.compileModuleAndAllComponentsAsync=OA}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const kA=(()=>Promise.resolve(0))();function Dv(e){"undefined"==typeof Zone?kA.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Di{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new As(!1),this.onMicrotaskEmpty=new As(!1),this.onStable=new As(!1),this.onError=new As(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!i&&n,l.shouldCoalesceRunChangeDetection=i,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let e=Tt.requestAnimationFrame,t=Tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Tt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Iv(e),e.isCheckStableRunning=!0,wv(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Iv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,l,f,g,_)=>{try{return eb(e),n.invokeTask(l,f,g,_)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||e.shouldCoalesceRunChangeDetection)&&t(),tb(e)}},onInvoke:(n,i,l,f,g,_,y)=>{try{return eb(e),n.invoke(l,f,g,_,y)}finally{e.shouldCoalesceRunChangeDetection&&t(),tb(e)}},onHasTask:(n,i,l,f)=>{n.hasTask(l,f),i===l&&("microTask"==f.change?(e._hasPendingMicrotasks=f.microTask,Iv(e),wv(e)):"macroTask"==f.change&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(n,i,l,f)=>(n.handleError(l,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Di.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Di.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,l){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+l,t,VA,Fg,Fg);try{return f.runTask(g,n,i)}finally{f.cancelTask(g)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const VA={};function wv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Iv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function eb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function tb(e){e._nesting--,wv(e)}class jA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new As,this.onMicrotaskEmpty=new As,this.onStable=new As,this.onError=new As}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,l){return t.apply(n,i)}}let nb=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Di.assertNotInAngularZone(),Dv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dv(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,l){let f=-1;i&&i>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==f),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:f,updateCb:l})}whenStable(n,i,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,i,l){return[]}}return e.\u0275fac=function(n){return new(n||e)(Rt(Di))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),rb=(()=>{class e{constructor(){this._applications=new Map,Av.addToWindow(this)}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Av.findTestabilityInTree(this,n,i)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();class HA{addToWindow(t){}findTestabilityInTree(t,n,i){return null}}function $A(e){Av=e}let Av=new HA,ib=!0,ob=!1;function Tv(){return ob=!0,ib}function GA(){if(ob)throw new Error("Cannot enable prod mode after platform setup.");ib=!1}let Ho;const sb=new It("AllowMultipleToken");class KA{constructor(t,n){this.name=t,this.token=n}}function ab(e,t,n=[]){const i=`Platform: ${t}`,l=new It(i);return(f=[])=>{let g=ub();if(!g||g.injector.get(sb,!1))if(e)e(n.concat(f).concat({provide:l,useValue:!0}));else{const _=n.concat(f).concat({provide:l,useValue:!0},{provide:bs,useValue:"platform"});!function(e){if(Ho&&!Ho.destroyed&&!Ho.injector.get(sb,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ho=e.get(lb);const t=e.get(qE,null);t&&t.forEach(n=>n())}(xt.create({providers:_,name:i}))}return function(e){const t=ub();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(l)}}function ub(){return Ho&&!Ho.destroyed?Ho:null}let lb=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const _=function(e,t){let n;return n="noop"===e?new jA:("zone.js"===e?void 0:e)||new Di({enableLongStackTrace:Tv(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),y=[{provide:Di,useValue:_}];return _.run(()=>{const b=xt.create({providers:y,parent:this.injector,name:n.moduleType.name}),w=n.create(b),S=w.injector.get(ms,null);if(!S)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const x=_.onError.subscribe({next:L=>{S.handleError(L)}});w.onDestroy(()=>{Sv(this._modules,w),x.unsubscribe()})}),function(e,t,n){try{const i=n();return S_(i)?i.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(S,_,()=>{const x=w.injector.get(Pd);return x.runInitializers(),x.donePromise.then(()=>(U_(w.injector.get(Zg,Rg)||Rg),this._moduleDoBootstrap(w),w))})})}bootstrapModule(n,i=[]){const l=cb({},i);return function(e,t,n){const i=new uv(n);return Promise.resolve(i)}(0,0,n).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(n){const i=n.injector.get(Wh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(l=>i.bootstrap(l));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${Q(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Rt(xt))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();function cb(e,t){return Array.isArray(t)?t.reduce(cb,e):Object.assign(Object.assign({},e),t)}let Wh=(()=>{class e{constructor(n,i,l,f,g){this._zone=n,this._injector=i,this._exceptionHandler=l,this._componentFactoryResolver=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new A.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),y=new A.y(b=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{Di.assertNotInAngularZone(),Dv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Di.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{w.unsubscribe(),S.unsubscribe()}});this.isStable=(0,W.T)(_,y.pipe((0,ue.B)()))}bootstrap(n,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=n instanceof RC?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(l.componentType);const f=function(e){return e.isBoundToModule}(l)?void 0:this._injector.get(ql),_=l.create(xt.NULL,[],i||l.selector,f),y=_.location.nativeElement,b=_.injector.get(nb,null),w=b&&_.injector.get(rb);return b&&w&&w.registerApplication(y,b),_.onDestroy(()=>{this.detachView(_.hostView),Sv(this.components,_),w&&w.unregisterApplication(y)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Sv(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(QE,[]).concat(this._bootstrapListeners).forEach(l=>l(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(Rt(Di),Rt(xt),Rt(ms),Rt(Yl),Rt(Pd))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();function Sv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class rT{}class oT{}const sT={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let aT=(()=>{class e{constructor(n,i){this._compiler=n,this._config=i||sT}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[i,l]=n.split("#");return void 0===l&&(l="default"),F(8255)(i).then(f=>f[l]).then(f=>pb(f,i,l)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(n){let[i,l]=n.split("#"),f="NgFactory";return void 0===l&&(l="default",f=""),F(8255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(g=>g[l+f]).then(g=>pb(g,i,l))}}return e.\u0275fac=function(n){return new(n||e)(Rt(Gh),Rt(oT,8))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();function pb(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const gT=function(e){return null},_T=ab(null,"core",[{provide:ZE,useValue:"unknown"},{provide:lb,deps:[xt]},{provide:rb,deps:[]},{provide:KE,deps:[]}]),bT=[{provide:Wh,useClass:Wh,deps:[Di,xt,ms,Yl,Pd]},{provide:EI,deps:[Di],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:Pd,useClass:Pd,deps:[[new Sr,Cv]]},{provide:Gh,useClass:Gh,deps:[]},TA,{provide:Lg,useFactory:function(){return gw},deps:[]},{provide:Vg,useFactory:function(){return mw},deps:[]},{provide:Zg,useFactory:function(e){return U_(e=e||"undefined"!=typeof $localize&&$localize.locale||Rg),e},deps:[[new zr(Zg),new Sr,new hi]]},{provide:JE,useValue:"USD"}];let wT=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Rt(Wh))},e.\u0275mod=Nu({type:e}),e.\u0275inj=Qt({providers:bT}),e})()},57:(Pe,me,F)=>{"use strict";F.d(me,{hO:()=>At,xv:()=>Ae,Dh:()=>ce,HU:()=>H,GT:()=>se,sI:()=>Nt,on:()=>Te,ss:()=>O,pX:()=>q,yq:()=>Ye});var p=F(7771),ie=F(3637),A=F(3342),W=F(3101),ue=F(309),Y=F(7716),de=F(2329);function Q(){}Pe=F.hmd(Pe);class z{constructor(ne,re=p.N){this.zone=ne,this.delegate=re}now(){return this.delegate.now()}schedule(ne,re,X){const he=this.zone;return this.delegate.schedule(function(He){he.runGuarded(()=>{ne.apply(this,[He])})},re,X)}}class P{constructor(ne){this.zone=ne,this.task=null}call(ne,re){const X=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Q,{},Q,Q)),re.pipe((0,A.b)({next:X,complete:X,error:X})).subscribe(ne).add(X)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class H{constructor(ne){this.ngZone=ne,this.outsideAngular=ne.runOutsideAngular(()=>new z(Zone.current)),this.insideAngular=ne.run(()=>new z(Zone.current,ie.z))}}function O(ee){return function(re){return(re=re.lift(new P(ee.ngZone))).pipe((0,W.R)(ee.outsideAngular),(0,ue.QV)(ee.insideAngular))}}const B=["ngOnDestroy"],q=(ee,ne,re,X={})=>new Proxy(ee,{get:(he,te)=>re.runOutsideAngular(()=>{var He;if(ee[te])return(null===(He=null==X?void 0:X.spy)||void 0===He?void 0:He.get)&&X.spy.get(te,ee[te]),ee[te];if(B.indexOf(te)>-1)return()=>{};const $e=ne.toPromise().then(Ot=>{const Ve=Ot&&Ot[te];return"function"==typeof Ve?Ve.bind(Ot):Ve&&Ve.then?Ve.then(ke=>re.run(()=>ke)):re.run(()=>Ve)});return new Proxy(()=>{},{get:(Ot,Ve)=>$e[Ve],apply:(Ot,Ve,ke)=>$e.then(Me=>{var Ne;const nt=Me&&Me(...ke);return(null===(Ne=null==X?void 0:X.spy)||void 0===Ne?void 0:Ne.apply)&&X.spy.apply(te,ke,nt),nt})})})}),se=(ee,ne)=>{ne.forEach(re=>{Object.getOwnPropertyNames(re.prototype||re).forEach(X=>{Object.defineProperty(ee.prototype,X,Object.getOwnPropertyDescriptor(re.prototype||re,X))})})},ce=new Y.OlP("angularfire2.app.options"),Ae=new Y.OlP("angularfire2.app.nameOrConfig"),ye=new Y.GfV("6.1.5");function Te(ee,ne,re){const he="object"==typeof re&&re||{};he.name=he.name||"string"==typeof re&&re||"[DEFAULT]";const He=de.Z.apps.filter($e=>$e&&$e.name===he.name)[0]||ne.runOutsideAngular(()=>de.Z.initializeApp(ee,he));try{JSON.stringify(ee)!==JSON.stringify(He.options)&&we("error",`${He.name} Firebase App already initialized with different options${Pe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch($e){}return He}const Ye=()=>{we("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},we=(ee,...ne)=>{(0,Y.X6Q)()&&"undefined"!=typeof console&&console[ee](...ne)};function Nt(ee,ne,re,X,he){const[te,...He]=globalThis.\u0275AngularfireInstanceCache.get(ee)||[];if(te){try{he.some(($e,Ot)=>{const Ve=He[Ot];return $e&&"object"==typeof $e?JSON.stringify($e)!==JSON.stringify(Ve):$e!==Ve})&&we("error",`${ne} was already initialized on the ${re.name} Firebase App instance with different settings.${Pe.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch($e){}return te}{const $e=X();return globalThis.\u0275AngularfireInstanceCache.set(ee,[$e,...he]),$e}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const vt={provide:class{},useFactory:Te,deps:[ce,Y.R0b,[new Y.FiY,Ae]]};let At=(()=>{class ee{constructor(re){de.Z.registerVersion("angularfire",ye.full,re.toString()),de.Z.registerVersion("angular",Y.q4F.full)}static initializeApp(re,X){return{ngModule:ee,providers:[{provide:ce,useValue:re},{provide:Ae,useValue:X}]}}}return ee.\u0275fac=function(re){return new(re||ee)(Y.LFG(Y.Lbi))},ee.\u0275mod=Y.oAB({type:ee}),ee.\u0275inj=Y.cJS({providers:[vt]}),ee})()},9759:(Pe,me,F)=>{"use strict";F.d(me,{Z:()=>ke});var ue,we,p=F(4762),ie=F(4685),A=F(6034),W=F(300),Y=((ue={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ue["bad-app-name"]="Illegal App name: '{$appName}",ue["duplicate-app"]="Firebase App named '{$appName}' already exists",ue["app-deleted"]="Firebase App named '{$appName}' already deleted",ue["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ue["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ue),de=new ie.LL("app","Firebase",Y),Q="@firebase/app",Ct="[DEFAULT]",Nt=((we={})[Q]="fire-core",we["@firebase/analytics"]="fire-analytics",we["@firebase/app-check"]="fire-app-check",we["@firebase/auth"]="fire-auth",we["@firebase/database"]="fire-rtdb",we["@firebase/functions"]="fire-fn",we["@firebase/installations"]="fire-iid",we["@firebase/messaging"]="fire-fcm",we["@firebase/performance"]="fire-perf",we["@firebase/remote-config"]="fire-rc",we["@firebase/storage"]="fire-gcs",we["@firebase/firestore"]="fire-fst",we["fire-js"]="fire-js",we["firebase-wrapper"]="fire-js-all",we),vt=new W.Yd("@firebase/app"),At=function(){function Me(Ne,nt,Pt){var mt=this;this.firebase_=Pt,this.isDeleted_=!1,this.name_=nt.name,this.automaticDataCollectionEnabled_=nt.automaticDataCollectionEnabled||!1,this.options_=(0,ie.p$)(Ne),this.container=new A.H0(nt.name),this._addComponent(new A.wA("app",function(){return mt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(rr){return mt._addComponent(rr)})}return Object.defineProperty(Me.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ne){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ne},enumerable:!1,configurable:!0}),Object.defineProperty(Me.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Me.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Me.prototype.delete=function(){var Ne=this;return new Promise(function(nt){Ne.checkDestroyed_(),nt()}).then(function(){return Ne.firebase_.INTERNAL.removeApp(Ne.name_),Promise.all(Ne.container.getProviders().map(function(nt){return nt.delete()}))}).then(function(){Ne.isDeleted_=!0})},Me.prototype._getService=function(Ne,nt){var Pt;void 0===nt&&(nt=Ct),this.checkDestroyed_();var mt=this.container.getProvider(Ne);return!mt.isInitialized()&&"EXPLICIT"===(null===(Pt=mt.getComponent())||void 0===Pt?void 0:Pt.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:nt})},Me.prototype._removeServiceInstance=function(Ne,nt){void 0===nt&&(nt=Ct),this.container.getProvider(Ne).clearInstance(nt)},Me.prototype._addComponent=function(Ne){try{this.container.addComponent(Ne)}catch(nt){vt.debug("Component "+Ne.name+" failed to register with FirebaseApp "+this.name,nt)}},Me.prototype._addOrOverwriteComponent=function(Ne){this.container.addOrOverwriteComponent(Ne)},Me.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Me.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw de.create("app-deleted",{appName:this.name_})},Me}();At.prototype.name&&At.prototype.options||At.prototype.delete||console.log("dc");var X=function re(){var Me=function(Me){var Ne={},nt=new Map,Pt={__esModule:!0,initializeApp:function(pt,ot){void 0===ot&&(ot={}),("object"!=typeof ot||null===ot)&&(ot={name:ot});var Cn=ot;void 0===Cn.name&&(Cn.name=Ct);var Re=Cn.name;if("string"!=typeof Re||!Re)throw de.create("bad-app-name",{appName:String(Re)});if((0,ie.r3)(Ne,Re))throw de.create("duplicate-app",{appName:Re});var kt=new Me(pt,Cn,Pt);return Ne[Re]=kt,kt},app:rr,registerVersion:function(pt,ot,yn){var Cn,Re=null!==(Cn=Nt[pt])&&void 0!==Cn?Cn:pt;yn&&(Re+="-"+yn);var kt=Re.match(/\s|\//),on=ot.match(/\s|\//);if(kt||on){var en=['Unable to register library "'+Re+'" with version "'+ot+'":'];return kt&&en.push('library name "'+Re+'" contains illegal characters (whitespace or "/")'),kt&&on&&en.push("and"),on&&en.push('version name "'+ot+'" contains illegal characters (whitespace or "/")'),void vt.warn(en.join(" "))}Cr(new A.wA(Re+"-version",function(){return{library:Re,version:ot}},"VERSION"))},setLogLevel:W.Ub,onLog:function(pt,ot){if(null!==pt&&"function"!=typeof pt)throw de.create("invalid-log-argument");(0,W.Am)(pt,ot)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:Cr,removeApp:function(pt){delete Ne[pt]},components:nt,useAsService:function(pt,ot){return"serverAuth"===ot?null:ot}}};function rr(pt){if(!(0,ie.r3)(Ne,pt=pt||Ct))throw de.create("no-app",{appName:pt});return Ne[pt]}function Cr(pt){var ot=pt.name;if(nt.has(ot))return vt.debug("There were multiple attempts to register component "+ot+"."),"PUBLIC"===pt.type?Pt[ot]:null;if(nt.set(ot,pt),"PUBLIC"===pt.type){var yn=function(on){if(void 0===on&&(on=rr()),"function"!=typeof on[ot])throw de.create("invalid-app-argument",{appName:ot});return on[ot]()};void 0!==pt.serviceProps&&(0,ie.ZB)(yn,pt.serviceProps),Pt[ot]=yn,Me.prototype[ot]=function(){for(var on=[],en=0;en<arguments.length;en++)on[en]=arguments[en];return this._getService.bind(this,ot).apply(this,pt.multipleInstances?on:[])}}for(var Cn=0,Re=Object.keys(Ne);Cn<Re.length;Cn++)Ne[Re[Cn]]._addComponent(pt);return"PUBLIC"===pt.type?Pt[ot]:null}return Pt.default=Pt,Object.defineProperty(Pt,"apps",{get:function(){return Object.keys(Ne).map(function(pt){return Ne[pt]})}}),rr.App=Me,Pt}(At);return Me.INTERNAL=(0,p.pi)((0,p.pi)({},Me.INTERNAL),{createFirebaseNamespace:re,extendNamespace:function(nt){(0,ie.ZB)(Me,nt)},createSubscribe:ie.ne,ErrorFactory:ie.LL,deepExtend:ie.ZB}),Me}(),he=function(){function Me(Ne){this.container=Ne}return Me.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(nt){if(function(Me){var Ne=Me.getComponent();return"VERSION"===(null==Ne?void 0:Ne.type)}(nt)){var Pt=nt.getImmediate();return Pt.library+"/"+Pt.version}return null}).filter(function(nt){return nt}).join(" ")},Me}();if((0,ie.jU)()&&void 0!==self.firebase){vt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&vt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ot=X.initializeApp;X.initializeApp=function(){for(var Me=[],Ne=0;Ne<arguments.length;Ne++)Me[Ne]=arguments[Ne];return(0,ie.UG)()&&vt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ot.apply(void 0,Me)};var Me,Ve=X;(Me=Ve).INTERNAL.registerComponent(new A.wA("platform-logger",function(nt){return new he(nt)},"PRIVATE")),Me.registerVersion(Q,"0.6.29",undefined),Me.registerVersion("fire-js","");const ke=Ve},6034:(Pe,me,F)=>{"use strict";F.d(me,{wA:()=>A,H0:()=>Q,zt:()=>ue});var p=F(4762),ie=F(4685),A=function(){function z(P,H,O){this.name=P,this.instanceFactory=H,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return z.prototype.setInstantiationMode=function(P){return this.instantiationMode=P,this},z.prototype.setMultipleInstances=function(P){return this.multipleInstances=P,this},z.prototype.setServiceProps=function(P){return this.serviceProps=P,this},z.prototype.setInstanceCreatedCallback=function(P){return this.onInstanceCreated=P,this},z}(),W="[DEFAULT]",ue=function(){function z(P,H){this.name=P,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return z.prototype.get=function(P){var H=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(H)){var O=new ie.BH;if(this.instancesDeferred.set(H,O),this.isInitialized(H)||this.shouldAutoInitialize())try{var B=this.getOrInitializeService({instanceIdentifier:H});B&&O.resolve(B)}catch(q){}}return this.instancesDeferred.get(H).promise},z.prototype.getImmediate=function(P){var H,O=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),B=null!==(H=null==P?void 0:P.optional)&&void 0!==H&&H;if(!this.isInitialized(O)&&!this.shouldAutoInitialize()){if(B)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:O})}catch(q){if(B)return null;throw q}},z.prototype.getComponent=function(){return this.component},z.prototype.setComponent=function(P){var H,O;if(P.name!==this.name)throw Error("Mismatching Component "+P.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=P,this.shouldAutoInitialize()){if(function(z){return"EAGER"===z.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:W})}catch(Te){}try{for(var B=(0,p.XA)(this.instancesDeferred.entries()),q=B.next();!q.done;q=B.next()){var se=(0,p.CR)(q.value,2),Ae=se[1],ve=this.normalizeInstanceIdentifier(se[0]);try{var ye=this.getOrInitializeService({instanceIdentifier:ve});Ae.resolve(ye)}catch(Te){}}}catch(Te){H={error:Te}}finally{try{q&&!q.done&&(O=B.return)&&O.call(B)}finally{if(H)throw H.error}}}},z.prototype.clearInstance=function(P){void 0===P&&(P=W),this.instancesDeferred.delete(P),this.instances.delete(P)},z.prototype.delete=function(){return(0,p.mG)(this,void 0,void 0,function(){var P;return(0,p.Jh)(this,function(H){switch(H.label){case 0:return P=Array.from(this.instances.values()),[4,Promise.all((0,p.ev)((0,p.ev)([],(0,p.CR)(P.filter(function(O){return"INTERNAL"in O}).map(function(O){return O.INTERNAL.delete()}))),(0,p.CR)(P.filter(function(O){return"_delete"in O}).map(function(O){return O._delete()}))))];case 1:return H.sent(),[2]}})})},z.prototype.isComponentSet=function(){return null!=this.component},z.prototype.isInitialized=function(P){return void 0===P&&(P=W),this.instances.has(P)},z.prototype.initialize=function(P){var H,O;void 0===P&&(P={});var B=P.options,q=void 0===B?{}:B,se=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(se))throw Error(this.name+"("+se+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ce=this.getOrInitializeService({instanceIdentifier:se,options:q});try{for(var Ae=(0,p.XA)(this.instancesDeferred.entries()),ve=Ae.next();!ve.done;ve=Ae.next()){var ye=(0,p.CR)(ve.value,2),Ye=ye[1];se===this.normalizeInstanceIdentifier(ye[0])&&Ye.resolve(ce)}}catch(Ct){H={error:Ct}}finally{try{ve&&!ve.done&&(O=Ae.return)&&O.call(Ae)}finally{if(H)throw H.error}}return ce},z.prototype.onInit=function(P,H){var O,B=this.normalizeInstanceIdentifier(H),q=null!==(O=this.onInitCallbacks.get(B))&&void 0!==O?O:new Set;q.add(P),this.onInitCallbacks.set(B,q);var se=this.instances.get(B);return se&&P(se,B),function(){q.delete(P)}},z.prototype.invokeOnInitCallbacks=function(P,H){var O,B,q=this.onInitCallbacks.get(H);if(q)try{for(var se=(0,p.XA)(q),ce=se.next();!ce.done;ce=se.next()){var Ae=ce.value;try{Ae(P,H)}catch(ve){}}}catch(ve){O={error:ve}}finally{try{ce&&!ce.done&&(B=se.return)&&B.call(se)}finally{if(O)throw O.error}}},z.prototype.getOrInitializeService=function(P){var H=P.instanceIdentifier,O=P.options,B=void 0===O?{}:O,q=this.instances.get(H);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:Y(H),options:B}),this.instances.set(H,q),this.invokeOnInitCallbacks(q,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,q)}catch(se){}return q||null},z.prototype.normalizeInstanceIdentifier=function(P){return void 0===P&&(P=W),this.component?this.component.multipleInstances?P:W:P},z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},z}();function Y(z){return z===W?void 0:z}var Q=function(){function z(P){this.name=P,this.providers=new Map}return z.prototype.addComponent=function(P){var H=this.getProvider(P.name);if(H.isComponentSet())throw new Error("Component "+P.name+" has already been registered with "+this.name);H.setComponent(P)},z.prototype.addOrOverwriteComponent=function(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)},z.prototype.getProvider=function(P){if(this.providers.has(P))return this.providers.get(P);var H=new ue(P,this);return this.providers.set(P,H),H},z.prototype.getProviders=function(){return Array.from(this.providers.values())},z}()},9192:(Pe,me,F)=>{"use strict";var p=F(9759),ie=F(6034),A=F(4685),W=F(4762),ue=F(300);Pe=F.hmd(Pe);var Q="";function z(u){Q=u}var u,P=function(){function u(a){this.domStorage_=a,this.prefix_="firebase:"}return u.prototype.set=function(a,c){null==c?this.domStorage_.removeItem(this.prefixedName_(a)):this.domStorage_.setItem(this.prefixedName_(a),(0,A.Pz)(c))},u.prototype.get=function(a){var c=this.domStorage_.getItem(this.prefixedName_(a));return null==c?null:(0,A.cI)(c)},u.prototype.remove=function(a){this.domStorage_.removeItem(this.prefixedName_(a))},u.prototype.prefixedName_=function(a){return this.prefix_+a},u.prototype.toString=function(){return this.domStorage_.toString()},u}(),H=function(){function u(){this.cache_={},this.isInMemoryStorage=!0}return u.prototype.set=function(a,c){null==c?delete this.cache_[a]:this.cache_[a]=c},u.prototype.get=function(a){return(0,A.r3)(this.cache_,a)?this.cache_[a]:null},u.prototype.remove=function(a){delete this.cache_[a]},u}(),O=function(u){try{if("undefined"!=typeof window&&void 0!==window[u]){var a=window[u];return a.setItem("firebase:sentinel","cache"),a.removeItem("firebase:sentinel"),new P(a)}}catch(c){}return new H},B=O("localStorage"),q=O("sessionStorage"),se=new ue.Yd("@firebase/database"),ce=(u=1,function(){return u++}),Ae=function(u){var a=(0,A.dS)(u),c=new A.gQ;c.update(a);var h=c.digest();return A.US.encodeByteArray(h)},ve=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];for(var c="",h=0;h<u.length;h++){var v=u[h];Array.isArray(v)||v&&"object"==typeof v&&"number"==typeof v.length?c+=ve.apply(null,v):c+="object"==typeof v?(0,A.Pz)(v):v,c+=" "}return c},ye=null,Te=!0,Ye=function(u,a){(0,A.hu)(!a||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(se.logLevel=ue.in.VERBOSE,ye=se.log.bind(se),a&&q.set("logging_enabled",!0)):"function"==typeof u?ye=u:(ye=null,q.remove("logging_enabled"))},we=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];if(!0===Te&&(Te=!1,null===ye&&!0===q.get("logging_enabled")&&Ye(!0)),ye){var c=ve.apply(null,u);ye(c)}},Ct=function(u){return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];we.apply(void 0,(0,W.ev)([u],(0,W.CR)(a)))}},Nt=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var c="FIREBASE INTERNAL ERROR: "+ve.apply(void 0,(0,W.ev)([],(0,W.CR)(u)));se.error(c)},vt=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var c="FIREBASE FATAL ERROR: "+ve.apply(void 0,(0,W.ev)([],(0,W.CR)(u)));throw se.error(c),new Error(c)},At=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var c="FIREBASE WARNING: "+ve.apply(void 0,(0,W.ev)([],(0,W.CR)(u)));se.warn(c)},ne=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},X="[MIN_NAME]",he="[MAX_NAME]",te=function(u,a){if(u===a)return 0;if(u===X||a===he)return-1;if(a===X||u===he)return 1;var c=gn(u),h=gn(a);return null!==c?null!==h?c-h==0?u.length-a.length:c-h:-1:null!==h?1:u<a?-1:1},He=function(u,a){return u===a?0:u<a?-1:1},$e=function(u,a){if(a&&u in a)return a[u];throw new Error("Missing required key ("+u+") in object: "+(0,A.Pz)(a))},Ot=function(u){if("object"!=typeof u||null===u)return(0,A.Pz)(u);var a=[];for(var c in u)a.push(c);a.sort();for(var h="{",v=0;v<a.length;v++)0!==v&&(h+=","),h+=(0,A.Pz)(a[v]),h+=":",h+=Ot(u[a[v]]);return h+"}"},Ve=function(u,a){var c=u.length;if(c<=a)return[u];for(var h=[],v=0;v<c;v+=a)h.push(u.substring(v,v+a>c?c:v+a));return h};function ke(u,a){for(var c in u)u.hasOwnProperty(c)&&a(c,u[c])}var Me=function(u){(0,A.hu)(!ne(u),"Invalid JSON number");var v,E,D,T,R,h=1023;0===u?(E=0,D=0,v=1/u==-1/0?1:0):(v=u<0,(u=Math.abs(u))>=Math.pow(2,1-h)?(E=(T=Math.min(Math.floor(Math.log(u)/Math.LN2),h))+h,D=Math.round(u*Math.pow(2,52-T)-Math.pow(2,52))):(E=0,D=Math.round(u/Math.pow(2,-1074))));var N=[];for(R=52;R;R-=1)N.push(D%2?1:0),D=Math.floor(D/2);for(R=11;R;R-=1)N.push(E%2?1:0),E=Math.floor(E/2);N.push(v?1:0),N.reverse();var k=N.join(""),J="";for(R=0;R<64;R+=8){var le=parseInt(k.substr(R,8),2).toString(16);1===le.length&&(le="0"+le),J+=le}return J.toLowerCase()},mt=new RegExp("^-?(0*)\\d{1,10}$"),rr=-2147483648,Qt=2147483647,gn=function(u){if(mt.test(u)){var a=Number(u);if(a>=rr&&a<=Qt)return a}return null},Cr=function(u){try{u()}catch(a){setTimeout(function(){throw At("Exception was thrown by user callback.",a.stack||""),a},Math.floor(0))}},wi=function(u,a){var c=setTimeout(u,a);return"object"==typeof c&&c.unref&&c.unref(),c},Ss=function(){function u(a,c){var h=this;this.appName_=a,this.appCheckProvider=c,this.appCheck=null==c?void 0:c.getImmediate({optional:!0}),this.appCheck||null==c||c.get().then(function(v){return h.appCheck=v})}return u.prototype.getToken=function(a){var c=this;return this.appCheck?this.appCheck.getToken(a):new Promise(function(h,v){setTimeout(function(){c.appCheck?c.getToken(a).then(h,v):h(null)},0)})},u.prototype.addTokenChangeListener=function(a){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(function(h){return h.addTokenListener(a)})},u.prototype.notifyForInvalidToken=function(){At('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},u}(),pt=function(){function u(a,c,h){var v=this;this.appName_=a,this.firebaseOptions_=c,this.authProvider_=h,this.auth_=null,this.auth_=h.getImmediate({optional:!0}),this.auth_||h.onInit(function(E){return v.auth_=E})}return u.prototype.getToken=function(a){var c=this;return this.auth_?this.auth_.getToken(a).catch(function(h){return h&&"auth/token-not-initialized"===h.code?(we("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(h)}):new Promise(function(h,v){setTimeout(function(){c.auth_?c.getToken(a).then(h,v):h(null)},0)})},u.prototype.addTokenChangeListener=function(a){this.auth_?this.auth_.addAuthTokenListener(a):this.authProvider_.get().then(function(c){return c.addAuthTokenListener(a)})},u.prototype.removeTokenChangeListener=function(a){this.authProvider_.get().then(function(c){return c.removeAuthTokenListener(a)})},u.prototype.notifyForInvalidToken=function(){var a='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';At(a+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},u}(),ot=function(){function u(a){this.accessToken=a}return u.prototype.getToken=function(a){return Promise.resolve({accessToken:this.accessToken})},u.prototype.addTokenChangeListener=function(a){a(this.accessToken)},u.prototype.removeTokenChangeListener=function(a){},u.prototype.notifyForInvalidToken=function(){},u.OWNER="owner",u}(),en=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ln="websocket",Ru="long_polling",Kt=function(){function u(a,c,h,v,E,D,T){void 0===E&&(E=!1),void 0===D&&(D=""),void 0===T&&(T=!1),this.secure=c,this.namespace=h,this.webSocketOnly=v,this.nodeAdmin=E,this.persistenceKey=D,this.includeNamespaceInQueryParams=T,this._host=a.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=B.get("host:"+a)||this._host}return u.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},u.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(u.prototype,"host",{get:function(){return this._host},set:function(a){a!==this.internalHost&&(this.internalHost=a,this.isCacheableHost()&&B.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),u.prototype.toString=function(){var a=this.toURLString();return this.persistenceKey&&(a+="<"+this.persistenceKey+">"),a},u.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},u}();function Je(u,a,c){var h;if((0,A.hu)("string"==typeof a,"typeof type must == string"),(0,A.hu)("object"==typeof c,"typeof params must == object"),a===ln)h=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(a!==Ru)throw new Error("Unknown connection type: "+a);h=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(c.ns=u.namespace);var v=[];return ke(c,function(E,D){v.push(E+"="+D)}),h+v.join("&")}var xu=function(){function u(){this.counters_={}}return u.prototype.incrementCounter=function(a,c){void 0===c&&(c=1),(0,A.r3)(this.counters_,a)||(this.counters_[a]=0),this.counters_[a]+=c},u.prototype.get=function(){return(0,A.p$)(this.counters_)},u}(),Ii={},or={};function Tt(u){var a=u.toString();return Ii[a]||(Ii[a]=new xu),Ii[a]}var Xl=function(){function u(a){this.onMessage_=a,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return u.prototype.closeAfter=function(a,c){this.closeAfterResponse=a,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},u.prototype.handleResponse=function(a,c){var h=this;this.pendingResponses[a]=c;for(var v=function(){var T=E.pendingResponses[E.currentResponseNum];delete E.pendingResponses[E.currentResponseNum];for(var R=function(k){T[k]&&Cr(function(){h.onMessage_(T[k])})},N=0;N<T.length;++N)R(N);if(E.currentResponseNum===E.closeAfterResponse)return E.onClose&&(E.onClose(),E.onClose=null),"break";E.currentResponseNum++},E=this;this.pendingResponses[this.currentResponseNum]&&"break"!==v(););},u}(),U="start",V="close",va=function(){function u(a,c,h,v,E,D,T){var R=this;this.connId=a,this.repoInfo=c,this.applicationId=h,this.appCheckToken=v,this.authToken=E,this.transportSessionId=D,this.lastSessionId=T,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ct(a),this.stats_=Tt(c),this.urlFn=function(N){return R.appCheckToken&&(N.ac=R.appCheckToken),Je(c,Ru,N)}}return u.prototype.open=function(a,c){var h=this;this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new Xl(a),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){h.log_("Timed out trying to connect."),h.onClosed_(),h.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,A.Yr)()||"complete"===document.readyState)u();else{var a=!1,c=function(){document.body?a||(a=!0,u()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(function(){if(!h.isClosed_){h.scriptTagHolder=new Ou(function(){for(var D=[],T=0;T<arguments.length;T++)D[T]=arguments[T];var R=(0,W.CR)(D,5),N=R[0],k=R[1],J=R[2];if(h.incrementIncomingBytes_(D),h.scriptTagHolder)if(h.connectTimeoutTimer_&&(clearTimeout(h.connectTimeoutTimer_),h.connectTimeoutTimer_=null),h.everConnected_=!0,N===U)h.id=k,h.password=J;else{if(N!==V)throw new Error("Unrecognized command received: "+N);k?(h.scriptTagHolder.sendNewPolls=!1,h.myPacketOrderer.closeAfter(k,function(){h.onClosed_()})):h.onClosed_()}},function(){for(var D=[],T=0;T<arguments.length;T++)D[T]=arguments[T];var R=(0,W.CR)(D,2),N=R[0],k=R[1];h.incrementIncomingBytes_(D),h.myPacketOrderer.handleResponse(N,k)},function(){h.onClosed_()},h.urlFn);var v={start:"t"};v.ser=Math.floor(1e8*Math.random()),h.scriptTagHolder.uniqueCallbackIdentifier&&(v.cb=h.scriptTagHolder.uniqueCallbackIdentifier),v.v="5",h.transportSessionId&&(v.s=h.transportSessionId),h.lastSessionId&&(v.ls=h.lastSessionId),h.applicationId&&(v.p=h.applicationId),h.appCheckToken&&(v.ac=h.appCheckToken),"undefined"!=typeof location&&location.hostname&&en.test(location.hostname)&&(v.r="f");var E=h.urlFn(v);h.log_("Connecting via long-poll to "+E),h.scriptTagHolder.addTag(E,function(){})}})},u.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},u.forceAllow=function(){u.forceAllow_=!0},u.forceDisallow=function(){u.forceDisallow_=!0},u.isAvailable=function(){return!((0,A.Yr)()||!u.forceAllow_&&(u.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},u.prototype.markConnectionHealthy=function(){},u.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},u.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},u.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},u.prototype.send=function(a){var c=(0,A.Pz)(a);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);for(var h=(0,A.h$)(c),v=Ve(h,1840),E=0;E<v.length;E++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,v.length,v[E]),this.curSegmentNum++},u.prototype.addDisconnectPingFrame=function(a,c){if(!(0,A.Yr)()){this.myDisconnFrame=document.createElement("iframe");var h={dframe:"t"};h.id=a,h.pw=c,this.myDisconnFrame.src=this.urlFn(h),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},u.prototype.incrementIncomingBytes_=function(a){var c=(0,A.Pz)(a).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)},u}(),Ou=function(){function u(a,c,h,v){if(this.onDisconnect=h,this.urlFn=v,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,A.Yr)())this.commandCB=a,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=ce(),window["pLPCommand"+this.uniqueCallbackIdentifier]=a,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=u.createIFrame_();var E="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(E='<script>document.domain="'+document.domain+'";<\/script>');var T="<html><body>"+E+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(T),this.myIFrame.doc.close()}catch(R){we("frame writing exception"),R.stack&&we(R.stack),we(R)}}}return u.createIFrame_=function(){var a=document.createElement("iframe");if(a.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(a);try{a.contentWindow.document||we("No IE domain setting required")}catch(v){var h=document.domain;a.src="javascript:void((function(){document.open();document.domain='"+h+"';document.close();})())"}return a.contentDocument?a.doc=a.contentDocument:a.contentWindow?a.doc=a.contentWindow.document:a.document&&(a.doc=a.document),a},u.prototype.close=function(){var a=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==a.myIFrame&&(document.body.removeChild(a.myIFrame),a.myIFrame=null)},Math.floor(0)));var c=this.onDisconnect;c&&(this.onDisconnect=null,c())},u.prototype.startLongPoll=function(a,c){for(this.myID=a,this.myPW=c,this.alive=!0;this.newRequest_(););},u.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var a={};a.id=this.myID,a.pw=this.myPW,a.ser=this.currentSerial;for(var c=this.urlFn(a),h="",v=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+h.length<=1870;){var D=this.pendingSegs.shift();h=h+"&seg"+v+"="+D.seg+"&ts"+v+"="+D.ts+"&d"+v+"="+D.d,v++}return this.addLongPollTag_(c+=h,this.currentSerial),!0}return!1},u.prototype.enqueueSegment=function(a,c,h){this.pendingSegs.push({seg:a,ts:c,d:h}),this.alive&&this.newRequest_()},u.prototype.addLongPollTag_=function(a,c){var h=this;this.outstandingRequests.add(c);var v=function(){h.outstandingRequests.delete(c),h.newRequest_()},E=setTimeout(v,Math.floor(25e3));this.addTag(a,function(){clearTimeout(E),v()})},u.prototype.addTag=function(a,c){var h=this;(0,A.Yr)()?this.doNodeLongPoll(a,c):setTimeout(function(){try{if(!h.sendNewPolls)return;var v=h.myIFrame.doc.createElement("script");v.type="text/javascript",v.async=!0,v.src=a,v.onload=v.onreadystatechange=function(){var E=v.readyState;(!E||"loaded"===E||"complete"===E)&&(v.onload=v.onreadystatechange=null,v.parentNode&&v.parentNode.removeChild(v),c())},v.onerror=function(){we("Long-poll script failed to load: "+a),h.sendNewPolls=!1,h.close()},h.myIFrame.doc.body.appendChild(v)}catch(E){}},Math.floor(1))},u}(),Rn=null;"undefined"!=typeof MozWebSocket?Rn=MozWebSocket:"undefined"!=typeof WebSocket&&(Rn=WebSocket);var En=function(){function u(a,c,h,v,E,D,T){this.connId=a,this.applicationId=h,this.appCheckToken=v,this.authToken=E,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ct(this.connId),this.stats_=Tt(c),this.connURL=u.connectionURL_(c,D,T,v),this.nodeAdmin=c.nodeAdmin}return u.connectionURL_=function(a,c,h,v){var E={v:"5"};return!(0,A.Yr)()&&"undefined"!=typeof location&&location.hostname&&en.test(location.hostname)&&(E.r="f"),c&&(E.s=c),h&&(E.ls=h),v&&(E.ac=v),Je(a,ln,E)},u.prototype.open=function(a,c){var h=this;this.onDisconnect=c,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,B.set("previous_websocket_failure",!0);try{if((0,A.Yr)()){var E={headers:{"User-Agent":"Firebase/5/"+Q+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(E.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(E.headers["X-Firebase-AppCheck"]=this.appCheckToken);var D=process.env,T=0===this.connURL.indexOf("wss://")?D.HTTPS_PROXY||D.https_proxy:D.HTTP_PROXY||D.http_proxy;T&&(E.proxy={origin:T}),this.mySock=new Rn(this.connURL,[],E)}else this.mySock=new Rn(this.connURL,[],E={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(N){this.log_("Error instantiating WebSocket.");var R=N.message||N.data;return R&&this.log_(R),void this.onClosed_()}this.mySock.onopen=function(){h.log_("Websocket connected."),h.everConnected_=!0},this.mySock.onclose=function(){h.log_("Websocket connection was disconnected."),h.mySock=null,h.onClosed_()},this.mySock.onmessage=function(N){h.handleIncomingFrame(N)},this.mySock.onerror=function(N){h.log_("WebSocket error.  Closing connection.");var k=N.message||N.data;k&&h.log_(k),h.onClosed_()}},u.prototype.start=function(){},u.forceDisallow=function(){u.forceDisallow_=!0},u.isAvailable=function(){var a=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var h=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);h&&h.length>1&&parseFloat(h[1])<4.4&&(a=!0)}return!a&&null!==Rn&&!u.forceDisallow_},u.previouslyFailed=function(){return B.isInMemoryStorage||!0===B.get("previous_websocket_failure")},u.prototype.markConnectionHealthy=function(){B.remove("previous_websocket_failure")},u.prototype.appendFrame_=function(a){if(this.frames.push(a),this.frames.length===this.totalFrames){var c=this.frames.join("");this.frames=null;var h=(0,A.cI)(c);this.onMessage(h)}},u.prototype.handleNewFrameCount_=function(a){this.totalFrames=a,this.frames=[]},u.prototype.extractFrameCount_=function(a){if((0,A.hu)(null===this.frames,"We already have a frame buffer"),a.length<=6){var c=Number(a);if(!isNaN(c))return this.handleNewFrameCount_(c),null}return this.handleNewFrameCount_(1),a},u.prototype.handleIncomingFrame=function(a){if(null!==this.mySock){var c=a.data;if(this.bytesReceived+=c.length,this.stats_.incrementCounter("bytes_received",c.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(c);else{var h=this.extractFrameCount_(c);null!==h&&this.appendFrame_(h)}}},u.prototype.send=function(a){this.resetKeepAlive();var c=(0,A.Pz)(a);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);var h=Ve(c,16384);h.length>1&&this.sendString_(String(h.length));for(var v=0;v<h.length;v++)this.sendString_(h[v])},u.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},u.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},u.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},u.prototype.resetKeepAlive=function(){var a=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){a.mySock&&a.sendString_("0"),a.resetKeepAlive()},Math.floor(45e3))},u.prototype.sendString_=function(a){try{this.mySock.send(a)}catch(c){this.log_("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u}(),ar=function(){function u(a){this.initTransports_(a)}return Object.defineProperty(u,"ALL_TRANSPORTS",{get:function(){return[va,En]},enumerable:!1,configurable:!0}),u.prototype.initTransports_=function(a){var c,h,v=En&&En.isAvailable(),E=v&&!En.previouslyFailed();if(a.webSocketOnly&&(v||At("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),E=!0),E)this.transports_=[En];else{var D=this.transports_=[];try{for(var T=(0,W.XA)(u.ALL_TRANSPORTS),R=T.next();!R.done;R=T.next()){var N=R.value;N&&N.isAvailable()&&D.push(N)}}catch(k){c={error:k}}finally{try{R&&!R.done&&(h=T.return)&&h.call(T)}finally{if(c)throw c.error}}}},u.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},u.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},u}(),Ai=function(){function u(a,c,h,v,E,D,T,R,N,k){this.id=a,this.repoInfo_=c,this.applicationId_=h,this.appCheckToken_=v,this.authToken_=E,this.onMessage_=D,this.onReady_=T,this.onDisconnect_=R,this.onKill_=N,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ct("c:"+this.id+":"),this.transportManager_=new ar(c),this.log_("Connection created"),this.start_()}return u.prototype.start_=function(){var a=this,c=this.transportManager_.initialTransport();this.conn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;var h=this.connReceiver_(this.conn_),v=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){a.conn_&&a.conn_.open(h,v)},Math.floor(0));var E=c.healthyTimeout||0;E>0&&(this.healthyTimeout_=wi(function(){a.healthyTimeout_=null,a.isHealthy_||(a.conn_&&a.conn_.bytesReceived>102400?(a.log_("Connection exceeded healthy timeout but has received "+a.conn_.bytesReceived+" bytes.  Marking connection healthy."),a.isHealthy_=!0,a.conn_.markConnectionHealthy()):a.conn_&&a.conn_.bytesSent>10240?a.log_("Connection exceeded healthy timeout but has sent "+a.conn_.bytesSent+" bytes.  Leaving connection alive."):(a.log_("Closing unhealthy connection after timeout."),a.close()))},Math.floor(E)))},u.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},u.prototype.disconnReceiver_=function(a){var c=this;return function(h){a===c.conn_?c.onConnectionLost_(h):a===c.secondaryConn_?(c.log_("Secondary connection lost."),c.onSecondaryConnectionLost_()):c.log_("closing an old connection")}},u.prototype.connReceiver_=function(a){var c=this;return function(h){2!==c.state_&&(a===c.rx_?c.onPrimaryMessageReceived_(h):a===c.secondaryConn_?c.onSecondaryMessageReceived_(h):c.log_("message on old connection"))}},u.prototype.sendRequest=function(a){this.sendData_({t:"d",d:a})},u.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},u.prototype.onSecondaryControl_=function(a){if("t"in a){var c=a.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},u.prototype.onSecondaryMessageReceived_=function(a){var c=$e("t",a),h=$e("d",a);if("c"===c)this.onSecondaryControl_(h);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(h)}},u.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},u.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},u.prototype.onPrimaryMessageReceived_=function(a){var c=$e("t",a),h=$e("d",a);"c"===c?this.onControl_(h):"d"===c&&this.onDataMessage_(h)},u.prototype.onDataMessage_=function(a){this.onPrimaryResponse_(),this.onMessage_(a)},u.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},u.prototype.onControl_=function(a){var c=$e("t",a);if("d"in a){var h=a.d;if("h"===c)this.onHandshake_(h);else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var v=0;v<this.pendingDataMessages.length;++v)this.onDataMessage_(this.pendingDataMessages[v]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(h):"r"===c?this.onReset_(h):"e"===c?Nt("Server Error: "+h):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nt("Unknown control packet command: "+c)}},u.prototype.onHandshake_=function(a){var c=a.ts,h=a.v,v=a.h;this.sessionId=a.s,this.repoInfo_.host=v,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==h&&At("Protocol version mismatch detected"),this.tryStartUpgrade_())},u.prototype.tryStartUpgrade_=function(){var a=this.transportManager_.upgradeTransport();a&&this.startUpgrade_(a)},u.prototype.startUpgrade_=function(a){var c=this;this.secondaryConn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;var h=this.connReceiver_(this.secondaryConn_),v=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(h,v),wi(function(){c.secondaryConn_&&(c.log_("Timed out trying to upgrade."),c.secondaryConn_.close())},Math.floor(6e4))},u.prototype.onReset_=function(a){this.log_("Reset packet received.  New host: "+a),this.repoInfo_.host=a,1===this.state_?this.close():(this.closeConnections_(),this.start_())},u.prototype.onConnectionEstablished_=function(a,c){var h=this;this.log_("Realtime connection established."),this.conn_=a,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wi(function(){h.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},u.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},u.prototype.onSecondaryConnectionLost_=function(){var a=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===a||this.rx_===a)&&this.close()},u.prototype.onConnectionLost_=function(a){this.conn_=null,a||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(B.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},u.prototype.onConnectionShutdown_=function(a){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(a),this.onKill_=null),this.onDisconnect_=null,this.close()},u.prototype.sendData_=function(a){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(a)},u.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},u.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},u}(),ya=function(){function u(){}return u.prototype.put=function(a,c,h,v){},u.prototype.merge=function(a,c,h,v){},u.prototype.refreshAuthToken=function(a){},u.prototype.refreshAppCheckToken=function(a){},u.prototype.onDisconnectPut=function(a,c,h){},u.prototype.onDisconnectMerge=function(a,c,h){},u.prototype.onDisconnectCancel=function(a,c){},u.prototype.reportStats=function(a){},u}(),zo=function(){function u(a){this.allowedEvents_=a,this.listeners_={},(0,A.hu)(Array.isArray(a)&&a.length>0,"Requires a non-empty array")}return u.prototype.trigger=function(a){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];if(Array.isArray(this.listeners_[a]))for(var v=(0,W.ev)([],(0,W.CR)(this.listeners_[a])),E=0;E<v.length;E++)v[E].callback.apply(v[E].context,c)},u.prototype.on=function(a,c,h){this.validateEventType_(a),this.listeners_[a]=this.listeners_[a]||[],this.listeners_[a].push({callback:c,context:h});var v=this.getInitialEvent(a);v&&c.apply(h,v)},u.prototype.off=function(a,c,h){this.validateEventType_(a);for(var v=this.listeners_[a]||[],E=0;E<v.length;E++)if(v[E].callback===c&&(!h||h===v[E].context))return void v.splice(E,1)},u.prototype.validateEventType_=function(a){(0,A.hu)(this.allowedEvents_.find(function(c){return c===a}),"Unknown event: "+a)},u}(),xn=function(u){function a(){var c=u.call(this,["online"])||this;return c.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,A.uI)()&&(window.addEventListener("online",function(){c.online_||(c.online_=!0,c.trigger("online",!0))},!1),window.addEventListener("offline",function(){c.online_&&(c.online_=!1,c.trigger("online",!1))},!1)),c}return(0,W.ZT)(a,u),a.getInstance=function(){return new a},a.prototype.getInitialEvent=function(c){return(0,A.hu)("online"===c,"Unknown event type: "+c),[this.online_]},a.prototype.currentlyOnline=function(){return this.online_},a}(zo),st=function(){function u(a,c){if(void 0===c){this.pieces_=a.split("/");for(var h=0,v=0;v<this.pieces_.length;v++)this.pieces_[v].length>0&&(this.pieces_[h]=this.pieces_[v],h++);this.pieces_.length=h,this.pieceNum_=0}else this.pieces_=a,this.pieceNum_=c}return u.prototype.toString=function(){for(var a="",c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(a+="/"+this.pieces_[c]);return a||"/"},u}();function Oe(){return new st("")}function at(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function Ti(u){return u.pieces_.length-u.pieceNum_}function bt(u){var a=u.pieceNum_;return a<u.pieces_.length&&a++,new st(u.pieces_,a)}function Ms(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function Br(u,a){return void 0===a&&(a=0),u.pieces_.slice(u.pieceNum_+a)}function jr(u){if(u.pieceNum_>=u.pieces_.length)return null;for(var a=[],c=u.pieceNum_;c<u.pieces_.length-1;c++)a.push(u.pieces_[c]);return new st(a,0)}function lt(u,a){for(var c=[],h=u.pieceNum_;h<u.pieces_.length;h++)c.push(u.pieces_[h]);if(a instanceof st)for(h=a.pieceNum_;h<a.pieces_.length;h++)c.push(a.pieces_[h]);else{var v=a.split("/");for(h=0;h<v.length;h++)v[h].length>0&&c.push(v[h])}return new st(c,0)}function ct(u){return u.pieceNum_>=u.pieces_.length}function zt(u,a){var c=at(u),h=at(a);if(null===c)return a;if(c===h)return zt(bt(u),bt(a));throw new Error("INTERNAL ERROR: innerPath ("+a+") is not within outerPath ("+u+")")}function ur(u,a){for(var c=Br(u,0),h=Br(a,0),v=0;v<c.length&&v<h.length;v++){var E=te(c[v],h[v]);if(0!==E)return E}return c.length===h.length?0:c.length<h.length?-1:1}function Rs(u,a){if(Ti(u)!==Ti(a))return!1;for(var c=u.pieceNum_,h=a.pieceNum_;c<=u.pieces_.length;c++,h++)if(u.pieces_[c]!==a.pieces_[h])return!1;return!0}function Nn(u,a){var c=u.pieceNum_,h=a.pieceNum_;if(Ti(u)>Ti(a))return!1;for(;c<u.pieces_.length;){if(u.pieces_[c]!==a.pieces_[h])return!1;++c,++h}return!0}var Ca=function(a,c){this.errorPrefix_=c,this.parts_=Br(a,0),this.byteLength_=Math.max(1,this.parts_.length);for(var h=0;h<this.parts_.length;h++)this.byteLength_+=(0,A.ug)(this.parts_[h]);Hd(this)};function Hd(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+uo(u))}function uo(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}var Fu,ku,$d=function(u){function a(){var h,v,c=u.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(v="visibilitychange",h="hidden"):void 0!==document.mozHidden?(v="mozvisibilitychange",h="mozHidden"):void 0!==document.msHidden?(v="msvisibilitychange",h="msHidden"):void 0!==document.webkitHidden&&(v="webkitvisibilitychange",h="webkitHidden")),c.visible_=!0,v&&document.addEventListener(v,function(){var E=!document[h];E!==c.visible_&&(c.visible_=E,c.trigger("visible",E))},!1),c}return(0,W.ZT)(a,u),a.getInstance=function(){return new a},a.prototype.getInitialEvent=function(c){return(0,A.hu)("visible"===c,"Unknown event type: "+c),[this.visible_]},a}(zo),Ea=1e3,Zo=function(u){function a(c,h,v,E,D,T,R,N){var k=u.call(this)||this;if(k.repoInfo_=c,k.applicationId_=h,k.onDataUpdate_=v,k.onConnectStatus_=E,k.onServerInfoUpdate_=D,k.authTokenProvider_=T,k.appCheckTokenProvider_=R,k.authOverride_=N,k.id=a.nextPersistentConnectionId_++,k.log_=Ct("p:"+k.id+":"),k.interruptReasons_={},k.listens=new Map,k.outstandingPuts_=[],k.outstandingGets_=[],k.outstandingPutCount_=0,k.outstandingGetCount_=0,k.onDisconnectRequestQueue_=[],k.connected_=!1,k.reconnectDelay_=Ea,k.maxReconnectDelay_=3e5,k.securityDebugCallback_=null,k.lastSessionId=null,k.establishConnectionTimer_=null,k.visible_=!1,k.requestCBHash_={},k.requestNumber_=0,k.realtime_=null,k.authToken_=null,k.appCheckToken_=null,k.forceTokenRefresh_=!1,k.invalidAuthTokenCount_=0,k.invalidAppCheckTokenCount_=0,k.firstConnection_=!0,k.lastConnectionAttemptTime_=null,k.lastConnectionEstablishedTime_=null,N&&!(0,A.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return $d.getInstance().on("visible",k.onVisible_,k),-1===c.host.indexOf("fblocal")&&xn.getInstance().on("online",k.onOnline_,k),k}return(0,W.ZT)(a,u),a.prototype.sendRequest=function(c,h,v){var E=++this.requestNumber_,D={r:E,a:c,b:h};this.log_((0,A.Pz)(D)),(0,A.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(D),v&&(this.requestCBHash_[E]=v)},a.prototype.get=function(c){var h=this;this.initConnection_();var v=new A.BH,E={p:c._path.toString(),q:c._queryObject},D={action:"g",request:E,onComplete:function(R){var N=R.d;"ok"===R.s?(h.onDataUpdate_(E.p,N,!1,null),v.resolve(N)):v.reject(N)}};this.outstandingGets_.push(D),this.outstandingGetCount_++;var T=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var R=h.outstandingGets_[T];void 0===R||D!==R||(delete h.outstandingGets_[T],h.outstandingGetCount_--,0===h.outstandingGetCount_&&(h.outstandingGets_=[]),h.log_("get "+T+" timed out on connection"),v.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(T),v.promise},a.prototype.listen=function(c,h,v,E){this.initConnection_();var D=c._queryIdentifier,T=c._path.toString();this.log_("Listen called for "+T+" "+D),this.listens.has(T)||this.listens.set(T,new Map),(0,A.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,A.hu)(!this.listens.get(T).has(D),"listen() called twice for same path/queryId.");var R={onComplete:E,hashFn:h,query:c,tag:v};this.listens.get(T).set(D,R),this.connected_&&this.sendListen_(R)},a.prototype.sendGet_=function(c){var h=this,v=this.outstandingGets_[c];this.sendRequest("g",v.request,function(E){delete h.outstandingGets_[c],h.outstandingGetCount_--,0===h.outstandingGetCount_&&(h.outstandingGets_=[]),v.onComplete&&v.onComplete(E)})},a.prototype.sendListen_=function(c){var h=this,v=c.query,E=v._path.toString(),D=v._queryIdentifier;this.log_("Listen on "+E+" for "+D);var T={p:E};c.tag&&(T.q=v._queryObject,T.t=c.tag),T.h=c.hashFn(),this.sendRequest("q",T,function(N){var k=N.d,J=N.s;a.warnOnListenWarnings_(k,v),(h.listens.get(E)&&h.listens.get(E).get(D))===c&&(h.log_("listen response",N),"ok"!==J&&h.removeListen_(E,D),c.onComplete&&c.onComplete(J,k))})},a.warnOnListenWarnings_=function(c,h){if(c&&"object"==typeof c&&(0,A.r3)(c,"w")){var v=(0,A.DV)(c,"w");if(Array.isArray(v)&&~v.indexOf("no_index")){var E='".indexOn": "'+h._queryParams.getIndex().toString()+'"',D=h._path.toString();At("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+E+" at "+D+" to your security rules for better performance.")}}},a.prototype.refreshAuthToken=function(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(c)},a.prototype.reduceReconnectDelayIfAdminCredential_=function(c){(c&&40===c.length||(0,A.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},a.prototype.refreshAppCheckToken=function(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},a.prototype.tryAuth=function(){var c=this;if(this.connected_&&this.authToken_){var h=this.authToken_,v=(0,A.w9)(h)?"auth":"gauth",E={cred:h};null===this.authOverride_?E.noauth=!0:"object"==typeof this.authOverride_&&(E.authvar=this.authOverride_),this.sendRequest(v,E,function(D){var T=D.s,R=D.d||"error";c.authToken_===h&&("ok"===T?c.invalidAuthTokenCount_=0:c.onAuthRevoked_(T,R))})}},a.prototype.tryAppCheck=function(){var c=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(h){var v=h.s,E=h.d||"error";"ok"===v?c.invalidAppCheckTokenCount_=0:c.onAppCheckRevoked_(v,E)})},a.prototype.unlisten=function(c,h){var v=c._path.toString(),E=c._queryIdentifier;this.log_("Unlisten called for "+v+" "+E),(0,A.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(v,E)&&this.connected_&&this.sendUnlisten_(v,E,c._queryObject,h)},a.prototype.sendUnlisten_=function(c,h,v,E){this.log_("Unlisten on "+c+" for "+h);var D={p:c};E&&(D.q=v,D.t=E),this.sendRequest("n",D)},a.prototype.onDisconnectPut=function(c,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,h,v):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:h,onComplete:v})},a.prototype.onDisconnectMerge=function(c,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,h,v):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:h,onComplete:v})},a.prototype.onDisconnectCancel=function(c,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,h):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:h})},a.prototype.sendOnDisconnect_=function(c,h,v,E){var D={p:h,d:v};this.log_("onDisconnect "+c,D),this.sendRequest(c,D,function(T){E&&setTimeout(function(){E(T.s,T.d)},Math.floor(0))})},a.prototype.put=function(c,h,v,E){this.putInternal("p",c,h,v,E)},a.prototype.merge=function(c,h,v,E){this.putInternal("m",c,h,v,E)},a.prototype.putInternal=function(c,h,v,E,D){this.initConnection_();var T={p:h,d:v};void 0!==D&&(T.h=D),this.outstandingPuts_.push({action:c,request:T,onComplete:E}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+h)},a.prototype.sendPut_=function(c){var h=this,v=this.outstandingPuts_[c].action,E=this.outstandingPuts_[c].request,D=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(v,E,function(T){h.log_(v+" response",T),delete h.outstandingPuts_[c],h.outstandingPutCount_--,0===h.outstandingPutCount_&&(h.outstandingPuts_=[]),D&&D(T.s,T.d)})},a.prototype.reportStats=function(c){var h=this;if(this.connected_){var v={c};this.log_("reportStats",v),this.sendRequest("s",v,function(E){"ok"!==E.s&&h.log_("reportStats","Error sending stats: "+E.d)})}},a.prototype.onDataMessage_=function(c){if("r"in c){this.log_("from server: "+(0,A.Pz)(c));var h=c.r,v=this.requestCBHash_[h];v&&(delete this.requestCBHash_[h],v(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}},a.prototype.onDataPush_=function(c,h){this.log_("handleServerMessage",c,h),"d"===c?this.onDataUpdate_(h.p,h.d,!1,h.t):"m"===c?this.onDataUpdate_(h.p,h.d,!0,h.t):"c"===c?this.onListenRevoked_(h.p,h.q):"ac"===c?this.onAuthRevoked_(h.s,h.d):"apc"===c?this.onAppCheckRevoked_(h.s,h.d):"sd"===c?this.onSecurityDebugPacket_(h):Nt("Unrecognized action received from server: "+(0,A.Pz)(c)+"\nAre you using the latest client?")},a.prototype.onReady_=function(c,h){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=h,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},a.prototype.scheduleConnect_=function(c){var h=this;(0,A.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){h.establishConnectionTimer_=null,h.establishConnection_()},Math.floor(c))},a.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},a.prototype.onVisible_=function(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ea,this.realtime_||this.scheduleConnect_(0)),this.visible_=c},a.prototype.onOnline_=function(c){c?(this.log_("Browser went online."),this.reconnectDelay_=Ea,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},a.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ea),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var h=(new Date).getTime()-this.lastConnectionAttemptTime_,v=Math.max(0,this.reconnectDelay_-h);v=Math.random()*v,this.log_("Trying to reconnect in "+v+"ms"),this.scheduleConnect_(v),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},a.prototype.establishConnection_=function(){return(0,W.mG)(this,void 0,void 0,function(){var c,h,v,E,D,T,R,N,J,le,_e,be,ze,Ue=this;return(0,W.Jh)(this,function(Fe){switch(Fe.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,c=this.onDataMessage_.bind(this),h=this.onReady_.bind(this),v=this.onRealtimeDisconnect_.bind(this),E=this.id+":"+a.nextConnectionId_++,D=this.lastSessionId,T=!1,R=null,this.realtime_={close:N=function(){R?R.close():(T=!0,v())},sendRequest:function(Ut){(0,A.hu)(R,"sendRequest call when we're not connected not allowed."),R.sendRequest(Ut)}},J=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,Fe.label=1;case 1:return Fe.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(J),this.appCheckTokenProvider_.getToken(J)])];case 2:return le=W.CR.apply(void 0,[Fe.sent(),2]),_e=le[0],be=le[1],T?we("getToken() completed but was canceled"):(we("getToken() completed. Creating connection."),this.authToken_=_e&&_e.accessToken,this.appCheckToken_=be&&be.token,R=new Ai(E,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,c,h,v,function(Ut){At(Ut+" ("+Ue.repoInfo_.toString()+")"),Ue.interrupt("server_kill")},D)),[3,4];case 3:return ze=Fe.sent(),this.log_("Failed to get token: "+ze),T||(this.repoInfo_.nodeAdmin&&At(ze),N()),[3,4];case 4:return[2]}})})},a.prototype.interrupt=function(c){we("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},a.prototype.resume=function(c){we("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,A.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ea,this.realtime_||this.scheduleConnect_(0))},a.prototype.handleTimestamp_=function(c){var h=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:h})},a.prototype.cancelSentTransactions_=function(){for(var c=0;c<this.outstandingPuts_.length;c++){var h=this.outstandingPuts_[c];h&&"h"in h.request&&h.queued&&(h.onComplete&&h.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},a.prototype.onListenRevoked_=function(c,h){var v;v=h?h.map(function(D){return Ot(D)}).join("$"):"default";var E=this.removeListen_(c,v);E&&E.onComplete&&E.onComplete("permission_denied")},a.prototype.removeListen_=function(c,h){var E,v=new st(c).toString();if(this.listens.has(v)){var D=this.listens.get(v);E=D.get(h),D.delete(h),0===D.size&&this.listens.delete(v)}else E=void 0;return E},a.prototype.onAuthRevoked_=function(c,h){we("Auth token revoked: "+c+"/"+h),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},a.prototype.onAppCheckRevoked_=function(c,h){we("App check token revoked: "+c+"/"+h),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},a.prototype.onSecurityDebugPacket_=function(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))},a.prototype.restoreState_=function(){var c,h,v,E;this.tryAuth(),this.tryAppCheck();try{for(var D=(0,W.XA)(this.listens.values()),T=D.next();!T.done;T=D.next()){var R=T.value;try{for(var N=(v=void 0,(0,W.XA)(R.values())),k=N.next();!k.done;k=N.next())this.sendListen_(k.value)}catch(be){v={error:be}}finally{try{k&&!k.done&&(E=N.return)&&E.call(N)}finally{if(v)throw v.error}}}}catch(be){c={error:be}}finally{try{T&&!T.done&&(h=D.return)&&h.call(D)}finally{if(c)throw c.error}}for(var le=0;le<this.outstandingPuts_.length;le++)this.outstandingPuts_[le]&&this.sendPut_(le);for(;this.onDisconnectRequestQueue_.length;){var _e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(_e.action,_e.pathString,_e.data,_e.onComplete)}for(le=0;le<this.outstandingGets_.length;le++)this.outstandingGets_[le]&&this.sendGet_(le)},a.prototype.sendConnectStats_=function(){var c={},h="js";(0,A.Yr)()&&(h=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+h+"."+Q.replace(/\./g,"-")]=1,(0,A.uI)()?c["framework.cordova"]=1:(0,A.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)},a.prototype.shouldReconnect_=function(){var c=xn.getInstance().currentlyOnline();return(0,A.xb)(this.interruptReasons_)&&c},a.nextPersistentConnectionId_=0,a.nextConnectionId_=0,a}(ya),gt=function(){function u(a,c){this.name=a,this.node=c}return u.Wrap=function(a,c){return new u(a,c)},u}(),Pu=function(){function u(){}return u.prototype.getCompare=function(){return this.compare.bind(this)},u.prototype.indexedValueChanged=function(a,c){var h=new gt(X,a),v=new gt(X,c);return 0!==this.compare(h,v)},u.prototype.minPost=function(){return gt.MIN},u}(),zd=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),Object.defineProperty(a,"__EMPTY_NODE",{get:function(){return Fu},set:function(c){Fu=c},enumerable:!1,configurable:!0}),a.prototype.compare=function(c,h){return te(c.name,h.name)},a.prototype.isDefinedOn=function(c){throw(0,A.g5)("KeyIndex.isDefinedOn not expected to be called.")},a.prototype.indexedValueChanged=function(c,h){return!1},a.prototype.minPost=function(){return gt.MIN},a.prototype.maxPost=function(){return new gt(he,Fu)},a.prototype.makePost=function(c,h){return(0,A.hu)("string"==typeof c,"KeyIndex indexValue must always be a string."),new gt(c,Fu)},a.prototype.toString=function(){return".key"},a}(Pu),$r=new zd,xs=function(){function u(a,c,h,v,E){void 0===E&&(E=null),this.isReverse_=v,this.resultGenerator_=E,this.nodeStack_=[];for(var D=1;!a.isEmpty();)if(a=a,D=c?h(a.key,c):1,v&&(D*=-1),D<0)a=this.isReverse_?a.left:a.right;else{if(0===D){this.nodeStack_.push(a);break}this.nodeStack_.push(a),a=this.isReverse_?a.right:a.left}}return u.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var c,a=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value},this.isReverse_)for(a=a.left;!a.isEmpty();)this.nodeStack_.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack_.push(a),a=a.left;return c},u.prototype.hasNext=function(){return this.nodeStack_.length>0},u.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var a=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value}},u}(),Qn=function(){function u(a,c,h,v,E){this.key=a,this.value=c,this.color=null!=h?h:u.RED,this.left=null!=v?v:Gr.EMPTY_NODE,this.right=null!=E?E:Gr.EMPTY_NODE}return u.prototype.copy=function(a,c,h,v,E){return new u(null!=a?a:this.key,null!=c?c:this.value,null!=h?h:this.color,null!=v?v:this.left,null!=E?E:this.right)},u.prototype.count=function(){return this.left.count()+1+this.right.count()},u.prototype.isEmpty=function(){return!1},u.prototype.inorderTraversal=function(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)},u.prototype.reverseTraversal=function(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)},u.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},u.prototype.minKey=function(){return this.min_().key},u.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},u.prototype.insert=function(a,c,h){var v=this,E=h(a,v.key);return(v=E<0?v.copy(null,null,null,v.left.insert(a,c,h),null):0===E?v.copy(null,c,null,null,null):v.copy(null,null,null,null,v.right.insert(a,c,h))).fixUp_()},u.prototype.removeMin_=function(){if(this.left.isEmpty())return Gr.EMPTY_NODE;var a=this;return!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),(a=a.copy(null,null,null,a.left.removeMin_(),null)).fixUp_()},u.prototype.remove=function(a,c){var h,v;if(c(a,(h=this).key)<0)!h.left.isEmpty()&&!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.remove(a,c),null);else{if(h.left.isRed_()&&(h=h.rotateRight_()),!h.right.isEmpty()&&!h.right.isRed_()&&!h.right.left.isRed_()&&(h=h.moveRedRight_()),0===c(a,h.key)){if(h.right.isEmpty())return Gr.EMPTY_NODE;v=h.right.min_(),h=h.copy(v.key,v.value,null,null,h.right.removeMin_())}h=h.copy(null,null,null,null,h.right.remove(a,c))}return h.fixUp_()},u.prototype.isRed_=function(){return this.color},u.prototype.fixUp_=function(){var a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a},u.prototype.moveRedLeft_=function(){var a=this.colorFlip_();return a.right.left.isRed_()&&(a=(a=(a=a.copy(null,null,null,null,a.right.rotateRight_())).rotateLeft_()).colorFlip_()),a},u.prototype.moveRedRight_=function(){var a=this.colorFlip_();return a.left.left.isRed_()&&(a=(a=a.rotateRight_()).colorFlip_()),a},u.prototype.rotateLeft_=function(){var a=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)},u.prototype.rotateRight_=function(){var a=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)},u.prototype.colorFlip_=function(){var a=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,c)},u.prototype.checkMaxDepth_=function(){var a=this.check_();return Math.pow(2,a)<=this.count()+1},u.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var a=this.left.check_();if(a!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)},u.RED=!0,u.BLACK=!1,u}(),np=function(){function u(){}return u.prototype.copy=function(a,c,h,v,E){return this},u.prototype.insert=function(a,c,h){return new Qn(a,c,null)},u.prototype.remove=function(a,c){return this},u.prototype.count=function(){return 0},u.prototype.isEmpty=function(){return!0},u.prototype.inorderTraversal=function(a){return!1},u.prototype.reverseTraversal=function(a){return!1},u.prototype.minKey=function(){return null},u.prototype.maxKey=function(){return null},u.prototype.check_=function(){return 0},u.prototype.isRed_=function(){return!1},u}(),Gr=function(){function u(a,c){void 0===c&&(c=u.EMPTY_NODE),this.comparator_=a,this.root_=c}return u.prototype.insert=function(a,c){return new u(this.comparator_,this.root_.insert(a,c,this.comparator_).copy(null,null,Qn.BLACK,null,null))},u.prototype.remove=function(a){return new u(this.comparator_,this.root_.remove(a,this.comparator_).copy(null,null,Qn.BLACK,null,null))},u.prototype.get=function(a){for(var c,h=this.root_;!h.isEmpty();){if(0===(c=this.comparator_(a,h.key)))return h.value;c<0?h=h.left:c>0&&(h=h.right)}return null},u.prototype.getPredecessorKey=function(a){for(var c,h=this.root_,v=null;!h.isEmpty();){if(0===(c=this.comparator_(a,h.key))){if(h.left.isEmpty())return v?v.key:null;for(h=h.left;!h.right.isEmpty();)h=h.right;return h.key}c<0?h=h.left:c>0&&(v=h,h=h.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},u.prototype.isEmpty=function(){return this.root_.isEmpty()},u.prototype.count=function(){return this.root_.count()},u.prototype.minKey=function(){return this.root_.minKey()},u.prototype.maxKey=function(){return this.root_.maxKey()},u.prototype.inorderTraversal=function(a){return this.root_.inorderTraversal(a)},u.prototype.reverseTraversal=function(a){return this.root_.reverseTraversal(a)},u.prototype.getIterator=function(a){return new xs(this.root_,null,this.comparator_,!1,a)},u.prototype.getIteratorFrom=function(a,c){return new xs(this.root_,a,this.comparator_,!1,c)},u.prototype.getReverseIteratorFrom=function(a,c){return new xs(this.root_,a,this.comparator_,!0,c)},u.prototype.getReverseIterator=function(a){return new xs(this.root_,null,this.comparator_,!0,a)},u.EMPTY_NODE=new np,u}();function nc(u,a){return te(u.name,a.name)}function ti(u,a){return te(u,a)}var ic,oc,sc,Ia,Qo,ba=function(u){return"number"==typeof u?"number:"+Me(u):"string:"+u},rc=function(u){if(u.isLeafNode()){var a=u.val();(0,A.hu)("string"==typeof a||"number"==typeof a||"object"==typeof a&&(0,A.r3)(a,".sv"),"Priority must be a string or number.")}else(0,A.hu)(u===ku||u.isEmpty(),"priority of unexpected type.");(0,A.hu)(u===ku||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},lo=function(){function u(a,c){void 0===c&&(c=u.__childrenNodeConstructor.EMPTY_NODE),this.value_=a,this.priorityNode_=c,this.lazyHash_=null,(0,A.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),rc(this.priorityNode_)}return Object.defineProperty(u,"__childrenNodeConstructor",{get:function(){return ic},set:function(a){ic=a},enumerable:!1,configurable:!0}),u.prototype.isLeafNode=function(){return!0},u.prototype.getPriority=function(){return this.priorityNode_},u.prototype.updatePriority=function(a){return new u(this.value_,a)},u.prototype.getImmediateChild=function(a){return".priority"===a?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE},u.prototype.getChild=function(a){return ct(a)?this:".priority"===at(a)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE},u.prototype.hasChild=function(){return!1},u.prototype.getPredecessorChildName=function(a,c){return null},u.prototype.updateImmediateChild=function(a,c){return".priority"===a?this.updatePriority(c):c.isEmpty()&&".priority"!==a?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,c).updatePriority(this.priorityNode_)},u.prototype.updateChild=function(a,c){var h=at(a);return null===h?c:c.isEmpty()&&".priority"!==h?this:((0,A.hu)(".priority"!==h||1===Ti(a),".priority must be the last token in a path"),this.updateImmediateChild(h,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(bt(a),c)))},u.prototype.isEmpty=function(){return!1},u.prototype.numChildren=function(){return 0},u.prototype.forEachChild=function(a,c){return!1},u.prototype.val=function(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},u.prototype.hash=function(){if(null===this.lazyHash_){var a="";this.priorityNode_.isEmpty()||(a+="priority:"+ba(this.priorityNode_.val())+":");var c=typeof this.value_;a+=c+":",a+="number"===c?Me(this.value_):this.value_,this.lazyHash_=Ae(a)}return this.lazyHash_},u.prototype.getValue=function(){return this.value_},u.prototype.compareTo=function(a){return a===u.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof u.__childrenNodeConstructor?-1:((0,A.hu)(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))},u.prototype.compareToLeafNode_=function(a){var c=typeof a.value_,h=typeof this.value_,v=u.VALUE_TYPE_ORDER.indexOf(c),E=u.VALUE_TYPE_ORDER.indexOf(h);return(0,A.hu)(v>=0,"Unknown leaf type: "+c),(0,A.hu)(E>=0,"Unknown leaf type: "+h),v===E?"object"===h?0:this.value_<a.value_?-1:this.value_===a.value_?0:1:E-v},u.prototype.withIndex=function(){return this},u.prototype.isIndexed=function(){return!0},u.prototype.equals=function(a){return a===this||!!a.isLeafNode()&&(this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_))},u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u}(),Mt=new(function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype.compare=function(c,h){var v=c.node.getPriority(),E=h.node.getPriority(),D=v.compareTo(E);return 0===D?te(c.name,h.name):D},a.prototype.isDefinedOn=function(c){return!c.getPriority().isEmpty()},a.prototype.indexedValueChanged=function(c,h){return!c.getPriority().equals(h.getPriority())},a.prototype.minPost=function(){return gt.MIN},a.prototype.maxPost=function(){return new gt(he,new lo("[PRIORITY-POST]",sc))},a.prototype.makePost=function(c,h){var v=oc(c);return new gt(h,new lo("[PRIORITY-POST]",v))},a.prototype.toString=function(){return".priority"},a}(Pu)),uc=Math.log(2),Da=function(){function u(a){this.count=parseInt(Math.log(a+1)/uc,10),this.current_=this.count-1;var v=parseInt(Array(this.count+1).join("1"),2);this.bits_=a+1&v}return u.prototype.nextBitIsOne=function(){var a=!(this.bits_&1<<this.current_);return this.current_--,a},u}(),wa=function(u,a,c,h){u.sort(a);var v=function(R,N){var J,le,k=N-R;if(0===k)return null;if(1===k)return J=u[R],le=c?c(J):J,new Qn(le,J.node,Qn.BLACK,null,null);var _e=parseInt(k/2,10)+R,be=v(R,_e),ze=v(_e+1,N);return J=u[_e],le=c?c(J):J,new Qn(le,J.node,Qn.BLACK,be,ze)},T=function(R){for(var N=null,k=null,J=u.length,le=function(Fe,Ut){var nr=J-Fe,_s=J;J-=Fe;var uu=v(nr+1,_s),ua=u[nr],_n=c?c(ua):ua;_e(new Qn(_n,ua.node,Ut,null,uu))},_e=function(Fe){N?(N.left=Fe,N=Fe):(k=Fe,N=Fe)},be=0;be<R.count;++be){var ze=R.nextBitIsOne(),Ue=Math.pow(2,R.count-(be+1));ze?le(Ue,Qn.BLACK):(le(Ue,Qn.BLACK),le(Ue,Qn.RED))}return k}(new Da(u.length));return new Gr(h||a,T)},Ns={},jt=function(){function u(a,c){this.indexes_=a,this.indexSet_=c}return Object.defineProperty(u,"Default",{get:function(){return(0,A.hu)(Ns&&Mt,"ChildrenNode.ts has not been loaded"),Ia=Ia||new u({".priority":Ns},{".priority":Mt})},enumerable:!1,configurable:!0}),u.prototype.get=function(a){var c=(0,A.DV)(this.indexes_,a);if(!c)throw new Error("No index defined for "+a);return c instanceof Gr?c:null},u.prototype.hasIndex=function(a){return(0,A.r3)(this.indexSet_,a.toString())},u.prototype.addIndex=function(a,c){(0,A.hu)(a!==$r,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var h=[],v=!1,E=c.getIterator(gt.Wrap),D=E.getNext();D;)v=v||a.isDefinedOn(D.node),h.push(D),D=E.getNext();var T;T=v?wa(h,a.getCompare()):Ns;var R=a.toString(),N=(0,W.pi)({},this.indexSet_);N[R]=a;var k=(0,W.pi)({},this.indexes_);return k[R]=T,new u(k,N)},u.prototype.addToIndexes=function(a,c){var h=this;return new u((0,A.UI)(this.indexes_,function(E,D){var T=(0,A.DV)(h.indexSet_,D);if((0,A.hu)(T,"Missing index implementation for "+D),E===Ns){if(T.isDefinedOn(a.node)){for(var R=[],N=c.getIterator(gt.Wrap),k=N.getNext();k;)k.name!==a.name&&R.push(k),k=N.getNext();return R.push(a),wa(R,T.getCompare())}return Ns}var J=c.get(a.name),le=E;return J&&(le=le.remove(new gt(a.name,J))),le.insert(a,a.node)}),this.indexSet_)},u.prototype.removeFromIndexes=function(a,c){return new u((0,A.UI)(this.indexes_,function(v){if(v===Ns)return v;var E=c.get(a.name);return E?v.remove(new gt(a.name,E)):v}),this.indexSet_)},u}(),qe=function(){function u(a,c,h){this.children_=a,this.priorityNode_=c,this.indexMap_=h,this.lazyHash_=null,this.priorityNode_&&rc(this.priorityNode_),this.children_.isEmpty()&&(0,A.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(u,"EMPTY_NODE",{get:function(){return Qo||(Qo=new u(new Gr(ti),null,jt.Default))},enumerable:!1,configurable:!0}),u.prototype.isLeafNode=function(){return!1},u.prototype.getPriority=function(){return this.priorityNode_||Qo},u.prototype.updatePriority=function(a){return this.children_.isEmpty()?this:new u(this.children_,a,this.indexMap_)},u.prototype.getImmediateChild=function(a){if(".priority"===a)return this.getPriority();var c=this.children_.get(a);return null===c?Qo:c},u.prototype.getChild=function(a){var c=at(a);return null===c?this:this.getImmediateChild(c).getChild(bt(a))},u.prototype.hasChild=function(a){return null!==this.children_.get(a)},u.prototype.updateImmediateChild=function(a,c){if((0,A.hu)(c,"We should always be passing snapshot nodes"),".priority"===a)return this.updatePriority(c);var h=new gt(a,c),v=void 0,E=void 0;c.isEmpty()?(v=this.children_.remove(a),E=this.indexMap_.removeFromIndexes(h,this.children_)):(v=this.children_.insert(a,c),E=this.indexMap_.addToIndexes(h,this.children_));var D=v.isEmpty()?Qo:this.priorityNode_;return new u(v,D,E)},u.prototype.updateChild=function(a,c){var h=at(a);if(null===h)return c;(0,A.hu)(".priority"!==at(a)||1===Ti(a),".priority must be the last token in a path");var v=this.getImmediateChild(h).updateChild(bt(a),c);return this.updateImmediateChild(h,v)},u.prototype.isEmpty=function(){return this.children_.isEmpty()},u.prototype.numChildren=function(){return this.children_.count()},u.prototype.val=function(a){if(this.isEmpty())return null;var c={},h=0,v=0,E=!0;if(this.forEachChild(Mt,function(R,N){c[R]=N.val(a),h++,E&&u.INTEGER_REGEXP_.test(R)?v=Math.max(v,Number(R)):E=!1}),!a&&E&&v<2*h){var D=[];for(var T in c)D[T]=c[T];return D}return a&&!this.getPriority().isEmpty()&&(c[".priority"]=this.getPriority().val()),c},u.prototype.hash=function(){if(null===this.lazyHash_){var a="";this.getPriority().isEmpty()||(a+="priority:"+ba(this.getPriority().val())+":"),this.forEachChild(Mt,function(c,h){var v=h.hash();""!==v&&(a+=":"+c+":"+v)}),this.lazyHash_=""===a?"":Ae(a)}return this.lazyHash_},u.prototype.getPredecessorChildName=function(a,c,h){var v=this.resolveIndex_(h);if(v){var E=v.getPredecessorKey(new gt(a,c));return E?E.name:null}return this.children_.getPredecessorKey(a)},u.prototype.getFirstChildName=function(a){var c=this.resolveIndex_(a);if(c){var h=c.minKey();return h&&h.name}return this.children_.minKey()},u.prototype.getFirstChild=function(a){var c=this.getFirstChildName(a);return c?new gt(c,this.children_.get(c)):null},u.prototype.getLastChildName=function(a){var c=this.resolveIndex_(a);if(c){var h=c.maxKey();return h&&h.name}return this.children_.maxKey()},u.prototype.getLastChild=function(a){var c=this.getLastChildName(a);return c?new gt(c,this.children_.get(c)):null},u.prototype.forEachChild=function(a,c){var h=this.resolveIndex_(a);return h?h.inorderTraversal(function(v){return c(v.name,v.node)}):this.children_.inorderTraversal(c)},u.prototype.getIterator=function(a){return this.getIteratorFrom(a.minPost(),a)},u.prototype.getIteratorFrom=function(a,c){var h=this.resolveIndex_(c);if(h)return h.getIteratorFrom(a,function(D){return D});for(var v=this.children_.getIteratorFrom(a.name,gt.Wrap),E=v.peek();null!=E&&c.compare(E,a)<0;)v.getNext(),E=v.peek();return v},u.prototype.getReverseIterator=function(a){return this.getReverseIteratorFrom(a.maxPost(),a)},u.prototype.getReverseIteratorFrom=function(a,c){var h=this.resolveIndex_(c);if(h)return h.getReverseIteratorFrom(a,function(D){return D});for(var v=this.children_.getReverseIteratorFrom(a.name,gt.Wrap),E=v.peek();null!=E&&c.compare(E,a)>0;)v.getNext(),E=v.peek();return v},u.prototype.compareTo=function(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===Ft?-1:0},u.prototype.withIndex=function(a){if(a===$r||this.indexMap_.hasIndex(a))return this;var c=this.indexMap_.addIndex(a,this.children_);return new u(this.children_,this.priorityNode_,c)},u.prototype.isIndexed=function(a){return a===$r||this.indexMap_.hasIndex(a)},u.prototype.equals=function(a){if(a===this)return!0;if(a.isLeafNode())return!1;var c=a;if(this.getPriority().equals(c.getPriority())){if(this.children_.count()===c.children_.count()){for(var h=this.getIterator(Mt),v=c.getIterator(Mt),E=h.getNext(),D=v.getNext();E&&D;){if(E.name!==D.name||!E.node.equals(D.node))return!1;E=h.getNext(),D=v.getNext()}return null===E&&null===D}return!1}return!1},u.prototype.resolveIndex_=function(a){return a===$r?null:this.indexMap_.get(a.toString())},u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u}(),Ft=new(function(u){function a(){return u.call(this,new Gr(ti),qe.EMPTY_NODE,jt.Default)||this}return(0,W.ZT)(a,u),a.prototype.compareTo=function(c){return c===this?0:1},a.prototype.equals=function(c){return c===this},a.prototype.getPriority=function(){return this},a.prototype.getImmediateChild=function(c){return qe.EMPTY_NODE},a.prototype.isEmpty=function(){return!1},a}(qe));function Yt(u,a){if(void 0===a&&(a=null),null===u)return qe.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(a=u[".priority"]),(0,A.hu)(null===a||"string"==typeof a||"number"==typeof a||"object"==typeof a&&".sv"in a,"Invalid priority type found: "+typeof a),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new lo(u,Yt(a));if(u instanceof Array){var R=qe.EMPTY_NODE;return ke(u,function(N,k){if((0,A.r3)(u,N)&&"."!==N.substring(0,1)){var J=Yt(k);(J.isLeafNode()||!J.isEmpty())&&(R=R.updateImmediateChild(N,J))}}),R.updatePriority(Yt(a))}var h=[],v=!1;if(ke(u,function(N,k){if("."!==N.substring(0,1)){var J=Yt(k);J.isEmpty()||(v=v||!J.getPriority().isEmpty(),h.push(new gt(N,J)))}}),0===h.length)return qe.EMPTY_NODE;var D=wa(h,nc,function(N){return N.name},ti);if(v){var T=wa(h,Mt.getCompare());return new qe(D,Yt(a),new jt({".priority":T},{".priority":Mt}))}return new qe(D,Yt(a),jt.Default)}Object.defineProperties(gt,{MIN:{value:new gt(X,qe.EMPTY_NODE)},MAX:{value:new gt(he,Ft)}}),zd.__EMPTY_NODE=qe.EMPTY_NODE,lo.__childrenNodeConstructor=qe,function(u){ku=u}(Ft),function(u){sc=u}(Ft),function(u){oc=u}(Yt);var Ko=function(u){function a(c){var h=u.call(this)||this;return h.indexPath_=c,(0,A.hu)(!ct(c)&&".priority"!==at(c),"Can't create PathIndex with empty path or .priority key"),h}return(0,W.ZT)(a,u),a.prototype.extractChild=function(c){return c.getChild(this.indexPath_)},a.prototype.isDefinedOn=function(c){return!c.getChild(this.indexPath_).isEmpty()},a.prototype.compare=function(c,h){var v=this.extractChild(c.node),E=this.extractChild(h.node),D=v.compareTo(E);return 0===D?te(c.name,h.name):D},a.prototype.makePost=function(c,h){var v=Yt(c),E=qe.EMPTY_NODE.updateChild(this.indexPath_,v);return new gt(h,E)},a.prototype.maxPost=function(){var c=qe.EMPTY_NODE.updateChild(this.indexPath_,Ft);return new gt(he,c)},a.prototype.toString=function(){return Br(this.indexPath_,0).join("/")},a}(Pu),Os=new(function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype.compare=function(c,h){var v=c.node.compareTo(h.node);return 0===v?te(c.name,h.name):v},a.prototype.isDefinedOn=function(c){return!0},a.prototype.indexedValueChanged=function(c,h){return!c.equals(h)},a.prototype.minPost=function(){return gt.MIN},a.prototype.maxPost=function(){return gt.MAX},a.prototype.makePost=function(c,h){var v=Yt(c);return new gt(h,v)},a.prototype.toString=function(){return".value"},a}(Pu)),Si="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cc=function(){var u=0,a=[];return function(c){var h=c===u;u=c;var v,E=new Array(8);for(v=7;v>=0;v--)E[v]=Si.charAt(c%64),c=Math.floor(c/64);(0,A.hu)(0===c,"Cannot push at time == 0");var D=E.join("");if(h){for(v=11;v>=0&&63===a[v];v--)a[v]=0;a[v]++}else for(v=0;v<12;v++)a[v]=Math.floor(64*Math.random());for(v=0;v<12;v++)D+=Si.charAt(a[v]);return(0,A.hu)(20===D.length,"nextPushId: Length should be 20."),D}}(),Ps=function(u){if(u===""+Qt)return"-";var a=gn(u);if(null!=a)return""+(a+1);for(var c=new Array(u.length),h=0;h<c.length;h++)c[h]=u.charAt(h);if(c.length<786)return c.push("-"),c.join("");for(var v=c.length-1;v>=0&&"z"===c[v];)v--;if(-1===v)return he;var D=Si.charAt(Si.indexOf(c[v])+1);return c[v]=D,c.slice(0,v+1).join("")},Ri=function(u){if(u===""+rr)return X;var a=gn(u);if(null!=a)return""+(a-1);for(var c=new Array(u.length),h=0;h<c.length;h++)c[h]=u.charAt(h);return"-"===c[c.length-1]?1===c.length?""+Qt:(delete c[c.length-1],c.join("")):(c[c.length-1]=Si.charAt(Si.indexOf(c[c.length-1])-1),c.join("")+"z".repeat(786-c.length))};function Vu(u){return{type:"value",snapshotNode:u}}function xi(u,a){return{type:"child_added",snapshotNode:a,childName:u}}function We(u,a){return{type:"child_removed",snapshotNode:a,childName:u}}function Fs(u,a,c){return{type:"child_changed",snapshotNode:a,childName:u,oldSnap:c}}var Uu=function(){function u(a){this.index_=a}return u.prototype.updateChild=function(a,c,h,v,E,D){(0,A.hu)(a.isIndexed(this.index_),"A node must be indexed if only a child is updated");var T=a.getImmediateChild(c);return T.getChild(v).equals(h.getChild(v))&&T.isEmpty()===h.isEmpty()||(null!=D&&(h.isEmpty()?a.hasChild(c)?D.trackChildChange(We(c,T)):(0,A.hu)(a.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):T.isEmpty()?D.trackChildChange(xi(c,h)):D.trackChildChange(Fs(c,h,T))),a.isLeafNode()&&h.isEmpty())?a:a.updateImmediateChild(c,h).withIndex(this.index_)},u.prototype.updateFullNode=function(a,c,h){return null!=h&&(a.isLeafNode()||a.forEachChild(Mt,function(v,E){c.hasChild(v)||h.trackChildChange(We(v,E))}),c.isLeafNode()||c.forEachChild(Mt,function(v,E){if(a.hasChild(v)){var D=a.getImmediateChild(v);D.equals(E)||h.trackChildChange(Fs(v,E,D))}else h.trackChildChange(xi(v,E))})),c.withIndex(this.index_)},u.prototype.updatePriority=function(a,c){return a.isEmpty()?qe.EMPTY_NODE:a.updatePriority(c)},u.prototype.filtersNodes=function(){return!1},u.prototype.getIndexedFilter=function(){return this},u.prototype.getIndex=function(){return this.index_},u}(),dc=function(){function u(a){this.indexedFilter_=new Uu(a.getIndex()),this.index_=a.getIndex(),this.startPost_=u.getStartPost_(a),this.endPost_=u.getEndPost_(a)}return u.prototype.getStartPost=function(){return this.startPost_},u.prototype.getEndPost=function(){return this.endPost_},u.prototype.matches=function(a){return this.index_.compare(this.getStartPost(),a)<=0&&this.index_.compare(a,this.getEndPost())<=0},u.prototype.updateChild=function(a,c,h,v,E,D){return this.matches(new gt(c,h))||(h=qe.EMPTY_NODE),this.indexedFilter_.updateChild(a,c,h,v,E,D)},u.prototype.updateFullNode=function(a,c,h){c.isLeafNode()&&(c=qe.EMPTY_NODE);var v=c.withIndex(this.index_);v=v.updatePriority(qe.EMPTY_NODE);var E=this;return c.forEachChild(Mt,function(D,T){E.matches(new gt(D,T))||(v=v.updateImmediateChild(D,qe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(a,v,h)},u.prototype.updatePriority=function(a,c){return a},u.prototype.filtersNodes=function(){return!0},u.prototype.getIndexedFilter=function(){return this.indexedFilter_},u.prototype.getIndex=function(){return this.index_},u.getStartPost_=function(a){if(a.hasStart()){var c=a.getIndexStartName();return a.getIndex().makePost(a.getIndexStartValue(),c)}return a.getIndex().minPost()},u.getEndPost_=function(a){if(a.hasEnd()){var c=a.getIndexEndName();return a.getIndex().makePost(a.getIndexEndValue(),c)}return a.getIndex().maxPost()},u}(),Qd=function(){function u(a){this.rangedFilter_=new dc(a),this.index_=a.getIndex(),this.limit_=a.getLimit(),this.reverse_=!a.isViewFromLeft()}return u.prototype.updateChild=function(a,c,h,v,E,D){return this.rangedFilter_.matches(new gt(c,h))||(h=qe.EMPTY_NODE),a.getImmediateChild(c).equals(h)?a:a.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(a,c,h,v,E,D):this.fullLimitUpdateChild_(a,c,h,E,D)},u.prototype.updateFullNode=function(a,c,h){var v;if(c.isLeafNode()||c.isEmpty())v=qe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){v=qe.EMPTY_NODE.withIndex(this.index_);var E=void 0;E=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var D=0;E.hasNext()&&D<this.limit_;){var T=E.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),T)<=0:this.index_.compare(T,this.rangedFilter_.getEndPost())<=0))break;v=v.updateImmediateChild(T.name,T.node),D++}}else{v=(v=c.withIndex(this.index_)).updatePriority(qe.EMPTY_NODE);var N=void 0,k=void 0,J=void 0;if(E=void 0,this.reverse_){E=v.getReverseIterator(this.index_),N=this.rangedFilter_.getEndPost(),k=this.rangedFilter_.getStartPost();var le=this.index_.getCompare();J=function(Ue,Fe){return le(Fe,Ue)}}else E=v.getIterator(this.index_),N=this.rangedFilter_.getStartPost(),k=this.rangedFilter_.getEndPost(),J=this.index_.getCompare();D=0;for(var _e=!1;E.hasNext();)T=E.getNext(),!_e&&J(N,T)<=0&&(_e=!0),_e&&D<this.limit_&&J(T,k)<=0?D++:v=v.updateImmediateChild(T.name,qe.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(a,v,h)},u.prototype.updatePriority=function(a,c){return a},u.prototype.filtersNodes=function(){return!0},u.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},u.prototype.getIndex=function(){return this.index_},u.prototype.fullLimitUpdateChild_=function(a,c,h,v,E){var D;if(this.reverse_){var T=this.index_.getCompare();D=function(Ut,nr){return T(nr,Ut)}}else D=this.index_.getCompare();var R=a;(0,A.hu)(R.numChildren()===this.limit_,"");var N=new gt(c,h),k=this.reverse_?R.getFirstChild(this.index_):R.getLastChild(this.index_),J=this.rangedFilter_.matches(N);if(R.hasChild(c)){for(var le=R.getImmediateChild(c),_e=v.getChildAfterChild(this.index_,k,this.reverse_);null!=_e&&(_e.name===c||R.hasChild(_e.name));)_e=v.getChildAfterChild(this.index_,_e,this.reverse_);var be=null==_e?1:D(_e,N);if(J&&!h.isEmpty()&&be>=0)return null!=E&&E.trackChildChange(Fs(c,h,le)),R.updateImmediateChild(c,h);null!=E&&E.trackChildChange(We(c,le));var Ue=R.updateImmediateChild(c,qe.EMPTY_NODE);return null!=_e&&this.rangedFilter_.matches(_e)?(null!=E&&E.trackChildChange(xi(_e.name,_e.node)),Ue.updateImmediateChild(_e.name,_e.node)):Ue}return h.isEmpty()?a:J&&D(k,N)>=0?(null!=E&&(E.trackChildChange(We(k.name,k.node)),E.trackChildChange(xi(c,h))),R.updateImmediateChild(c,h).updateImmediateChild(k.name,qe.EMPTY_NODE)):a},u}(),fc=function(){function u(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mt}return u.prototype.hasStart=function(){return this.startSet_},u.prototype.hasStartAfter=function(){return this.startAfterSet_},u.prototype.hasEndBefore=function(){return this.endBeforeSet_},u.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},u.prototype.getIndexStartValue=function(){return(0,A.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},u.prototype.getIndexStartName=function(){return(0,A.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:X},u.prototype.hasEnd=function(){return this.endSet_},u.prototype.getIndexEndValue=function(){return(0,A.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},u.prototype.getIndexEndName=function(){return(0,A.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:he},u.prototype.hasLimit=function(){return this.limitSet_},u.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},u.prototype.getLimit=function(){return(0,A.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},u.prototype.getIndex=function(){return this.index_},u.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},u.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Mt},u.prototype.copy=function(){var a=new u;return a.limitSet_=this.limitSet_,a.limit_=this.limit_,a.startSet_=this.startSet_,a.indexStartValue_=this.indexStartValue_,a.startNameSet_=this.startNameSet_,a.indexStartName_=this.indexStartName_,a.endSet_=this.endSet_,a.indexEndValue_=this.indexEndValue_,a.endNameSet_=this.endNameSet_,a.indexEndName_=this.indexEndName_,a.index_=this.index_,a.viewFrom_=this.viewFrom_,a},u}();function Ls(u,a,c){var h=u.copy();return h.startSet_=!0,void 0===a&&(a=null),h.indexStartValue_=a,null!=c?(h.startNameSet_=!0,h.indexStartName_=c):(h.startNameSet_=!1,h.indexStartName_=""),h}function Vs(u,a,c){var h=u.copy();return h.endSet_=!0,void 0===a&&(a=null),h.indexEndValue_=a,void 0!==c?(h.endNameSet_=!0,h.indexEndName_=c):(h.endNameSet_=!1,h.indexEndName_=""),h}function On(u,a){var c=u.copy();return c.index_=a,c}function Us(u){var c,a={};return u.isDefault()||(u.index_===Mt?c="$priority":u.index_===Os?c="$value":u.index_===$r?c="$key":((0,A.hu)(u.index_ instanceof Ko,"Unrecognized index type!"),c=u.index_.toString()),a.orderBy=(0,A.Pz)(c),u.startSet_&&(a.startAt=(0,A.Pz)(u.indexStartValue_),u.startNameSet_&&(a.startAt+=","+(0,A.Pz)(u.indexStartName_))),u.endSet_&&(a.endAt=(0,A.Pz)(u.indexEndValue_),u.endNameSet_&&(a.endAt+=","+(0,A.Pz)(u.indexEndName_))),u.limitSet_&&(u.isViewFromLeft()?a.limitToFirst=u.limit_:a.limitToLast=u.limit_)),a}function Bs(u){var a={};if(u.startSet_&&(a.sp=u.indexStartValue_,u.startNameSet_&&(a.sn=u.indexStartName_)),u.endSet_&&(a.ep=u.indexEndValue_,u.endNameSet_&&(a.en=u.indexEndName_)),u.limitSet_){a.l=u.limit_;var c=u.viewFrom_;""===c&&(c=u.isViewFromLeft()?"l":"r"),a.vf=c}return u.index_!==Mt&&(a.i=u.index_.toString()),a}var ip=function(u){function a(c,h,v,E){var D=u.call(this)||this;return D.repoInfo_=c,D.onDataUpdate_=h,D.authTokenProvider_=v,D.appCheckTokenProvider_=E,D.log_=Ct("p:rest:"),D.listens_={},D}return(0,W.ZT)(a,u),a.prototype.reportStats=function(c){throw new Error("Method not implemented.")},a.getListenId_=function(c,h){return void 0!==h?"tag$"+h:((0,A.hu)(c._queryParams.isDefault(),"should have a tag if it's not a default query."),c._path.toString())},a.prototype.listen=function(c,h,v,E){var D=this,T=c._path.toString();this.log_("Listen called for "+T+" "+c._queryIdentifier);var R=a.getListenId_(c,v),N={};this.listens_[R]=N;var k=Us(c._queryParams);this.restRequest_(T+".json",k,function(J,le){var _e=le;404===J&&(_e=null,J=null),null===J&&D.onDataUpdate_(T,_e,!1,v),(0,A.DV)(D.listens_,R)===N&&E(J?401===J?"permission_denied":"rest_error:"+J:"ok",null)})},a.prototype.unlisten=function(c,h){var v=a.getListenId_(c,h);delete this.listens_[v]},a.prototype.get=function(c){var h=this,v=Us(c._queryParams),E=c._path.toString(),D=new A.BH;return this.restRequest_(E+".json",v,function(T,R){var N=R;404===T&&(N=null,T=null),null===T?(h.onDataUpdate_(E,N,!1,null),D.resolve(N)):D.reject(new Error(N))}),D.promise},a.prototype.refreshAuthToken=function(c){},a.prototype.restRequest_=function(c,h,v){var E=this;return void 0===h&&(h={}),h.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(D){var T=(0,W.CR)(D,2),R=T[0],N=T[1];R&&R.accessToken&&(h.auth=R.accessToken),N&&N.token&&(h.ac=N.token);var k=(E.repoInfo_.secure?"https://":"http://")+E.repoInfo_.host+c+"?ns="+E.repoInfo_.namespace+(0,A.xO)(h);E.log_("Sending REST request for "+k);var J=new XMLHttpRequest;J.onreadystatechange=function(){if(v&&4===J.readyState){E.log_("REST Response for "+k+" received. status:",J.status,"response:",J.responseText);var le=null;if(J.status>=200&&J.status<300){try{le=(0,A.cI)(J.responseText)}catch(_e){At("Failed to parse JSON response for "+k+": "+J.responseText)}v(null,le)}else 401!==J.status&&404!==J.status&&At("Got unsuccessful REST response for "+k+" Status: "+J.status),v(J.status);v=null}},J.open("GET",k,!0),J.send()})},a}(ya),Kd=function(){function u(){this.rootNode_=qe.EMPTY_NODE}return u.prototype.getNode=function(a){return this.rootNode_.getChild(a)},u.prototype.updateSnapshot=function(a,c){this.rootNode_=this.rootNode_.updateChild(a,c)},u}();function fo(){return{value:null,children:new Map}}function ni(u,a,c){if(ct(a))u.value=c,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(a,c);else{var h=at(a);u.children.has(h)||u.children.set(h,fo()),ni(u.children.get(h),a=bt(a),c)}}function sn(u,a){if(ct(a))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;var c=u.value;return u.value=null,c.forEachChild(Mt,function(E,D){ni(u,new st(E),D)}),sn(u,a)}if(u.children.size>0){var h=at(a);return a=bt(a),u.children.has(h)&&sn(u.children.get(h),a)&&u.children.delete(h),0===u.children.size}return!0}function Kn(u,a,c){null!==u.value?c(a,u.value):function(u,a){u.children.forEach(function(c,h){a(h,c)})}(u,function(h,v){Kn(v,new st(a.toString()+"/"+h),c)})}var ri=function(){function u(a){this.collection_=a,this.last_=null}return u.prototype.get=function(){var a=this.collection_.get(),c=(0,W.pi)({},a);return this.last_&&ke(this.last_,function(h,v){c[h]=c[h]-v}),this.last_=a,c},u}(),pc=function(){function u(a,c){this.server_=c,this.statsToReport_={},this.statsListener_=new ri(a);var h=1e4+2e4*Math.random();wi(this.reportStats_.bind(this),Math.floor(h))}return u.prototype.reportStats_=function(){var a=this,c=this.statsListener_.get(),h={},v=!1;ke(c,function(E,D){D>0&&(0,A.r3)(a.statsToReport_,E)&&(h[E]=D,v=!0)}),v&&this.server_.reportStats(h),wi(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},u}(),Gn=(()=>(function(u){u[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Gn||(Gn={})),Gn))();function ho(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}var gc=function(){function u(a,c,h){this.path=a,this.affectedTree=c,this.revert=h,this.type=Gn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return u.prototype.operationForChild=function(a){if(ct(this.path)){if(null!=this.affectedTree.value)return(0,A.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var c=this.affectedTree.subtree(new st(a));return new u(Oe(),c,this.revert)}return(0,A.hu)(at(this.path)===a,"operationForChild called for unrelated child."),new u(bt(this.path),this.affectedTree,this.revert)},u}(),Bu=function(){function u(a,c){this.source=a,this.path=c,this.type=Gn.LISTEN_COMPLETE}return u.prototype.operationForChild=function(a){return ct(this.path)?new u(this.source,Oe()):new u(this.source,bt(this.path))},u}(),po=function(){function u(a,c,h){this.source=a,this.path=c,this.snap=h,this.type=Gn.OVERWRITE}return u.prototype.operationForChild=function(a){return ct(this.path)?new u(this.source,Oe(),this.snap.getImmediateChild(a)):new u(this.source,bt(this.path),this.snap)},u}(),Ta=function(){function u(a,c,h){this.source=a,this.path=c,this.children=h,this.type=Gn.MERGE}return u.prototype.operationForChild=function(a){if(ct(this.path)){var c=this.children.subtree(new st(a));return c.isEmpty()?null:c.value?new po(this.source,Oe(),c.value):new u(this.source,Oe(),c)}return(0,A.hu)(at(this.path)===a,"Can't get a merge for a child not on the path of the operation"),new u(this.source,bt(this.path),this.children)},u.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},u}(),Ni=function(){function u(a,c,h){this.node_=a,this.fullyInitialized_=c,this.filtered_=h}return u.prototype.isFullyInitialized=function(){return this.fullyInitialized_},u.prototype.isFiltered=function(){return this.filtered_},u.prototype.isCompleteForPath=function(a){if(ct(a))return this.isFullyInitialized()&&!this.filtered_;var c=at(a);return this.isCompleteForChild(c)},u.prototype.isCompleteForChild=function(a){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(a)},u.prototype.getNode=function(){return this.node_},u}(),mc=function(a){this.query_=a,this.index_=this.query_._queryParams.getIndex()};function ii(u,a,c,h,v,E){var D=h.filter(function(T){return T.type===c});D.sort(function(T,R){return function(u,a,c){if(null==a.childName||null==c.childName)throw(0,A.g5)("Should only compare child_ events.");var h=new gt(a.childName,a.snapshotNode),v=new gt(c.childName,c.snapshotNode);return u.index_.compare(h,v)}(u,T,R)}),D.forEach(function(T){var R=function(u,a,c){return"value"===a.type||"child_removed"===a.type||(a.prevName=c.getPredecessorChildName(a.childName,a.snapshotNode,u.index_)),a}(u,T,E);v.forEach(function(N){N.respondsTo(T.type)&&a.push(N.createEvent(R,u.query_))})})}function fn(u,a){return{eventCache:u,serverCache:a}}function Dr(u,a,c,h){return fn(new Ni(a,c,h),u.serverCache)}function Xt(u,a,c,h){return fn(u.eventCache,new Ni(a,c,h))}function ju(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function Jo(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}var Hu,Jn=function(){function u(a,c){void 0===c&&(Hu||(Hu=new Gr(He)),c=Hu),this.value=a,this.children=c}return u.fromObject=function(a){var c=new u(null);return ke(a,function(h,v){c=c.set(new st(h),v)}),c},u.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},u.prototype.findRootMostMatchingPathAndValue=function(a,c){if(null!=this.value&&c(this.value))return{path:Oe(),value:this.value};if(ct(a))return null;var h=at(a),v=this.children.get(h);if(null!==v){var E=v.findRootMostMatchingPathAndValue(bt(a),c);return null!=E?{path:lt(new st(h),E.path),value:E.value}:null}return null},u.prototype.findRootMostValueAndPath=function(a){return this.findRootMostMatchingPathAndValue(a,function(){return!0})},u.prototype.subtree=function(a){if(ct(a))return this;var c=at(a),h=this.children.get(c);return null!==h?h.subtree(bt(a)):new u(null)},u.prototype.set=function(a,c){if(ct(a))return new u(c,this.children);var h=at(a),E=(this.children.get(h)||new u(null)).set(bt(a),c),D=this.children.insert(h,E);return new u(this.value,D)},u.prototype.remove=function(a){if(ct(a))return this.children.isEmpty()?new u(null):new u(null,this.children);var c=at(a),h=this.children.get(c);if(h){var v=h.remove(bt(a)),E=void 0;return E=v.isEmpty()?this.children.remove(c):this.children.insert(c,v),null===this.value&&E.isEmpty()?new u(null):new u(this.value,E)}return this},u.prototype.get=function(a){if(ct(a))return this.value;var c=at(a),h=this.children.get(c);return h?h.get(bt(a)):null},u.prototype.setTree=function(a,c){if(ct(a))return c;var D,h=at(a),E=(this.children.get(h)||new u(null)).setTree(bt(a),c);return D=E.isEmpty()?this.children.remove(h):this.children.insert(h,E),new u(this.value,D)},u.prototype.fold=function(a){return this.fold_(Oe(),a)},u.prototype.fold_=function(a,c){var h={};return this.children.inorderTraversal(function(v,E){h[v]=E.fold_(lt(a,v),c)}),c(a,this.value,h)},u.prototype.findOnPath=function(a,c){return this.findOnPath_(a,Oe(),c)},u.prototype.findOnPath_=function(a,c,h){var v=!!this.value&&h(c,this.value);if(v)return v;if(ct(a))return null;var E=at(a),D=this.children.get(E);return D?D.findOnPath_(bt(a),lt(c,E),h):null},u.prototype.foreachOnPath=function(a,c){return this.foreachOnPath_(a,Oe(),c)},u.prototype.foreachOnPath_=function(a,c,h){if(ct(a))return this;this.value&&h(c,this.value);var v=at(a),E=this.children.get(v);return E?E.foreachOnPath_(bt(a),lt(c,v),h):new u(null)},u.prototype.foreach=function(a){this.foreach_(Oe(),a)},u.prototype.foreach_=function(a,c){this.children.inorderTraversal(function(h,v){v.foreach_(lt(a,h),c)}),this.value&&c(a,this.value)},u.prototype.foreachChild=function(a){this.children.inorderTraversal(function(c,h){h.value&&a(c,h.value)})},u}(),wr=function(){function u(a){this.writeTree_=a}return u.empty=function(){return new u(new Jn(null))},u}();function Oi(u,a,c){if(ct(a))return new wr(new Jn(c));var h=u.writeTree_.findRootMostValueAndPath(a);if(null!=h){var v=h.path,E=h.value,D=zt(v,a);return E=E.updateChild(D,c),new wr(u.writeTree_.set(v,E))}var T=new Jn(c),R=u.writeTree_.setTree(a,T);return new wr(R)}function Pi(u,a,c){var h=u;return ke(c,function(v,E){h=Oi(h,lt(a,v),E)}),h}function Hs(u,a){if(ct(a))return wr.empty();var c=u.writeTree_.setTree(a,new Jn(null));return new wr(c)}function $s(u,a){return null!=Fi(u,a)}function Fi(u,a){var c=u.writeTree_.findRootMostValueAndPath(a);return null!=c?u.writeTree_.get(c.path).getChild(zt(c.path,a)):null}function _c(u){var a=[],c=u.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(Mt,function(h,v){a.push(new gt(h,v))}):u.writeTree_.children.inorderTraversal(function(h,v){null!=v.value&&a.push(new gt(h,v.value))}),a}function Pn(u,a){if(ct(a))return u;var c=Fi(u,a);return new wr(null!=c?new Jn(c):u.writeTree_.subtree(a))}function Xo(u){return u.writeTree_.isEmpty()}function Gs(u,a){return vc(Oe(),u.writeTree_,a)}function vc(u,a,c){if(null!=a.value)return c.updateChild(u,a.value);var h=null;return a.children.inorderTraversal(function(v,E){".priority"===v?((0,A.hu)(null!==E.value,"Priority writes must always be leaf nodes"),h=E.value):c=vc(lt(u,v),E,c)}),!c.getChild(u).isEmpty()&&null!==h&&(c=c.updateChild(lt(u,".priority"),h)),c}function ki(u,a){return zu(a,u)}function sm(u,a){if(u.snap)return Nn(u.path,a);for(var c in u.children)if(u.children.hasOwnProperty(c)&&Nn(lt(u.path,c),a))return!0;return!1}function yc(u){return u.visible}function Ir(u,a,c){for(var h=wr.empty(),v=0;v<u.length;++v){var E=u[v];if(a(E)){var D=E.path,T=void 0;if(E.snap)Nn(c,D)?h=Oi(h,T=zt(c,D),E.snap):Nn(D,c)&&(T=zt(D,c),h=Oi(h,Oe(),E.snap.getChild(T)));else{if(!E.children)throw(0,A.g5)("WriteRecord should have .snap or .children");if(Nn(c,D))h=Pi(h,T=zt(c,D),E.children);else if(Nn(D,c))if(ct(T=zt(D,c)))h=Pi(h,Oe(),E.children);else{var R=(0,A.DV)(E.children,at(T));if(R){var N=R.getChild(bt(T));h=Oi(h,Oe(),N)}}}}}return h}function Ws(u,a,c,h,v){if(h||v){var R=Pn(u.visibleWrites,a);return!v&&Xo(R)?c:v||null!=c||$s(R,Oe())?Gs(Ir(u.allWrites,function(le){return(le.visible||v)&&(!h||!~h.indexOf(le.writeId))&&(Nn(le.path,a)||Nn(a,le.path))},a),c||qe.EMPTY_NODE):null}var E=Fi(u.visibleWrites,a);if(null!=E)return E;var D=Pn(u.visibleWrites,a);return Xo(D)?c:null!=c||$s(D,Oe())?Gs(D,c||qe.EMPTY_NODE):null}function mo(u,a,c,h){return Ws(u.writeTree,u.treePath,a,c,h)}function sf(u,a){return function(u,a,c){var h=qe.EMPTY_NODE,v=Fi(u.visibleWrites,a);if(v)return v.isLeafNode()||v.forEachChild(Mt,function(T,R){h=h.updateImmediateChild(T,R)}),h;if(c){var E=Pn(u.visibleWrites,a);return c.forEachChild(Mt,function(T,R){var N=Gs(Pn(E,new st(T)),R);h=h.updateImmediateChild(T,N)}),_c(E).forEach(function(T){h=h.updateImmediateChild(T.name,T.node)}),h}return _c(Pn(u.visibleWrites,a)).forEach(function(T){h=h.updateImmediateChild(T.name,T.node)}),h}(u.writeTree,u.treePath,a)}function Wu(u,a,c,h){return function(u,a,c,h,v){(0,A.hu)(h||v,"Either existingEventSnap or existingServerSnap must exist");var E=lt(a,c);if($s(u.visibleWrites,E))return null;var D=Pn(u.visibleWrites,E);return Xo(D)?v.getChild(c):Gs(D,v.getChild(c))}(u.writeTree,u.treePath,a,c,h)}function Ma(u,a){return function(u,a){return Fi(u.visibleWrites,a)}(u.writeTree,lt(u.treePath,a))}function bc(u,a,c){return function(u,a,c,h){var v=lt(a,c),E=Fi(u.visibleWrites,v);return null!=E?E:h.isCompleteForChild(c)?Gs(Pn(u.visibleWrites,v),h.getNode().getImmediateChild(c)):null}(u.writeTree,u.treePath,a,c)}function es(u,a){return zu(lt(u.treePath,a),u.writeTree)}function zu(u,a){return{treePath:u,writeTree:a}}var an=function(){function u(){this.changeMap=new Map}return u.prototype.trackChildChange=function(a){var c=a.type,h=a.childName;(0,A.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,A.hu)(".priority"!==h,"Only non-priority child changes can be tracked.");var v=this.changeMap.get(h);if(v){var E=v.type;if("child_added"===c&&"child_removed"===E)this.changeMap.set(h,Fs(h,a.snapshotNode,v.snapshotNode));else if("child_removed"===c&&"child_added"===E)this.changeMap.delete(h);else if("child_removed"===c&&"child_changed"===E)this.changeMap.set(h,We(h,v.oldSnap));else if("child_changed"===c&&"child_added"===E)this.changeMap.set(h,xi(h,a.snapshotNode));else{if("child_changed"!==c||"child_changed"!==E)throw(0,A.g5)("Illegal combination of changes: "+a+" occurred after "+v);this.changeMap.set(h,Fs(h,a.snapshotNode,v.oldSnap))}}else this.changeMap.set(h,a)},u.prototype.getChanges=function(){return Array.from(this.changeMap.values())},u}(),_o=new(function(){function u(){}return u.prototype.getCompleteChild=function(a){return null},u.prototype.getChildAfterChild=function(a,c,h){return null},u}()),tt=function(){function u(a,c,h){void 0===h&&(h=null),this.writes_=a,this.viewCache_=c,this.optCompleteServerCache_=h}return u.prototype.getCompleteChild=function(a){var c=this.viewCache_.eventCache;if(c.isCompleteForChild(a))return c.getNode().getImmediateChild(a);var h=null!=this.optCompleteServerCache_?new Ni(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bc(this.writes_,a,h)},u.prototype.getChildAfterChild=function(a,c,h){var v=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jo(this.viewCache_),E=function(u,a,c,h,v,E){return function(u,a,c,h,v,E,D){var T,R=Pn(u.visibleWrites,a),N=Fi(R,Oe());if(null!=N)T=N;else{if(null==c)return[];T=Gs(R,c)}if((T=T.withIndex(D)).isEmpty()||T.isLeafNode())return[];for(var k=[],J=D.getCompare(),le=E?T.getReverseIteratorFrom(h,D):T.getIteratorFrom(h,D),_e=le.getNext();_e&&k.length<v;)0!==J(_e,h)&&k.push(_e),_e=le.getNext();return k}(u.writeTree,u.treePath,a,c,h,v,E)}(this.writes_,v,c,1,h,a);return 0===E.length?null:E[0]},u}();function Li(u,a,c,h,v,E){var D=a.eventCache;if(null!=Ma(h,c))return a;var T=void 0,R=void 0;if(ct(c))if((0,A.hu)(a.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),a.serverCache.isFiltered()){var N=Jo(a),J=sf(h,N instanceof qe?N:qe.EMPTY_NODE);T=u.filter.updateFullNode(a.eventCache.getNode(),J,E)}else{var le=mo(h,Jo(a));T=u.filter.updateFullNode(a.eventCache.getNode(),le,E)}else{var _e=at(c);if(".priority"===_e){(0,A.hu)(1===Ti(c),"Can't have a priority with additional path components");var be=D.getNode(),ze=Wu(h,c,be,R=a.serverCache.getNode());T=null!=ze?u.filter.updatePriority(be,ze):D.getNode()}else{var Ue=bt(c),Fe=void 0;if(D.isCompleteForChild(_e)){R=a.serverCache.getNode();var Ut=Wu(h,c,D.getNode(),R);Fe=null!=Ut?D.getNode().getImmediateChild(_e).updateChild(Ue,Ut):D.getNode().getImmediateChild(_e)}else Fe=bc(h,_e,a.serverCache);T=null!=Fe?u.filter.updateChild(D.getNode(),_e,Fe,Ue,v,E):D.getNode()}}return Dr(a,T,D.isFullyInitialized()||ct(c),u.filter.filtersNodes())}function er(u,a,c,h,v,E,D,T){var N,R=a.serverCache,k=D?u.filter:u.filter.getIndexedFilter();if(ct(c))N=k.updateFullNode(R.getNode(),h,null);else if(k.filtersNodes()&&!R.isFiltered()){var J=R.getNode().updateChild(c,h);N=k.updateFullNode(R.getNode(),J,null)}else{var le=at(c);if(!R.isCompleteForPath(c)&&Ti(c)>1)return a;var _e=bt(c),ze=R.getNode().getImmediateChild(le).updateChild(_e,h);N=".priority"===le?k.updatePriority(R.getNode(),ze):k.updateChild(R.getNode(),le,ze,_e,_o,null)}var Ue=Xt(a,N,R.isFullyInitialized()||ct(c),k.filtersNodes());return Li(u,Ue,c,v,new tt(v,Ue,E),T)}function ts(u,a,c,h,v,E,D){var R,N,T=a.eventCache,k=new tt(v,a,E);if(ct(c))N=u.filter.updateFullNode(a.eventCache.getNode(),h,D),R=Dr(a,N,!0,u.filter.filtersNodes());else{var J=at(c);if(".priority"===J)N=u.filter.updatePriority(a.eventCache.getNode(),h),R=Dr(a,N,T.isFullyInitialized(),T.isFiltered());else{var le=bt(c),_e=T.getNode().getImmediateChild(J),be=void 0;if(ct(le))be=h;else{var ze=k.getCompleteChild(J);be=null!=ze?".priority"===Ms(le)&&ze.getChild(jr(le)).isEmpty()?ze:ze.updateChild(le,h):qe.EMPTY_NODE}R=_e.equals(be)?a:Dr(a,u.filter.updateChild(T.getNode(),J,be,le,k,D),T.isFullyInitialized(),u.filter.filtersNodes())}}return R}function Vi(u,a){return u.eventCache.isCompleteForChild(a)}function qu(u,a,c){return c.foreach(function(h,v){a=a.updateChild(h,v)}),a}function Ra(u,a,c,h,v,E,D,T){if(a.serverCache.getNode().isEmpty()&&!a.serverCache.isFullyInitialized())return a;var N,R=a;N=ct(c)?h:new Jn(null).setTree(c,h);var k=a.serverCache.getNode();return N.children.inorderTraversal(function(J,le){if(k.hasChild(J)){var be=qu(0,a.serverCache.getNode().getImmediateChild(J),le);R=er(u,R,new st(J),be,v,E,D,T)}}),N.children.inorderTraversal(function(J,le){var _e=!a.serverCache.isCompleteForChild(J)&&void 0===le.value;if(!k.hasChild(J)&&!_e){var ze=qu(0,a.serverCache.getNode().getImmediateChild(J),le);R=er(u,R,new st(J),ze,v,E,D,T)}}),R}var mn=function(){function u(a,c){this.query_=a,this.eventRegistrations_=[];var h=this.query_._queryParams,v=new Uu(h.getIndex()),E=function(u){return u.loadsAllData()?new Uu(u.getIndex()):u.hasLimit()?new Qd(u):new dc(u)}(h);this.processor_=function(u){return{filter:u}}(E);var D=c.serverCache,T=c.eventCache,R=v.updateFullNode(qe.EMPTY_NODE,D.getNode(),null),N=E.updateFullNode(qe.EMPTY_NODE,T.getNode(),null),k=new Ni(R,D.isFullyInitialized(),v.filtersNodes()),J=new Ni(N,T.isFullyInitialized(),E.filtersNodes());this.viewCache_=fn(J,k),this.eventGenerator_=new mc(this.query_)}return Object.defineProperty(u.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),u}();function Ar(u,a){var c=Jo(u.viewCache_);return c&&(u.query._queryParams.loadsAllData()||!ct(a)&&!c.getImmediateChild(at(a)).isEmpty())?c.getChild(a):null}function vo(u){return 0===u.eventRegistrations_.length}function si(u,a,c){var h=[];if(c){(0,A.hu)(null==a,"A cancel should cancel all event registrations.");var v=u.query._path;u.eventRegistrations_.forEach(function(R){var N=R.createCancelEvent(c,v);N&&h.push(N)})}if(a){for(var E=[],D=0;D<u.eventRegistrations_.length;++D){var T=u.eventRegistrations_[D];if(T.matches(a)){if(a.hasAnyCallback()){E=E.concat(u.eventRegistrations_.slice(D+1));break}}else E.push(T)}u.eventRegistrations_=E}else u.eventRegistrations_=[];return h}function Ic(u,a,c,h){a.type===Gn.MERGE&&null!==a.source.queryId&&((0,A.hu)(Jo(u.viewCache_),"We should always have a full cache before handling merges"),(0,A.hu)(ju(u.viewCache_),"Missing event cache, even though we have a server cache"));var v=u.viewCache_,E=function(u,a,c,h,v){var D,T,E=new an;if(c.type===Gn.OVERWRITE){var R=c;R.source.fromUser?D=ts(u,a,R.path,R.snap,h,v,E):((0,A.hu)(R.source.fromServer,"Unknown source."),T=R.source.tagged||a.serverCache.isFiltered()&&!ct(R.path),D=er(u,a,R.path,R.snap,h,v,T,E))}else if(c.type===Gn.MERGE){var N=c;N.source.fromUser?D=function(u,a,c,h,v,E,D){var T=a;return h.foreach(function(R,N){var k=lt(c,R);Vi(a,at(k))&&(T=ts(u,T,k,N,v,E,D))}),h.foreach(function(R,N){var k=lt(c,R);Vi(a,at(k))||(T=ts(u,T,k,N,v,E,D))}),T}(u,a,N.path,N.children,h,v,E):((0,A.hu)(N.source.fromServer,"Unknown source."),T=N.source.tagged||a.serverCache.isFiltered(),D=Ra(u,a,N.path,N.children,h,v,T,E))}else if(c.type===Gn.ACK_USER_WRITE){var k=c;D=k.revert?function(u,a,c,h,v,E){var D;if(null!=Ma(h,c))return a;var T=new tt(h,a,v),R=a.eventCache.getNode(),N=void 0;if(ct(c)||".priority"===at(c)){var k=void 0;if(a.serverCache.isFullyInitialized())k=mo(h,Jo(a));else{var J=a.serverCache.getNode();(0,A.hu)(J instanceof qe,"serverChildren would be complete if leaf node"),k=sf(h,J)}N=u.filter.updateFullNode(R,k=k,E)}else{var le=at(c),_e=bc(h,le,a.serverCache);null==_e&&a.serverCache.isCompleteForChild(le)&&(_e=R.getImmediateChild(le)),(N=null!=_e?u.filter.updateChild(R,le,_e,bt(c),T,E):a.eventCache.getNode().hasChild(le)?u.filter.updateChild(R,le,qe.EMPTY_NODE,bt(c),T,E):R).isEmpty()&&a.serverCache.isFullyInitialized()&&(D=mo(h,Jo(a))).isLeafNode()&&(N=u.filter.updateFullNode(N,D,E))}return D=a.serverCache.isFullyInitialized()||null!=Ma(h,Oe()),Dr(a,N,D,u.filter.filtersNodes())}(u,a,k.path,h,v,E):function(u,a,c,h,v,E,D){if(null!=Ma(v,c))return a;var T=a.serverCache.isFiltered(),R=a.serverCache;if(null!=h.value){if(ct(c)&&R.isFullyInitialized()||R.isCompleteForPath(c))return er(u,a,c,R.getNode().getChild(c),v,E,T,D);if(ct(c)){var N=new Jn(null);return R.getNode().forEachChild($r,function(J,le){N=N.set(new st(J),le)}),Ra(u,a,c,N,v,E,T,D)}return a}var k=new Jn(null);return h.foreach(function(J,le){var _e=lt(c,J);R.isCompleteForPath(_e)&&(k=k.set(J,R.getNode().getChild(_e)))}),Ra(u,a,c,k,v,E,T,D)}(u,a,k.path,k.affectedTree,h,v,E)}else{if(c.type!==Gn.LISTEN_COMPLETE)throw(0,A.g5)("Unknown operation type: "+c.type);D=function(u,a,c,h,v){var E=a.serverCache;return Li(u,Xt(a,E.getNode(),E.isFullyInitialized()||ct(c),E.isFiltered()),c,h,_o,v)}(u,a,c.path,h,E)}var J=E.getChanges();return function(u,a,c){var h=a.eventCache;if(h.isFullyInitialized()){var v=h.getNode().isLeafNode()||h.getNode().isEmpty(),E=ju(u);(c.length>0||!u.eventCache.isFullyInitialized()||v&&!h.getNode().equals(E)||!h.getNode().getPriority().equals(E.getPriority()))&&c.push(Vu(ju(a)))}}(a,D,J),{viewCache:D,changes:J}}(u.processor_,v,a,c,h);return function(u,a){(0,A.hu)(a.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,A.hu)(a.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,E.viewCache),(0,A.hu)(E.viewCache.serverCache.isFullyInitialized()||!v.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=E.viewCache,Zu(u,E.changes,E.viewCache.eventCache.getNode(),null)}function Zu(u,a,c,h){return function(u,a,c,h){var v=[],E=[];return a.forEach(function(D){"child_changed"===D.type&&u.index_.indexedValueChanged(D.oldSnap,D.snapshotNode)&&E.push(function(u,a){return{type:"child_moved",snapshotNode:a,childName:u}}(D.childName,D.snapshotNode))}),ii(u,v,"child_removed",a,h,c),ii(u,v,"child_added",a,h,c),ii(u,v,"child_moved",E,h,c),ii(u,v,"child_changed",a,h,c),ii(u,v,"value",a,h,c),v}(u.eventGenerator_,a,c,h?[h]:u.eventRegistrations_)}var Oa,Pa,Qu=function(){this.views=new Map};function Ju(u,a,c,h){var v,E,D=a.source.queryId;if(null!==D){var T=u.views.get(D);return(0,A.hu)(null!=T,"SyncTree gave us an op for an invalid query."),Ic(T,a,c,h)}var R=[];try{for(var N=(0,W.XA)(u.views.values()),k=N.next();!k.done;k=N.next())R=R.concat(Ic(T=k.value,a,c,h))}catch(J){v={error:J}}finally{try{k&&!k.done&&(E=N.return)&&E.call(N)}finally{if(v)throw v.error}}return R}function Tc(u,a,c,h,v){var D=u.views.get(a._queryIdentifier);if(!D){var T=mo(c,v?h:null),R=!1;T?R=!0:h instanceof qe?(T=sf(c,h),R=!1):(T=qe.EMPTY_NODE,R=!1);var N=fn(new Ni(T,R,!1),new Ni(h,v,!1));return new mn(a,N)}return D}function Sc(u){var a,c,h=[];try{for(var v=(0,W.XA)(u.views.values()),E=v.next();!E.done;E=v.next()){var D=E.value;D.query._queryParams.loadsAllData()||h.push(D)}}catch(T){a={error:T}}finally{try{E&&!E.done&&(c=v.return)&&c.call(v)}finally{if(a)throw a.error}}return h}function ai(u,a){var c,h,v=null;try{for(var E=(0,W.XA)(u.views.values()),D=E.next();!D.done;D=E.next())v=v||Ar(D.value,a)}catch(R){c={error:R}}finally{try{D&&!D.done&&(h=E.return)&&h.call(E)}finally{if(c)throw c.error}}return v}function Mc(u,a){return a._queryParams.loadsAllData()?ui(u):u.views.get(a._queryIdentifier)}function Xu(u,a){return null!=Mc(u,a)}function Ui(u){return null!=ui(u)}function ui(u){var a,c;try{for(var h=(0,W.XA)(u.views.values()),v=h.next();!v.done;v=h.next()){var E=v.value;if(E.query._queryParams.loadsAllData())return E}}catch(D){a={error:D}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(a)throw a.error}}return null}var qs=1,Rc=function(a){this.listenProvider_=a,this.syncPointTree_=new Jn(null),this.pendingWriteTree_={visibleWrites:wr.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Fa(u,a,c,h,v){return function(u,a,c,h,v){(0,A.hu)(h>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===v&&(v=!0),u.allWrites.push({path:a,snap:c,writeId:h,visible:v}),v&&(u.visibleWrites=Oi(u.visibleWrites,a,c)),u.lastWriteId=h}(u.pendingWriteTree_,a,c,h,v),v?Tr(u,new po({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,c)):[]}function $t(u,a,c){void 0===c&&(c=!1);var h=function(u,a){for(var c=0;c<u.allWrites.length;c++){var h=u.allWrites[c];if(h.writeId===a)return h}return null}(u.pendingWriteTree_,a);if(function(u,a){var c=u.allWrites.findIndex(function(N){return N.writeId===a});(0,A.hu)(c>=0,"removeWrite called with nonexistent writeId.");var h=u.allWrites[c];u.allWrites.splice(c,1);for(var v=h.visible,E=!1,D=u.allWrites.length-1;v&&D>=0;){var T=u.allWrites[D];T.visible&&(D>=c&&sm(T,h.path)?v=!1:Nn(h.path,T.path)&&(E=!0)),D--}return!!v&&(E?(function(u){u.visibleWrites=Ir(u.allWrites,yc,Oe()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(h.snap?u.visibleWrites=Hs(u.visibleWrites,h.path):ke(h.children,function(N){u.visibleWrites=Hs(u.visibleWrites,lt(h.path,N))}),!0))}(u.pendingWriteTree_,a)){var E=new Jn(null);return null!=h.snap?E=E.set(Oe(),!0):ke(h.children,function(D){E=E.set(new st(D),!0)}),Tr(u,new gc(h.path,E,c))}return[]}function li(u,a,c){return Tr(u,new po({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,c))}function Eo(u,a,c,h){var v=a._path,E=u.syncPointTree_.get(v),D=[];if(E&&("default"===a._queryIdentifier||Xu(E,a))){var T=function(u,a,c,h){var v,E,D=a._queryIdentifier,T=[],R=[],N=Ui(u);if("default"===D)try{for(var k=(0,W.XA)(u.views.entries()),J=k.next();!J.done;J=k.next()){var be,le=(0,W.CR)(J.value,2),_e=le[0];R=R.concat(si(be=le[1],c,h)),vo(be)&&(u.views.delete(_e),be.query._queryParams.loadsAllData()||T.push(be.query))}}catch(ze){v={error:ze}}finally{try{J&&!J.done&&(E=k.return)&&E.call(k)}finally{if(v)throw v.error}}else(be=u.views.get(D))&&(R=R.concat(si(be,c,h)),vo(be)&&(u.views.delete(D),be.query._queryParams.loadsAllData()||T.push(be.query)));return N&&!Ui(u)&&T.push(new((0,A.hu)(Oa,"Reference.ts has not been loaded"),Oa)(a._repo,a._path)),{removed:T,events:R}}(E,a,c,h);(function(u){return 0===u.views.size})(E)&&(u.syncPointTree_=u.syncPointTree_.remove(v));var R=T.removed;D=T.events;var N=-1!==R.findIndex(function(Ut){return Ut._queryParams.loadsAllData()}),k=u.syncPointTree_.findOnPath(v,function(Ut,nr){return Ui(nr)});if(N&&!k){var J=u.syncPointTree_.subtree(v);if(!J.isEmpty())for(var le=function(u){return u.fold(function(a,c,h){if(c&&Ui(c))return[ui(c)];var E=[];return c&&(E=Sc(c)),ke(h,function(D,T){E=E.concat(T)}),E})}(J),_e=0;_e<le.length;++_e){var be=le[_e],ze=be.query,Ue=os(u,be);u.listenProvider_.startListening(ss(ze),La(u,ze),Ue.hashFn,Ue.onComplete)}}!k&&R.length>0&&!h&&(N?u.listenProvider_.stopListening(ss(a),null):R.forEach(function(Ut){var nr=u.queryToTagMap.get(Va(Ut));u.listenProvider_.stopListening(ss(Ut),nr)})),function(u,a){for(var c=0;c<a.length;++c){var h=a[c];if(!h._queryParams.loadsAllData()){var v=Va(h),E=u.queryToTagMap.get(v);u.queryToTagMap.delete(v),u.tagToQueryMap.delete(E)}}}(u,R)}return D}function ka(u,a,c){var h=a._path,v=null,E=!1;u.syncPointTree_.foreachOnPath(h,function(ze,Ue){var Fe=zt(ze,h);v=v||ai(Ue,Fe),E=E||Ui(Ue)});var T,D=u.syncPointTree_.get(h);D?(E=E||Ui(D),v=v||ai(D,Oe())):(D=new Qu,u.syncPointTree_=u.syncPointTree_.set(h,D)),null!=v?T=!0:(T=!1,v=qe.EMPTY_NODE,u.syncPointTree_.subtree(h).foreachChild(function(ze,Ue){var Fe=ai(Ue,Oe());Fe&&(v=v.updateImmediateChild(ze,Fe))}));var N=Xu(D,a);if(!N&&!a._queryParams.loadsAllData()){var k=Va(a);(0,A.hu)(!u.queryToTagMap.has(k),"View does not exist, but we have a tag");var J=qs++;u.queryToTagMap.set(k,J),u.tagToQueryMap.set(J,k)}var _e=function(u,a,c,h,v,E){var D=Tc(u,a,h,v,E);return u.views.has(a._queryIdentifier)||u.views.set(a._queryIdentifier,D),function(u,a){u.eventRegistrations_.push(a)}(D,c),function(u,a){var c=u.viewCache_.eventCache,h=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(Mt,function(E,D){h.push(xi(E,D))}),c.isFullyInitialized()&&h.push(Vu(c.getNode())),Zu(u,h,c.getNode(),a)}(D,c)}(D,a,c,ki(u.pendingWriteTree_,h),v,T);if(!N&&!E){var be=Mc(D,a);_e=_e.concat(function(u,a,c){var h=a._path,v=La(u,a),E=os(u,c),D=u.listenProvider_.startListening(ss(a),v,E.hashFn,E.onComplete),T=u.syncPointTree_.subtree(h);if(v)(0,A.hu)(!Ui(T.value),"If we're adding a query, it shouldn't be shadowed");else for(var R=T.fold(function(J,le,_e){if(!ct(J)&&le&&Ui(le))return[ui(le).query];var be=[];return le&&(be=be.concat(Sc(le).map(function(ze){return ze.query}))),ke(_e,function(ze,Ue){be=be.concat(Ue)}),be}),N=0;N<R.length;++N){var k=R[N];u.listenProvider_.stopListening(ss(k),La(u,k))}return D}(u,a,be))}return _e}function ci(u,a,c){var v=u.pendingWriteTree_,E=u.syncPointTree_.findOnPath(a,function(D,T){var N=ai(T,zt(D,a));if(N)return N});return Ws(v,a,E,c,!0)}function Tr(u,a){return bo(a,u.syncPointTree_,null,ki(u.pendingWriteTree_,Oe()))}function bo(u,a,c,h){if(ct(u.path))return el(u,a,c,h);var v=a.get(Oe());null==c&&null!=v&&(c=ai(v,Oe()));var E=[],D=at(u.path),T=u.operationForChild(D),R=a.children.get(D);if(R&&T){var N=c?c.getImmediateChild(D):null,k=es(h,D);E=E.concat(bo(T,R,N,k))}return v&&(E=E.concat(Ju(v,u,h,c))),E}function el(u,a,c,h){var v=a.get(Oe());null==c&&null!=v&&(c=ai(v,Oe()));var E=[];return a.children.inorderTraversal(function(D,T){var R=c?c.getImmediateChild(D):null,N=es(h,D),k=u.operationForChild(D);k&&(E=E.concat(el(k,T,R,N)))}),v&&(E=E.concat(Ju(v,u,h,c))),E}function os(u,a){var c=a.query,h=La(u,c);return{hashFn:function(){return(function(u){return u.viewCache_.serverCache.getNode()}(a)||qe.EMPTY_NODE).hash()},onComplete:function(v){if("ok"===v)return h?function(u,a,c){var h=Ua(u,c);if(h){var v=tl(h),E=v.path,D=v.queryId,T=zt(E,a);return Ba(u,E,new Bu(ho(D),T))}return[]}(u,c._path,h):function(u,a){return Tr(u,new Bu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a))}(u,c._path);var E=function(u,a){var c="Unknown Error";"too_big"===u?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?c="Client doesn't have permission to access the desired data.":"unavailable"===u&&(c="The service is unavailable");var h=new Error(u+" at "+a._path.toString()+": "+c);return h.code=u.toUpperCase(),h}(v,c);return Eo(u,c,null,E)}}}function La(u,a){var c=Va(a);return u.queryToTagMap.get(c)}function Va(u){return u._path.toString()+"$"+u._queryIdentifier}function Ua(u,a){return u.tagToQueryMap.get(a)}function tl(u){var a=u.indexOf("$");return(0,A.hu)(-1!==a&&a<u.length-1,"Bad queryKey."),{queryId:u.substr(a+1),path:new st(u.substr(0,a))}}function Ba(u,a,c){var h=u.syncPointTree_.get(a);return(0,A.hu)(h,"Missing sync point for query tag that we're tracking"),Ju(h,c,ki(u.pendingWriteTree_,a),null)}function ss(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new((0,A.hu)(Pa,"Reference.ts has not been loaded"),Pa)(u._repo,u._path):u}var Ha=function(){function u(a){this.node_=a}return u.prototype.getImmediateChild=function(a){return new u(this.node_.getImmediateChild(a))},u.prototype.node=function(){return this.node_},u}(),Bi=function(){function u(a,c){this.syncTree_=a,this.path_=c}return u.prototype.getImmediateChild=function(a){var c=lt(this.path_,a);return new u(this.syncTree_,c)},u.prototype.node=function(){return ci(this.syncTree_,this.path_)},u}(),cf=function(u,a,c){return u&&"object"==typeof u?((0,A.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?Ks(u[".sv"],a,c):"object"==typeof u[".sv"]?as(u[".sv"],a):void(0,A.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},Ks=function(u,a,c){switch(u){case"timestamp":return c.timestamp;default:(0,A.hu)(!1,"Unexpected server value: "+u)}},as=function(u,a,c){u.hasOwnProperty("increment")||(0,A.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));var h=u.increment;"number"!=typeof h&&(0,A.hu)(!1,"Unexpected increment value: "+h);var v=a.node();if((0,A.hu)(null!=v,"Expected ChildrenNode.EMPTY_NODE for nulls"),!v.isLeafNode())return h;var D=v.getValue();return"number"!=typeof D?h:D+h},us=function(u,a,c,h){return Do(a,new Bi(c,u),h)},di=function(u,a,c){return Do(u,new Ha(a),c)};function Do(u,a,c){var E,h=u.getPriority().val(),v=cf(h,a.getImmediateChild(".priority"),c);if(u.isLeafNode()){var D=u,T=cf(D.getValue(),a,c);return T!==D.getValue()||v!==D.getPriority().val()?new lo(T,Yt(v)):u}var R=u;return E=R,v!==R.getPriority().val()&&(E=E.updatePriority(new lo(v))),R.forEachChild(Mt,function(N,k){var J=Do(k,a.getImmediateChild(N),c);J!==k&&(E=E.updateImmediateChild(N,J))}),E}var Wr=function(a,c,h){void 0===a&&(a=""),void 0===c&&(c=null),void 0===h&&(h={children:{},childCount:0}),this.name=a,this.parent=c,this.node=h};function Js(u,a){for(var c=a instanceof st?a:new st(a),h=u,v=at(c);null!==v;){var E=(0,A.DV)(h.node.children,v)||{children:{},childCount:0};h=new Wr(v,h,E),v=at(c=bt(c))}return h}function Rt(u){return u.node.value}function Xs(u,a){u.node.value=a,df(u)}function nl(u){return u.node.childCount>0}function Gt(u,a){ke(u.node.children,function(c,h){a(new Wr(c,u,h))})}function ls(u,a,c,h){c&&!h&&a(u),Gt(u,function(v){ls(v,a,!0,h)}),c&&h&&a(u)}function cs(u){return new st(null===u.parent?u.name:cs(u.parent)+"/"+u.name)}function df(u){null!==u.parent&&function(u,a,c){var h=function(u){return void 0===Rt(u)&&!nl(u)}(c),v=(0,A.r3)(u.node.children,a);h&&v?(delete u.node.children[a],u.node.childCount--,df(u)):!h&&!v&&(u.node.children[a]=c.node,u.node.childCount++,df(u))}(u.parent,u.name,u)}var Sr=/[\[\].#$\/\u0000-\u001F\u007F]/,ea=/[\[\].#$\u0000-\u001F\u007F]/,hi=10485760,Wa=function(u){return"string"==typeof u&&0!==u.length&&!Sr.test(u)},za=function(u){return"string"==typeof u&&0!==u.length&&!ea.test(u)},wo=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!ne(u)||u&&"object"==typeof u&&(0,A.r3)(u,".sv")},hr=function(u,a,c,h){h&&void 0===a||ds((0,A.gK)(u,"value"),a,c)},ds=function(u,a,c){var h=c instanceof st?new Ca(c,u):c;if(void 0===a)throw new Error(u+"contains undefined "+uo(h));if("function"==typeof a)throw new Error(u+"contains a function "+uo(h)+" with contents = "+a.toString());if(ne(a))throw new Error(u+"contains "+a.toString()+" "+uo(h));if("string"==typeof a&&a.length>hi/3&&(0,A.ug)(a)>hi)throw new Error(u+"contains a string greater than "+hi+" utf8 bytes "+uo(h)+" ('"+a.substring(0,50)+"...')");if(a&&"object"==typeof a){var v=!1,E=!1;if(ke(a,function(D,T){if(".value"===D)v=!0;else if(".priority"!==D&&".sv"!==D&&(E=!0,!Wa(D)))throw new Error(u+" contains an invalid key ("+D+") "+uo(h)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(u,a){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(a),u.byteLength_+=(0,A.ug)(a),Hd(u)})(h,D),ds(u,T,h),function(u){var a=u.parts_.pop();u.byteLength_-=(0,A.ug)(a),u.parts_.length>0&&(u.byteLength_-=1)}(h)}),v&&E)throw new Error(u+' contains ".value" child '+uo(h)+" in addition to actual children.")}},Io=function(u,a,c,h){if(!h||void 0!==a){var v=(0,A.gK)(u,"values");if(!a||"object"!=typeof a||Array.isArray(a))throw new Error(v+" must be an object containing the children to replace.");var E=[];ke(a,function(D,T){var R=new st(D);if(ds(v,T,lt(c,R)),".priority"===Ms(R)&&!wo(T))throw new Error(v+"contains an invalid value for '"+R.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");E.push(R)}),function(u,a){var c,h;for(c=0;c<a.length;c++)for(var v=Br(h=a[c]),E=0;E<v.length;E++)if((".priority"!==v[E]||E!==v.length-1)&&!Wa(v[E]))throw new Error(u+"contains an invalid key ("+v[E]+") in path "+h.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');a.sort(ur);var D=null;for(c=0;c<a.length;c++){if(h=a[c],null!==D&&Nn(D,h))throw new Error(u+"contains a path "+D.toString()+" that is ancestor of another path "+h.toString());D=h}}(v,E)}},pi=function(u,a,c){if(!c||void 0!==a){if(ne(a))throw new Error((0,A.gK)(u,"priority")+"is "+a.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wo(a))throw new Error((0,A.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ff=function(u,a,c){if(!c||void 0!==a)switch(a){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,A.gK)(u,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},il=function(u,a,c,h){if(!(h&&void 0===c||Wa(c)))throw new Error((0,A.gK)(u,a)+'was an invalid key = "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ao=function(u,a,c,h){if(!(h&&void 0===c||za(c)))throw new Error((0,A.gK)(u,a)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pr=function(u,a){if(".info"===at(a))throw new Error(u+" failed = Can't modify data under /.info/")},Nc=function(u,a){var c=a.path.toString();if("string"!=typeof a.repoInfo.host||0===a.repoInfo.host.length||!Wa(a.repoInfo.namespace)&&"localhost"!==a.repoInfo.host.split(":")[0]||0!==c.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),za(u)}(c))throw new Error((0,A.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ol=function(u,a,c,h){if((!h||void 0!==c)&&"boolean"!=typeof c)throw new Error((0,A.gK)(u,a)+"must be a boolean.")},sl=function(){this.eventLists_=[],this.recursionDepth_=0};function To(u,a){for(var c=null,h=0;h<a.length;h++){var v=a[h],E=v.getPath();null!==c&&!Rs(E,c.path)&&(u.eventLists_.push(c),c=null),null===c&&(c={events:[],path:E}),c.events.push(v)}c&&u.eventLists_.push(c)}function fs(u,a,c){To(u,c),ji(u,function(h){return Rs(h,a)})}function bn(u,a,c){To(u,c),ji(u,function(h){return Nn(h,a)||Nn(a,h)})}function ji(u,a){u.recursionDepth_++;for(var c=!0,h=0;h<u.eventLists_.length;h++){var v=u.eventLists_[h];v&&(a(v.path)?(pf(u.eventLists_[h]),u.eventLists_[h]=null):c=!1)}c&&(u.eventLists_=[]),u.recursionDepth_--}function pf(u){for(var a=0;a<u.events.length;a++){var c=u.events[a];if(null!==c){u.events[a]=null;var h=c.getEventRunner();ye&&we("event: "+c.toString()),Cr(h)}}}var al="repo_interrupt",na=function(){function u(a,c,h,v){this.repoInfo_=a,this.forceRestClient_=c,this.authTokenProvider_=h,this.appCheckProvider_=v,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fo(),this.transactionQueueTree_=new Wr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return u.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},u}();function ll(u){var c=u.infoData_.getNode(new st(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function Mr(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:ll(u)})}function Hi(u,a,c,h,v){u.dataUpdateCount++;var E=new st(a);c=u.interceptServerDataCallback_?u.interceptServerDataCallback_(a,c):c;var D=[];if(v)if(h){var T=(0,A.UI)(c,function(le){return Yt(le)});D=function(u,a,c,h){var v=Ua(u,h);if(v){var E=tl(v),D=E.path,T=E.queryId,R=zt(D,a),N=Jn.fromObject(c);return Ba(u,D,new Ta(ho(T),R,N))}return[]}(u.serverSyncTree_,E,T,v)}else{var R=Yt(c);D=function(u,a,c,h){var v=Ua(u,h);if(null!=v){var E=tl(v),D=E.path,T=E.queryId,R=zt(D,a);return Ba(u,D,new po(ho(T),R,c))}return[]}(u.serverSyncTree_,E,R,v)}else if(h){var N=(0,A.UI)(c,function(le){return Yt(le)});D=function(u,a,c){var h=Jn.fromObject(c);return Tr(u,new Ta({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,h))}(u.serverSyncTree_,E,N)}else{var k=Yt(c);D=li(u.serverSyncTree_,E,k)}var J=E;D.length>0&&(J=Gi(u,E)),bn(u.eventQueue_,J,D)}function Pc(u,a){dl(u,"connected",a),!1===a&&function(u){So(u,"onDisconnectEvents");var a=Mr(u),c=fo();Kn(u.onDisconnect_,Oe(),function(v,E){var D=us(v,E,u.serverSyncTree_,a);ni(c,v,D)});var h=[];Kn(c,Oe(),function(v,E){h=h.concat(li(u.serverSyncTree_,v,E));var D=hs(u,v);Gi(u,D)}),u.onDisconnect_=fo(),bn(u.eventQueue_,Oe(),h)}(u)}function dl(u,a,c){var h=new st("/.info/"+a),v=Yt(c);u.infoData_.updateSnapshot(h,v);var E=li(u.infoSyncTree_,h,v);bn(u.eventQueue_,h,E)}function qa(u){return u.nextWriteId_++}function $i(u,a,c,h,v){So(u,"set",{path:a.toString(),value:c,priority:h});var E=Mr(u),D=Yt(c,h),T=ci(u.serverSyncTree_,a),R=di(D,T,E),N=qa(u),k=Fa(u.serverSyncTree_,a,R,N,!0);To(u.eventQueue_,k),u.server_.put(a.toString(),D.val(!0),function(le,_e){var be="ok"===le;be||At("set at "+a+" failed: "+le);var ze=$t(u.serverSyncTree_,N,!be);bn(u.eventQueue_,a,ze),gr(0,v,le,_e)});var J=hs(u,a);Gi(u,J),bn(u.eventQueue_,J,[])}function mf(u,a,c){u.server_.onDisconnectCancel(a.toString(),function(h,v){"ok"===h&&sn(u.onDisconnect_,a),gr(0,c,h,v)})}function hl(u,a,c,h){var v=Yt(c);u.server_.onDisconnectPut(a.toString(),v.val(!0),function(E,D){"ok"===E&&ni(u.onDisconnect_,a,v),gr(0,h,E,D)})}function gl(u,a,c){var h;h=".info"===at(a._path)?Eo(u.infoSyncTree_,a,c):Eo(u.serverSyncTree_,a,c),fs(u.eventQueue_,a._path,h)}function Za(u){u.persistentConnection_&&u.persistentConnection_.interrupt(al)}function So(u){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];var h="";u.persistentConnection_&&(h=u.persistentConnection_.id+":"),we.apply(void 0,(0,W.ev)([h],(0,W.CR)(a)))}function gr(u,a,c,h){a&&Cr(function(){if("ok"===c)a(null);else{var v=(c||"error").toUpperCase(),E=v;h&&(E+=": "+h);var D=new Error(E);D.code=v,a(D)}})}function mr(u,a,c){return ci(u.serverSyncTree_,a,c)||qe.EMPTY_NODE}function gi(u,a){if(void 0===a&&(a=u.transactionQueueTree_),a||ra(u,a),Rt(a)){var c=fp(u,a);(0,A.hu)(c.length>0,"Sending zero length transaction queue"),c.every(function(v){return 0===v.status})&&function(u,a,c){for(var h=c.map(function(le){return le.currentWriteId}),v=mr(u,a,h),E=v,D=v.hash(),T=0;T<c.length;T++){var R=c[T];(0,A.hu)(0===R.status,"tryToSendTransactionQueue_: items in queue should all be run."),R.status=1,R.retryCount++;var N=zt(a,R.path);E=E.updateChild(N,R.currentOutputSnapshotRaw)}var k=E.val(!0),J=a;u.server_.put(J.toString(),k,function(le){So(u,"transaction put response",{path:J.toString(),status:le});var _e=[];if("ok"===le){for(var be=[],ze=function(Fe){c[Fe].status=2,_e=_e.concat($t(u.serverSyncTree_,c[Fe].currentWriteId)),c[Fe].onComplete&&be.push(function(){return c[Fe].onComplete(null,!0,c[Fe].currentOutputSnapshotResolved)}),c[Fe].unwatcher()},Ue=0;Ue<c.length;Ue++)ze(Ue);for(ra(u,Js(u.transactionQueueTree_,a)),gi(u,u.transactionQueueTree_),bn(u.eventQueue_,a,_e),Ue=0;Ue<be.length;Ue++)Cr(be[Ue])}else{if("datastale"===le)for(Ue=0;Ue<c.length;Ue++)c[Ue].status=3===c[Ue].status?4:0;else for(At("transaction at "+J.toString()+" failed: "+le),Ue=0;Ue<c.length;Ue++)c[Ue].status=4,c[Ue].abortReason=le;Gi(u,a)}},D)}(u,cs(a),c)}else nl(a)&&Gt(a,function(v){gi(u,v)})}function Gi(u,a){var c=Uc(u,a),h=cs(c);return function(u,a,c){if(0!==a.length){for(var h=[],v=[],D=a.filter(function(N){return 0===N.status}).map(function(N){return N.currentWriteId}),T=function(N){var _e,k=a[N],J=zt(c,k.path),le=!1;if((0,A.hu)(null!==J,"rerunTransactionsUnderNode_: relativePath should not be null."),4===k.status)le=!0,_e=k.abortReason,v=v.concat($t(u.serverSyncTree_,k.currentWriteId,!0));else if(0===k.status)if(k.retryCount>=25)le=!0,_e="maxretry",v=v.concat($t(u.serverSyncTree_,k.currentWriteId,!0));else{var be=mr(u,k.path,D);k.currentInputSnapshot=be;var ze=a[N].update(be.val());if(void 0!==ze){ds("transaction failed: Data returned ",ze,k.path);var Ue=Yt(ze);"object"==typeof ze&&null!=ze&&(0,A.r3)(ze,".priority")||(Ue=Ue.updatePriority(be.getPriority()));var Ut=k.currentWriteId,nr=Mr(u),_s=di(Ue,be,nr);k.currentOutputSnapshotRaw=Ue,k.currentOutputSnapshotResolved=_s,k.currentWriteId=qa(u),D.splice(D.indexOf(Ut),1),v=(v=v.concat(Fa(u.serverSyncTree_,k.path,_s,k.currentWriteId,k.applyLocally))).concat($t(u.serverSyncTree_,Ut,!0))}else le=!0,_e="nodata",v=v.concat($t(u.serverSyncTree_,k.currentWriteId,!0))}bn(u.eventQueue_,c,v),v=[],le&&(a[N].status=2,setTimeout(a[N].unwatcher,Math.floor(0)),a[N].onComplete&&h.push("nodata"===_e?function(){return a[N].onComplete(null,!1,a[N].currentInputSnapshot)}:function(){return a[N].onComplete(new Error(_e),!1,null)}))},R=0;R<a.length;R++)T(R);for(ra(u,u.transactionQueueTree_),R=0;R<h.length;R++)Cr(h[R]);gi(u,u.transactionQueueTree_)}}(u,fp(u,c),h),h}function Uc(u,a){var c,h=u.transactionQueueTree_;for(c=at(a);null!==c&&void 0===Rt(h);)h=Js(h,c),c=at(a=bt(a));return h}function fp(u,a){var c=[];return hp(u,a,c),c.sort(function(h,v){return h.order-v.order}),c}function hp(u,a,c){var h=Rt(a);if(h)for(var v=0;v<h.length;v++)c.push(h[v]);Gt(a,function(E){hp(u,E,c)})}function ra(u,a){var c=Rt(a);if(c){for(var h=0,v=0;v<c.length;v++)2!==c[v].status&&(c[h]=c[v],h++);c.length=h,Xs(a,c.length>0?c:void 0)}Gt(a,function(E){ra(u,E)})}function hs(u,a){var c=cs(Uc(u,a)),h=Js(u.transactionQueueTree_,a);return function(u,a,c){for(var h=u.parent;null!==h;){if(a(h))return!0;h=h.parent}}(h,function(v){Qa(u,v)}),Qa(u,h),ls(h,function(v){Qa(u,v)}),c}function Qa(u,a){var c=Rt(a);if(c){for(var h=[],v=[],E=-1,D=0;D<c.length;D++)3===c[D].status||(1===c[D].status?((0,A.hu)(E===D-1,"All SENT items should be at beginning of queue."),E=D,c[D].status=3,c[D].abortReason="set"):((0,A.hu)(0===c[D].status,"Unexpected transaction status in abort"),c[D].unwatcher(),v=v.concat($t(u.serverSyncTree_,c[D].currentWriteId,!0)),c[D].onComplete&&h.push(c[D].onComplete.bind(null,new Error("set"),!1,null))));for(-1===E?Xs(a,void 0):c.length=E+1,bn(u.eventQueue_,cs(a),v),D=0;D<h.length;D++)Cr(h[D])}}var Mo=function(u,a){var c=gp(u),h=c.namespace;return"firebase.com"===c.domain&&vt(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!h||"undefined"===h)&&"localhost"!==c.domain&&vt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&At("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Kt(c.host,c.secure,h,a,"ws"===c.scheme||"wss"===c.scheme,"",h!==c.subdomain),path:new st(c.pathString)}},gp=function(u){var a="",c="",h="",v="",E="",D=!0,T="https",R=443;if("string"==typeof u){var N=u.indexOf("//");N>=0&&(T=u.substring(0,N-1),u=u.substring(N+2));var k=u.indexOf("/");-1===k&&(k=u.length);var J=u.indexOf("?");-1===J&&(J=u.length),a=u.substring(0,Math.min(k,J)),k<J&&(v=function(u){for(var a="",c=u.split("/"),h=0;h<c.length;h++)if(c[h].length>0){var v=c[h];try{v=decodeURIComponent(v.replace(/\+/g," "))}catch(E){}a+="/"+v}return a}(u.substring(k,J)));var le=function(u){var a,c,h={};"?"===u.charAt(0)&&(u=u.substring(1));try{for(var v=(0,W.XA)(u.split("&")),E=v.next();!E.done;E=v.next()){var D=E.value;if(0!==D.length){var T=D.split("=");2===T.length?h[decodeURIComponent(T[0])]=decodeURIComponent(T[1]):At("Invalid query segment '"+D+"' in query '"+u+"'")}}}catch(R){a={error:R}}finally{try{E&&!E.done&&(c=v.return)&&c.call(v)}finally{if(a)throw a.error}}return h}(u.substring(Math.min(u.length,J)));(N=a.indexOf(":"))>=0?(D="https"===T||"wss"===T,R=parseInt(a.substring(N+1),10)):N=a.length;var _e=a.slice(0,N);if("localhost"===_e.toLowerCase())c="localhost";else if(_e.split(".").length<=2)c=_e;else{var be=a.indexOf(".");h=a.substring(0,be).toLowerCase(),c=a.substring(be+1),E=h}"ns"in le&&(E=le.ns)}return{host:a,port:R,domain:c,subdomain:h,secure:D,scheme:T,pathString:v,namespace:E}},nn=function(){function u(a,c,h,v){this.eventType=a,this.eventRegistration=c,this.snapshot=h,this.prevName=v}return u.prototype.getPath=function(){var a=this.snapshot.ref;return"value"===this.eventType?a._path:a.parent._path},u.prototype.getEventType=function(){return this.eventType},u.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},u.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,A.Pz)(this.snapshot.exportVal())},u}(),Bc=function(){function u(a,c,h){this.eventRegistration=a,this.error=c,this.path=h}return u.prototype.getPath=function(){return this.path},u.prototype.getEventType=function(){return"cancel"},u.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},u.prototype.toString=function(){return this.path.toString()+":cancel"},u}(),Ze=function(){function u(a,c){this.snapshotCallback=a,this.cancelCallback=c}return u.prototype.onValue=function(a,c){this.snapshotCallback.call(null,a,c)},u.prototype.onCancel=function(a){return(0,A.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,a)},Object.defineProperty(u.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),u.prototype.matches=function(a){return this.snapshotCallback===a.snapshotCallback||this.snapshotCallback.userCallback===a.snapshotCallback.userCallback&&this.snapshotCallback.context===a.snapshotCallback.context},u}(),Ka=function(){function u(a,c){this._repo=a,this._path=c}return u.prototype.cancel=function(){var a=new A.BH;return mf(this._repo,this._path,a.wrapCallback(function(){})),a.promise},u.prototype.remove=function(){pr("OnDisconnect.remove",this._path);var a=new A.BH;return hl(this._repo,this._path,null,a.wrapCallback(function(){})),a.promise},u.prototype.set=function(a){pr("OnDisconnect.set",this._path),hr("OnDisconnect.set",a,this._path,!1);var c=new A.BH;return hl(this._repo,this._path,a,c.wrapCallback(function(){})),c.promise},u.prototype.setWithPriority=function(a,c){pr("OnDisconnect.setWithPriority",this._path),hr("OnDisconnect.setWithPriority",a,this._path,!1),pi("OnDisconnect.setWithPriority",c,!1);var h=new A.BH;return function(u,a,c,h,v){var E=Yt(c,h);u.server_.onDisconnectPut(a.toString(),E.val(!0),function(D,T){"ok"===D&&ni(u.onDisconnect_,a,E),gr(0,v,D,T)})}(this._repo,this._path,a,c,h.wrapCallback(function(){})),h.promise},u.prototype.update=function(a){pr("OnDisconnect.update",this._path),Io("OnDisconnect.update",a,this._path,!1);var c=new A.BH;return function(u,a,c,h){if((0,A.xb)(c))return we("onDisconnect().update() called with empty data.  Don't do anything."),void gr(0,h,"ok",void 0);u.server_.onDisconnectMerge(a.toString(),c,function(v,E){"ok"===v&&ke(c,function(D,T){var R=Yt(T);ni(u.onDisconnect_,lt(a,D),R)}),gr(0,h,v,E)})}(this._repo,this._path,a,c.wrapCallback(function(){})),c.promise},u}(),Fn=function(){function u(a,c,h,v){this._repo=a,this._path=c,this._queryParams=h,this._orderByCalled=v}return Object.defineProperty(u.prototype,"key",{get:function(){return ct(this._path)?null:Ms(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ref",{get:function(){return new Dt(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_queryIdentifier",{get:function(){var a=Bs(this._queryParams),c=Ot(a);return"{}"===c?"default":c},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_queryObject",{get:function(){return Bs(this._queryParams)},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(a){if(!((a=(0,A.m9)(a))instanceof u))return!1;var c=this._repo===a._repo,h=Rs(this._path,a._path);return c&&h&&this._queryIdentifier===a._queryIdentifier},u.prototype.toJSON=function(){return this.toString()},u.prototype.toString=function(){return this._repo.toString()+function(u){for(var a="",c=u.pieceNum_;c<u.pieces_.length;c++)""!==u.pieces_[c]&&(a+="/"+encodeURIComponent(String(u.pieces_[c])));return a||"/"}(this._path)},u}();function qr(u,a){if(!0===u._orderByCalled)throw new Error(a+": You can't combine multiple orderBy calls.")}function Vt(u){var a=null,c=null;if(u.hasStart()&&(a=u.getIndexStartValue()),u.hasEnd()&&(c=u.getIndexEndValue()),u.getIndex()===$r){var h="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",v="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==X)throw new Error(h);if("string"!=typeof a)throw new Error(v)}if(u.hasEnd()){if(u.getIndexEndName()!==he)throw new Error(h);if("string"!=typeof c)throw new Error(v)}}else if(u.getIndex()===Mt){if(null!=a&&!wo(a)||null!=c&&!wo(c))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,A.hu)(u.getIndex()instanceof Ko||u.getIndex()===Os,"unknown index type."),null!=a&&"object"==typeof a||null!=c&&"object"==typeof c)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ja(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Dt=function(u){function a(c,h){return u.call(this,c,h,new fc,!1)||this}return(0,W.ZT)(a,u),Object.defineProperty(a.prototype,"parent",{get:function(){var c=jr(this._path);return null===c?null:new a(this._repo,c)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"root",{get:function(){for(var c=this;null!==c.parent;)c=c.parent;return c},enumerable:!1,configurable:!0}),a}(Fn),Wn=function(){function u(a,c,h){this._node=a,this.ref=c,this._index=h}return Object.defineProperty(u.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),u.prototype.child=function(a){var c=new st(a),h=Wi(this.ref,a);return new u(this._node.getChild(c),h,Mt)},u.prototype.exists=function(){return!this._node.isEmpty()},u.prototype.exportVal=function(){return this._node.val(!0)},u.prototype.forEach=function(a){var c=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(v,E){return a(new u(E,Wi(c.ref,v),Mt))})},u.prototype.hasChild=function(a){var c=new st(a);return!this._node.getChild(c).isEmpty()},u.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},u.prototype.toJSON=function(){return this.exportVal()},u.prototype.val=function(){return this._node.val()},u}();function ia(u,a){return(u=(0,A.m9)(u))._checkNotDeleted("ref"),void 0!==a?Wi(u._root,a):u._root}function Xa(u,a){(u=(0,A.m9)(u))._checkNotDeleted("refFromURL");var c=Mo(a,u._repo.repoInfo_.nodeAdmin);Nc("refFromURL",c);var h=c.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&h.host!==u._repo.repoInfo_.host&&vt("refFromURL: Host name does not match the current database: (found "+h.host+" but expected "+u._repo.repoInfo_.host+")"),ia(u,c.path.toString())}function Wi(u,a){return null===at((u=(0,A.m9)(u))._path)?((c=a)&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Ao("child","path",c,!1)):Ao("child","path",a,!1),new Dt(u._repo,lt(u._path,a));var c}function Ef(u,a){u=(0,A.m9)(u),pr("push",u._path),hr("push",a,u._path,!0);var D,c=ll(u._repo),h=cc(c),v=Wi(u,h),E=Wi(u,h);return D=null!=a?_l(E,a).then(function(){return E}):Promise.resolve(E),v.then=D.then.bind(D),v.catch=D.then.bind(D,void 0),v}function bf(u){return pr("remove",u._path),_l(u,null)}function _l(u,a){u=(0,A.m9)(u),pr("set",u._path),hr("set",a,u._path,!1);var c=new A.BH;return $i(u._repo,u._path,a,null,c.wrapCallback(function(){})),c.promise}function jc(u,a){u=(0,A.m9)(u),pr("setPriority",u._path),pi("setPriority",a,!1);var c=new A.BH;return $i(u._repo,lt(u._path,".priority"),a,null,c.wrapCallback(function(){})),c.promise}function Df(u,a,c){if(pr("setWithPriority",u._path),hr("setWithPriority",a,u._path,!1),pi("setWithPriority",c,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";var h=new A.BH;return $i(u._repo,u._path,a,c,h.wrapCallback(function(){})),h.promise}function mp(u,a){Io("update",a,u._path,!1);var c=new A.BH;return function(u,a,c,h){So(u,"update",{path:a.toString(),value:c});var v=!0,E=Mr(u),D={};if(ke(c,function(N,k){v=!1,D[N]=us(lt(a,N),Yt(k),u.serverSyncTree_,E)}),v)we("update() called with empty data.  Don't do anything."),gr(0,h,"ok",void 0);else{var T=qa(u),R=function(u,a,c,h){!function(u,a,c,h){(0,A.hu)(h>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:a,children:c,writeId:h,visible:!0}),u.visibleWrites=Pi(u.visibleWrites,a,c),u.lastWriteId=h}(u.pendingWriteTree_,a,c,h);var v=Jn.fromObject(c);return Tr(u,new Ta({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,v))}(u.serverSyncTree_,a,D,T);To(u.eventQueue_,R),u.server_.merge(a.toString(),c,function(N,k){var J="ok"===N;J||At("update at "+a+" failed: "+N);var le=$t(u.serverSyncTree_,T,!J),_e=le.length>0?Gi(u,a):a;bn(u.eventQueue_,_e,le),gr(0,h,N,k)}),ke(c,function(N){var k=hs(u,lt(a,N));Gi(u,k)}),bn(u.eventQueue_,a,[])}}(u._repo,u._path,a,c.wrapCallback(function(){})),c.promise}function wf(u){return function(u,a){var c=function(u,a){var c=a._path,h=null;u.syncPointTree_.foreachOnPath(c,function(N,k){var J=zt(N,c);h=h||ai(k,J)});var v=u.syncPointTree_.get(c);v?h=h||ai(v,Oe()):(v=new Qu,u.syncPointTree_=u.syncPointTree_.set(c,v));var E=null!=h,D=E?new Ni(h,!0,!1):null;return function(u){return ju(u.viewCache_)}(Tc(v,a,ki(u.pendingWriteTree_,a._path),E?D.getNode():qe.EMPTY_NODE,E))}(u.serverSyncTree_,a);return null!=c?Promise.resolve(c):u.server_.get(a).then(function(h){var v=Yt(h).withIndex(a._queryParams.getIndex()),E=li(u.serverSyncTree_,a._path,v);return fs(u.eventQueue_,a._path,E),Promise.resolve(v)},function(h){return So(u,"get for query "+(0,A.Pz)(a)+" failed: "+h),Promise.reject(new Error(h))})}((u=(0,A.m9)(u))._repo,u).then(function(a){return new Wn(a,new Dt(u._repo,u._path),u._queryParams.getIndex())})}var ps=function(){function u(a){this.callbackContext=a}return u.prototype.respondsTo=function(a){return"value"===a},u.prototype.createEvent=function(a,c){var h=c._queryParams.getIndex();return new nn("value",this,new Wn(a.snapshotNode,new Dt(c._repo,c._path),h))},u.prototype.getEventRunner=function(a){var c=this;return"cancel"===a.getEventType()?function(){return c.callbackContext.onCancel(a.error)}:function(){return c.callbackContext.onValue(a.snapshot,null)}},u.prototype.createCancelEvent=function(a,c){return this.callbackContext.hasCancelCallback?new Bc(this,a,c):null},u.prototype.matches=function(a){return a instanceof u&&(!a.callbackContext||!this.callbackContext||a.callbackContext.matches(this.callbackContext))},u.prototype.hasAnyCallback=function(){return null!==this.callbackContext},u}(),Tn=function(){function u(a,c){this.eventType=a,this.callbackContext=c}return u.prototype.respondsTo=function(a){var c="children_added"===a?"child_added":a;return this.eventType===("children_removed"===c?"child_removed":c)},u.prototype.createCancelEvent=function(a,c){return this.callbackContext.hasCancelCallback?new Bc(this,a,c):null},u.prototype.createEvent=function(a,c){(0,A.hu)(null!=a.childName,"Child events should have a childName.");var h=Wi(new Dt(c._repo,c._path),a.childName),v=c._queryParams.getIndex();return new nn(a.type,this,new Wn(a.snapshotNode,h,v),a.prevName)},u.prototype.getEventRunner=function(a){var c=this;return"cancel"===a.getEventType()?function(){return c.callbackContext.onCancel(a.error)}:function(){return c.callbackContext.onValue(a.snapshot,a.prevName)}},u.prototype.matches=function(a){return a instanceof u&&this.eventType===a.eventType&&(!this.callbackContext||!a.callbackContext||this.callbackContext.matches(a.callbackContext))},u.prototype.hasAnyCallback=function(){return!!this.callbackContext},u}();function Ro(u,a,c,h,v){var E;if("object"==typeof h&&(E=void 0,v=h),"function"==typeof h&&(E=h),v&&v.onlyOnce){var D=c,T=function(k,J){gl(u._repo,u,N),D(k,J)};T.userCallback=c.userCallback,T.context=c.context,c=T}var R=new Ze(c,E||void 0),N="value"===a?new ps(R):new Tn(a,R);return function(u,a,c){var h;h=".info"===at(a._path)?ka(u.infoSyncTree_,a,c):ka(u.serverSyncTree_,a,c),fs(u.eventQueue_,a._path,h)}(u._repo,u,N),function(){return gl(u._repo,u,N)}}function eu(u,a,c,h){return Ro(u,"value",a,c,h)}function vl(u,a,c,h){return Ro(u,"child_added",a,c,h)}function Dn(u,a,c,h){return Ro(u,"child_changed",a,c,h)}function oa(u,a,c,h){return Ro(u,"child_moved",a,c,h)}function Rr(u,a,c,h){return Ro(u,"child_removed",a,c,h)}function gs(u,a,c){var h=null,v=c?new Ze(c):null;"value"===a?h=new ps(v):a&&(h=new Tn(a,v)),gl(u._repo,u,h)}var xr=function(){},tu=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){hr("endAt",this._value,c._path,!0);var h=Vs(c._queryParams,this._value,this._key);if(Ja(h),Vt(h),c._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fn(c._repo,c._path,h,c._orderByCalled)},a}(xr);function Hc(u,a){return il("endAt","key",a,!0),new tu(u,a)}var $c=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){hr("endBefore",this._value,c._path,!1);var h=function(u,a,c){var v;return u.index_===$r?("string"==typeof a&&(a=Ri(a)),v=Vs(u,a,c)):v=Vs(u,a,null==c?X:Ri(c)),v.endBeforeSet_=!0,v}(c._queryParams,this._value,this._key);if(Ja(h),Vt(h),c._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fn(c._repo,c._path,h,c._orderByCalled)},a}(xr);function If(u,a){return il("endBefore","key",a,!0),new $c(u,a)}var yl=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){hr("startAt",this._value,c._path,!0);var h=Ls(c._queryParams,this._value,this._key);if(Ja(h),Vt(h),c._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fn(c._repo,c._path,h,c._orderByCalled)},a}(xr);function Gc(u,a){return void 0===u&&(u=null),il("startAt","key",a,!0),new yl(u,a)}var Af=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){hr("startAfter",this._value,c._path,!1);var h=function(u,a,c){var h;return u.index_===$r?("string"==typeof a&&(a=Ps(a)),h=Ls(u,a,c)):h=Ls(u,a,null==c?he:Ps(c)),h.startAfterSet_=!0,h}(c._queryParams,this._value,this._key);if(Ja(h),Vt(h),c._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fn(c._repo,c._path,h,c._orderByCalled)},a}(xr);function _p(u,a){return il("startAfter","key",a,!0),new Af(u,a)}var sa=function(u){function a(c){var h=u.call(this)||this;return h._limit=c,h}return(0,W.ZT)(a,u),a.prototype._apply=function(c){if(c._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fn(c._repo,c._path,function(u,a){var c=u.copy();return c.limitSet_=!0,c.limit_=a,c.viewFrom_="l",c}(c._queryParams,this._limit),c._orderByCalled)},a}(xr);function mi(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new sa(u)}var Wc=function(u){function a(c){var h=u.call(this)||this;return h._limit=c,h}return(0,W.ZT)(a,u),a.prototype._apply=function(c){if(c._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fn(c._repo,c._path,function(u,a){var c=u.copy();return c.limitSet_=!0,c.limit_=a,c.viewFrom_="r",c}(c._queryParams,this._limit),c._orderByCalled)},a}(xr);function Tf(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Wc(u)}var am=function(u){function a(c){var h=u.call(this)||this;return h._path=c,h}return(0,W.ZT)(a,u),a.prototype._apply=function(c){qr(c,"orderByChild");var h=new st(this._path);if(ct(h))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var v=new Ko(h),E=On(c._queryParams,v);return Vt(E),new Fn(c._repo,c._path,E,!0)},a}(xr);function Cl(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ao("orderByChild","path",u,!1),new am(u)}var Nr=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype._apply=function(c){qr(c,"orderByKey");var h=On(c._queryParams,$r);return Vt(h),new Fn(c._repo,c._path,h,!0)},a}(xr);function El(){return new Nr}var Sf=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype._apply=function(c){qr(c,"orderByPriority");var h=On(c._queryParams,Mt);return Vt(h),new Fn(c._repo,c._path,h,!0)},a}(xr);function ms(){return new Sf}var zc=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype._apply=function(c){qr(c,"orderByValue");var h=On(c._queryParams,Os);return Vt(h),new Fn(c._repo,c._path,h,!0)},a}(xr);function Mf(){return new zc}var Rf=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){if(hr("equalTo",this._value,c._path,!1),c._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(c._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new tu(this._value,this._key)._apply(new yl(this._value,this._key)._apply(c))},a}(xr);function Yc(u,a){return il("equalTo","key",a,!0),new Rf(u,a)}function Or(u){for(var a,c,h=[],v=1;v<arguments.length;v++)h[v-1]=arguments[v];var E=(0,A.m9)(u);try{for(var D=(0,W.XA)(h),T=D.next();!T.done;T=D.next()){var R=T.value;E=R._apply(E)}}catch(N){a={error:N}}finally{try{T&&!T.done&&(c=D.return)&&c.call(D)}finally{if(a)throw a.error}}return E}(function(u){(0,A.hu)(!Oa,"__referenceConstructor has already been defined"),Oa=u})(Dt),function(u){(0,A.hu)(!Pa,"__referenceConstructor has already been defined"),Pa=u}(Dt);var zn={},ru=!1;function bl(u,a,c,h,v){var E=h||u.options.databaseURL;void 0===E&&(u.options.projectId||vt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),we("Using default host for project ",u.options.projectId),E=u.options.projectId+"-default-rtdb.firebaseio.com");var R,D=Mo(E,v),T=D.repoInfo,N=void 0;"undefined"!=typeof process&&(N=process.env.FIREBASE_DATABASE_EMULATOR_HOST),N?(R=!0,T=(D=Mo(E="http://"+N+"?ns="+T.namespace,v)).repoInfo):R=!D.repoInfo.secure;var k=v&&R?new ot(ot.OWNER):new pt(u.name,u.options,a);Nc("Invalid Firebase Database URL",D),ct(D.path)||vt("Database URL must point to the root of a Firebase Database (not including a child path).");var J=function(u,a,c,h){var v=zn[a.name];v||(zn[a.name]=v={});var E=v[u.toURLString()];return E&&vt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),E=new na(u,ru,c,h),v[u.toURLString()]=E,E}(T,u,k,new Ss(u.name,c));return new qc(J,u)}var qc=function(){function u(a,c){this._repoInternal=a,this.app=c,this.type="database",this._instanceStarted=!1}return Object.defineProperty(u.prototype,"_repo",{get:function(){return this._instanceStarted||(function(u,a,c){if(u.stats_=Tt(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new ip(u.repoInfo_,function(h,v,E,D){Hi(u,h,v,E,D)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(function(){return Pc(u,!0)},0);else{if(null!=c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,A.Pz)(c)}catch(h){throw new Error("Invalid authOverride provided: "+h)}}u.persistentConnection_=new Zo(u.repoInfo_,a,function(h,v,E,D){Hi(u,h,v,E,D)},function(h){Pc(u,h)},function(h){!function(u,a){ke(a,function(c,h){dl(u,c,h)})}(u,h)},u.authTokenProvider_,u.appCheckProvider_,c),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(function(h){u.server_.refreshAuthToken(h)}),u.appCheckProvider_.addTokenChangeListener(function(h){u.server_.refreshAppCheckToken(h.token)}),u.statsReporter_=function(u,a){var c=u.toString();return or[c]||(or[c]=a()),or[c]}(u.repoInfo_,function(){return new pc(u.stats_,u.server_)}),u.infoData_=new Kd,u.infoSyncTree_=new Rc({startListening:function(h,v,E,D){var T=[],R=u.infoData_.getNode(h._path);return R.isEmpty()||(T=li(u.infoSyncTree_,h._path,R),setTimeout(function(){D("ok")},0)),T},stopListening:function(){}}),dl(u,"connected",!1),u.serverSyncTree_=new Rc({startListening:function(h,v,E,D){return u.server_.listen(h,E,v,function(T,R){var N=D(T,R);bn(u.eventQueue_,h._path,N)}),[]},stopListening:function(h,v){u.server_.unlisten(h,v)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Dt(this._repo,Oe())),this._rootInternal},enumerable:!1,configurable:!0}),u.prototype._delete=function(){return null!==this._rootInternal&&(function(u,a){var c=zn[a];(!c||c[u.key]!==u)&&vt("Database "+a+"("+u.repoInfo_+") has already been deleted."),Za(u),delete c[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},u.prototype._checkNotDeleted=function(a){null===this._rootInternal&&vt("Cannot call "+a+" on a deleted database.")},u}();function Qc(u){(u=(0,A.m9)(u))._checkNotDeleted("goOffline"),Za(u._repo)}function No(u){(u=(0,A.m9)(u))._checkNotDeleted("goOnline"),function(u){u.persistentConnection_&&u.persistentConnection_.resume(al)}(u._repo)}var Pr={".sv":"timestamp"},Kc=function(){function u(a,c){this.committed=a,this.snapshot=c}return u.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},u}();function yp(u,a,c){var h;if(u=(0,A.m9)(u),pr("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";var v=null===(h=null==c?void 0:c.applyLocally)||void 0===h||h,E=new A.BH,T=eu(u,function(){});return function(u,a,c,h,v,E){So(u,"transaction on "+a);var D={path:a,update:c,onComplete:h,status:null,order:ce(),applyLocally:E,retryCount:0,unwatcher:v,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},T=mr(u,a,void 0);D.currentInputSnapshot=T;var R=D.update(T.val());if(void 0===R)D.unwatcher(),D.currentOutputSnapshotRaw=null,D.currentOutputSnapshotResolved=null,D.onComplete&&D.onComplete(null,!1,D.currentInputSnapshot);else{ds("transaction failed: Data returned ",R,D.path),D.status=0;var N=Js(u.transactionQueueTree_,a),k=Rt(N)||[];k.push(D),Xs(N,k);var J=void 0;"object"==typeof R&&null!==R&&(0,A.r3)(R,".priority")?(J=(0,A.DV)(R,".priority"),(0,A.hu)(wo(J),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):J=(ci(u.serverSyncTree_,a)||qe.EMPTY_NODE).getPriority().val();var _e=Mr(u),be=Yt(R,J),ze=di(be,T,_e);D.currentOutputSnapshotRaw=be,D.currentOutputSnapshotResolved=ze,D.currentWriteId=qa(u);var Ue=Fa(u.serverSyncTree_,a,ze,D.currentWriteId,D.applyLocally);bn(u.eventQueue_,a,Ue),gi(u,u.transactionQueueTree_)}}(u._repo,u._path,a,function(R,N,k){var J=null;R?E.reject(R):(J=new Wn(k,new Dt(u._repo,u._path),Mt),E.resolve(new Kc(N,J)))},T,v),E.promise}var Zr=function(){function u(a){this._delegate=a}return u.prototype.cancel=function(a){(0,A.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,A.Wj)("OnDisconnect.cancel","onComplete",a,!0);var c=this._delegate.cancel();return a&&c.then(function(){return a(null)},function(h){return a(h)}),c},u.prototype.remove=function(a){(0,A.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,A.Wj)("OnDisconnect.remove","onComplete",a,!0);var c=this._delegate.remove();return a&&c.then(function(){return a(null)},function(h){return a(h)}),c},u.prototype.set=function(a,c){(0,A.Dv)("OnDisconnect.set",1,2,arguments.length),(0,A.Wj)("OnDisconnect.set","onComplete",c,!0);var h=this._delegate.set(a);return c&&h.then(function(){return c(null)},function(v){return c(v)}),h},u.prototype.setWithPriority=function(a,c,h){(0,A.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,A.Wj)("OnDisconnect.setWithPriority","onComplete",h,!0);var v=this._delegate.setWithPriority(a,c);return h&&v.then(function(){return h(null)},function(E){return h(E)}),v},u.prototype.update=function(a,c){if((0,A.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(a)){for(var h={},v=0;v<a.length;++v)h[""+v]=a[v];a=h,At("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,A.Wj)("OnDisconnect.update","onComplete",c,!0);var E=this._delegate.update(a);return c&&E.then(function(){return c(null)},function(D){return c(D)}),E},u}(),ou=function(){function u(a,c){this.committed=a,this.snapshot=c}return u.prototype.toJSON=function(){return(0,A.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},u}(),zi=function(){function u(a,c){this._database=a,this._delegate=c}return u.prototype.val=function(){return(0,A.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},u.prototype.exportVal=function(){return(0,A.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},u.prototype.toJSON=function(){return(0,A.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},u.prototype.exists=function(){return(0,A.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},u.prototype.child=function(a){return(0,A.Dv)("DataSnapshot.child",0,1,arguments.length),a=String(a),Ao("DataSnapshot.child","path",a,!1),new u(this._database,this._delegate.child(a))},u.prototype.hasChild=function(a){return(0,A.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ao("DataSnapshot.hasChild","path",a,!1),this._delegate.hasChild(a)},u.prototype.getPriority=function(){return(0,A.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},u.prototype.forEach=function(a){var c=this;return(0,A.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,A.Wj)("DataSnapshot.forEach","action",a,!1),this._delegate.forEach(function(h){return a(new u(c._database,h))})},u.prototype.hasChildren=function(){return(0,A.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(u.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),u.prototype.numChildren=function(){return(0,A.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},u.prototype.getRef=function(){return(0,A.Dv)("DataSnapshot.ref",0,0,arguments.length),new _i(this._database,this._delegate.ref)},Object.defineProperty(u.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),u}(),Dl=function(){function u(a,c){this.database=a,this._delegate=c}return u.prototype.on=function(a,c,h,v){var D,E=this;(0,A.Dv)("Query.on",2,4,arguments.length),(0,A.Wj)("Query.on","callback",c,!1);var T=u.getCancelAndContextArgs_("Query.on",h,v),R=function(k,J){c.call(T.context,new zi(E.database,k),J)};R.userCallback=c,R.context=T.context;var N=null===(D=T.cancel)||void 0===D?void 0:D.bind(T.context);switch(a){case"value":return eu(this._delegate,R,N),c;case"child_added":return vl(this._delegate,R,N),c;case"child_removed":return Rr(this._delegate,R,N),c;case"child_changed":return Dn(this._delegate,R,N),c;case"child_moved":return oa(this._delegate,R,N),c;default:throw new Error((0,A.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},u.prototype.off=function(a,c,h){if((0,A.Dv)("Query.off",0,3,arguments.length),ff("Query.off",a,!0),(0,A.Wj)("Query.off","callback",c,!0),(0,A.lb)("Query.off","context",h,!0),c){var v=function(){};v.userCallback=c,v.context=h,gs(this._delegate,a,v)}else gs(this._delegate,a)},u.prototype.get=function(){var a=this;return wf(this._delegate).then(function(c){return new zi(a.database,c)})},u.prototype.once=function(a,c,h,v){var E=this;(0,A.Dv)("Query.once",1,4,arguments.length),(0,A.Wj)("Query.once","callback",c,!0);var D=u.getCancelAndContextArgs_("Query.once",h,v),T=new A.BH,R=function(k,J){var le=new zi(E.database,k);c&&c.call(D.context,le,J),T.resolve(le)};R.userCallback=c,R.context=D.context;var N=function(k){D.cancel&&D.cancel.call(D.context,k),T.reject(k)};switch(a){case"value":eu(this._delegate,R,N,{onlyOnce:!0});break;case"child_added":vl(this._delegate,R,N,{onlyOnce:!0});break;case"child_removed":Rr(this._delegate,R,N,{onlyOnce:!0});break;case"child_changed":Dn(this._delegate,R,N,{onlyOnce:!0});break;case"child_moved":oa(this._delegate,R,N,{onlyOnce:!0});break;default:throw new Error((0,A.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return T.promise},u.prototype.limitToFirst=function(a){return(0,A.Dv)("Query.limitToFirst",1,1,arguments.length),new u(this.database,Or(this._delegate,mi(a)))},u.prototype.limitToLast=function(a){return(0,A.Dv)("Query.limitToLast",1,1,arguments.length),new u(this.database,Or(this._delegate,Tf(a)))},u.prototype.orderByChild=function(a){return(0,A.Dv)("Query.orderByChild",1,1,arguments.length),new u(this.database,Or(this._delegate,Cl(a)))},u.prototype.orderByKey=function(){return(0,A.Dv)("Query.orderByKey",0,0,arguments.length),new u(this.database,Or(this._delegate,El()))},u.prototype.orderByPriority=function(){return(0,A.Dv)("Query.orderByPriority",0,0,arguments.length),new u(this.database,Or(this._delegate,ms()))},u.prototype.orderByValue=function(){return(0,A.Dv)("Query.orderByValue",0,0,arguments.length),new u(this.database,Or(this._delegate,Mf()))},u.prototype.startAt=function(a,c){return void 0===a&&(a=null),(0,A.Dv)("Query.startAt",0,2,arguments.length),new u(this.database,Or(this._delegate,Gc(a,c)))},u.prototype.startAfter=function(a,c){return void 0===a&&(a=null),(0,A.Dv)("Query.startAfter",0,2,arguments.length),new u(this.database,Or(this._delegate,_p(a,c)))},u.prototype.endAt=function(a,c){return void 0===a&&(a=null),(0,A.Dv)("Query.endAt",0,2,arguments.length),new u(this.database,Or(this._delegate,Hc(a,c)))},u.prototype.endBefore=function(a,c){return void 0===a&&(a=null),(0,A.Dv)("Query.endBefore",0,2,arguments.length),new u(this.database,Or(this._delegate,If(a,c)))},u.prototype.equalTo=function(a,c){return(0,A.Dv)("Query.equalTo",1,2,arguments.length),new u(this.database,Or(this._delegate,Yc(a,c)))},u.prototype.toString=function(){return(0,A.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},u.prototype.toJSON=function(){return(0,A.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},u.prototype.isEqual=function(a){if((0,A.Dv)("Query.isEqual",1,1,arguments.length),!(a instanceof u)){var c="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(c)}return this._delegate.isEqual(a._delegate)},u.getCancelAndContextArgs_=function(a,c,h){var v={cancel:void 0,context:void 0};if(c&&h)v.cancel=c,(0,A.Wj)(a,"cancel",v.cancel,!0),v.context=h,(0,A.lb)(a,"context",v.context,!0);else if(c)if("object"==typeof c&&null!==c)v.context=c;else{if("function"!=typeof c)throw new Error((0,A.gK)(a,"cancelOrContext")+" must either be a cancel callback or a context object.");v.cancel=c}return v},Object.defineProperty(u.prototype,"ref",{get:function(){return new _i(this.database,new Dt(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),u}(),_i=function(u){function a(c,h){var v=u.call(this,c,new Fn(h._repo,h._path,new fc,!1))||this;return v.database=c,v._delegate=h,v}return(0,W.ZT)(a,u),a.prototype.getKey=function(){return(0,A.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},a.prototype.child=function(c){return(0,A.Dv)("Reference.child",1,1,arguments.length),"number"==typeof c&&(c=String(c)),new a(this.database,Wi(this._delegate,c))},a.prototype.getParent=function(){(0,A.Dv)("Reference.parent",0,0,arguments.length);var c=this._delegate.parent;return c?new a(this.database,c):null},a.prototype.getRoot=function(){return(0,A.Dv)("Reference.root",0,0,arguments.length),new a(this.database,this._delegate.root)},a.prototype.set=function(c,h){(0,A.Dv)("Reference.set",1,2,arguments.length),(0,A.Wj)("Reference.set","onComplete",h,!0);var v=_l(this._delegate,c);return h&&v.then(function(){return h(null)},function(E){return h(E)}),v},a.prototype.update=function(c,h){if((0,A.Dv)("Reference.update",1,2,arguments.length),Array.isArray(c)){for(var v={},E=0;E<c.length;++E)v[""+E]=c[E];c=v,At("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}pr("Reference.update",this._delegate._path),(0,A.Wj)("Reference.update","onComplete",h,!0);var D=mp(this._delegate,c);return h&&D.then(function(){return h(null)},function(T){return h(T)}),D},a.prototype.setWithPriority=function(c,h,v){(0,A.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,A.Wj)("Reference.setWithPriority","onComplete",v,!0);var E=Df(this._delegate,c,h);return v&&E.then(function(){return v(null)},function(D){return v(D)}),E},a.prototype.remove=function(c){(0,A.Dv)("Reference.remove",0,1,arguments.length),(0,A.Wj)("Reference.remove","onComplete",c,!0);var h=bf(this._delegate);return c&&h.then(function(){return c(null)},function(v){return c(v)}),h},a.prototype.transaction=function(c,h,v){var E=this;(0,A.Dv)("Reference.transaction",1,3,arguments.length),(0,A.Wj)("Reference.transaction","transactionUpdate",c,!1),(0,A.Wj)("Reference.transaction","onComplete",h,!0),ol("Reference.transaction","applyLocally",v,!0);var D=yp(this._delegate,c,{applyLocally:v}).then(function(T){return new ou(T.committed,new zi(E.database,T.snapshot))});return h&&D.then(function(T){return h(null,T.committed,T.snapshot)},function(T){return h(T,!1,null)}),D},a.prototype.setPriority=function(c,h){(0,A.Dv)("Reference.setPriority",1,2,arguments.length),(0,A.Wj)("Reference.setPriority","onComplete",h,!0);var v=jc(this._delegate,c);return h&&v.then(function(){return h(null)},function(E){return h(E)}),v},a.prototype.push=function(c,h){var v=this;(0,A.Dv)("Reference.push",0,2,arguments.length),(0,A.Wj)("Reference.push","onComplete",h,!0);var E=Ef(this._delegate,c),D=E.then(function(R){return new a(v.database,R)});h&&D.then(function(){return h(null)},function(R){return h(R)});var T=new a(this.database,E);return T.then=D.then.bind(D),T.catch=D.catch.bind(D,void 0),T},a.prototype.onDisconnect=function(){return pr("Reference.onDisconnect",this._delegate._path),new Zr(new Ka(this._delegate._repo,this._delegate._path))},Object.defineProperty(a.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),a}(Dl),_r=function(){function u(a,c){var h=this;this._delegate=a,this.app=c,this.INTERNAL={delete:function(){return h._delegate._delete()}}}return u.prototype.useEmulator=function(a,c,h){void 0===h&&(h={}),function(u,a,c,h){void 0===h&&(h={}),(u=(0,A.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&vt("Cannot call useEmulator() after instance has already been initialized.");var v=u._repoInternal,E=void 0;if(v.repoInfo_.nodeAdmin)h.mockUserToken&&vt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),E=new ot(ot.OWNER);else if(h.mockUserToken){var D=(0,A.Sg)(h.mockUserToken,u.app.options.projectId);E=new ot(D)}!function(u,a,c,h){u.repoInfo_=new Kt(a+":"+c,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams),h&&(u.authTokenProvider_=h)}(v,a,c,E)}(this._delegate,a,c,h)},u.prototype.ref=function(a){if((0,A.Dv)("database.ref",0,1,arguments.length),a instanceof _i){var c=Xa(this._delegate,a.toString());return new _i(this,c)}return c=ia(this._delegate,a),new _i(this,c)},u.prototype.refFromURL=function(a){var c="database.refFromURL";(0,A.Dv)(c,1,1,arguments.length);var h=Xa(this._delegate,a);return new _i(this,h)},u.prototype.goOffline=function(){return(0,A.Dv)("database.goOffline",0,0,arguments.length),Qc(this._delegate)},u.prototype.goOnline=function(){return(0,A.Dv)("database.goOnline",0,0,arguments.length),No(this._delegate)},u.ServerValue={TIMESTAMP:Pr,increment:function(a){return function(u){return{".sv":{increment:u}}}(a)}},u}(),Of=Object.freeze({__proto__:null,forceLongPolling:function(){En.forceDisallow(),va.forceAllow()},forceWebSockets:function(){va.forceDisallow()},isWebSocketsAvailable:function(){return En.isAvailable()},setSecurityDebugCallback:function(u,a){u._delegate._repo.persistentConnection_.securityDebugCallback_=a},stats:function(u,a){!function(u,a){if(void 0===a&&(a=!1),"undefined"!=typeof console){var c;a?(u.statsListener_||(u.statsListener_=new ri(u.stats_)),c=u.statsListener_.get()):c=u.stats_.get();var h=Object.keys(c).reduce(function(v,E){return Math.max(E.length,v)},0);ke(c,function(v,E){for(var D=v,T=v.length;T<h+2;T++)D+=" ";console.log(D+E)})}}(u._delegate._repo,a)},statsIncrementCounter:function(u,a){!function(u,a){u.stats_.incrementCounter(a),function(u,a){u.statsToReport_[a]=!0}(u.statsReporter_,a)}(u._delegate._repo,a)},dataUpdateCount:function(u){return u._delegate._repo.dataUpdateCount},interceptServerData:function(u,a){return function(u,a){u.interceptServerDataCallback_=a}(u._delegate._repo,a)},initStandalone:function(u){var a=u.app,c=u.url,v=u.customAuthImpl,E=u.namespace,D=u.nodeAdmin,T=void 0!==D&&D;z(u.version);var R=new ie.zt("auth-internal",new ie.H0("database-standalone"));return R.setComponent(new ie.wA("auth-internal",function(){return v},"PRIVATE")),{instance:new _r(bl(a,R,void 0,c,T),a),namespace:E}}}),su=Zo;Zo.prototype.simpleListen=function(u,a){this.sendRequest("q",{p:u},a)},Zo.prototype.echo=function(u,a){this.sendRequest("echo",{d:u},a)};var nd=Object.freeze({__proto__:null,DataConnection:su,RealTimeConnection:Ai,hijackHash:function(u){var a=Zo.prototype.put;return Zo.prototype.put=function(c,h,v,E){void 0!==E&&(E=u()),a.call(this,c,h,v,E)},function(){Zo.prototype.put=a}},ConnectionTarget:Kt,queryIdentifier:function(u){return u._delegate._queryIdentifier},forceRestClient:function(u){!function(u){ru=u}(u)}}),au=_r.ServerValue;!function(u){z(u.SDK_VERSION);var a=u.INTERNAL.registerComponent(new ie.wA("database",function(c,h){var v=h.instanceIdentifier,E=c.getProvider("app").getImmediate(),D=c.getProvider("auth-internal"),T=c.getProvider("app-check-internal");return new _r(bl(E,D,T,v),E)},"PUBLIC").setServiceProps({Reference:_i,Query:Dl,Database:_r,DataSnapshot:zi,enableLogging:Ye,INTERNAL:Of,ServerValue:au,TEST_ACCESS:nd}).setMultipleInstances(!0));u.registerVersion("@firebase/database","0.10.9"),(0,A.Yr)()&&(Pe.exports=a)}(p.Z)},300:(Pe,me,F)=>{"use strict";function p(){for(var O=0,B=0,q=arguments.length;B<q;B++)O+=arguments[B].length;var se=Array(O),ce=0;for(B=0;B<q;B++)for(var Ae=arguments[B],ve=0,ye=Ae.length;ve<ye;ve++,ce++)se[ce]=Ae[ve];return se}F.d(me,{in:()=>W,Yd:()=>z,Ub:()=>P,Am:()=>H});var ie,A=[],W=(()=>{return(O=W||(W={}))[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",W;var O})(),ue={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},Y=W.INFO,de=((ie={})[W.DEBUG]="log",ie[W.VERBOSE]="log",ie[W.INFO]="info",ie[W.WARN]="warn",ie[W.ERROR]="error",ie),Q=function(O,B){for(var q=[],se=2;se<arguments.length;se++)q[se-2]=arguments[se];if(!(B<O.logLevel)){var ce=(new Date).toISOString(),Ae=de[B];if(!Ae)throw new Error("Attempted to log a message with an invalid logType (value: "+B+")");console[Ae].apply(console,p(["["+ce+"]  "+O.name+":"],q))}},z=function(){function O(B){this.name=B,this._logLevel=Y,this._logHandler=Q,this._userLogHandler=null,A.push(this)}return Object.defineProperty(O.prototype,"logLevel",{get:function(){return this._logLevel},set:function(B){if(!(B in W))throw new TypeError('Invalid value "'+B+'" assigned to `logLevel`');this._logLevel=B},enumerable:!1,configurable:!0}),O.prototype.setLogLevel=function(B){this._logLevel="string"==typeof B?ue[B]:B},Object.defineProperty(O.prototype,"logHandler",{get:function(){return this._logHandler},set:function(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(B){this._userLogHandler=B},enumerable:!1,configurable:!0}),O.prototype.debug=function(){for(var B=[],q=0;q<arguments.length;q++)B[q]=arguments[q];this._userLogHandler&&this._userLogHandler.apply(this,p([this,W.DEBUG],B)),this._logHandler.apply(this,p([this,W.DEBUG],B))},O.prototype.log=function(){for(var B=[],q=0;q<arguments.length;q++)B[q]=arguments[q];this._userLogHandler&&this._userLogHandler.apply(this,p([this,W.VERBOSE],B)),this._logHandler.apply(this,p([this,W.VERBOSE],B))},O.prototype.info=function(){for(var B=[],q=0;q<arguments.length;q++)B[q]=arguments[q];this._userLogHandler&&this._userLogHandler.apply(this,p([this,W.INFO],B)),this._logHandler.apply(this,p([this,W.INFO],B))},O.prototype.warn=function(){for(var B=[],q=0;q<arguments.length;q++)B[q]=arguments[q];this._userLogHandler&&this._userLogHandler.apply(this,p([this,W.WARN],B)),this._logHandler.apply(this,p([this,W.WARN],B))},O.prototype.error=function(){for(var B=[],q=0;q<arguments.length;q++)B[q]=arguments[q];this._userLogHandler&&this._userLogHandler.apply(this,p([this,W.ERROR],B)),this._logHandler.apply(this,p([this,W.ERROR],B))},O}();function P(O){A.forEach(function(B){B.setLogLevel(O)})}function H(O,B){for(var q=function(ve){var ye=null;B&&B.level&&(ye=ue[B.level]),ve.userLogHandler=null===O?null:function(Te,Ye){for(var we=[],Ct=2;Ct<arguments.length;Ct++)we[Ct-2]=arguments[Ct];var Nt=we.map(function(vt){if(null==vt)return null;if("string"==typeof vt)return vt;if("number"==typeof vt||"boolean"==typeof vt)return vt.toString();if(vt instanceof Error)return vt.message;try{return JSON.stringify(vt)}catch(At){return null}}).filter(function(vt){return vt}).join(" ");Ye>=(null!=ye?ye:Te.logLevel)&&O({level:W[Ye].toLowerCase(),message:Nt,args:we,type:Te.name})}},se=0,ce=A;se<ce.length;se++)q(ce[se])}},4685:(Pe,me,F)=>{"use strict";F.d(me,{BH:()=>B,LL:()=>te,gQ:()=>ot,hu:()=>A,g5:()=>W,US:()=>de,h$:()=>Q,r3:()=>mt,Sg:()=>q,ne:()=>yn,p$:()=>P,ZB:()=>H,gK:()=>Ur,m9:()=>Xl,GJ:()=>Pt,jU:()=>ve,xb:()=>Qt,uI:()=>ce,UG:()=>Ae,Yr:()=>Nt,b$:()=>Te,w9:()=>nt,cI:()=>Ot,UI:()=>gn,xO:()=>wi,DV:()=>rr,ug:()=>Kt,dS:()=>Ru,Pz:()=>Ve,Dv:()=>en,Wj:()=>ir,lb:()=>ln});var p=F(4762),A=function(U,V){if(!U)throw W(V)},W=function(U){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+U)},ue=function(U){for(var V=[],$=0,ae=0;ae<U.length;ae++){var Z=U.charCodeAt(ae);Z<128?V[$++]=Z:Z<2048?(V[$++]=Z>>6|192,V[$++]=63&Z|128):55296==(64512&Z)&&ae+1<U.length&&56320==(64512&U.charCodeAt(ae+1))?(Z=65536+((1023&Z)<<10)+(1023&U.charCodeAt(++ae)),V[$++]=Z>>18|240,V[$++]=Z>>12&63|128,V[$++]=Z>>6&63|128,V[$++]=63&Z|128):(V[$++]=Z>>12|224,V[$++]=Z>>6&63|128,V[$++]=63&Z|128)}return V},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var $=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,ae=[],Z=0;Z<U.length;Z+=3){var Ie=U[Z],Ge=Z+1<U.length,ut=Ge?U[Z+1]:0,Et=Z+2<U.length,wt=Et?U[Z+2]:0,Bn=(15&ut)<<2|wt>>6,Xr=63&wt;Et||(Xr=64,Ge||(Bn=64)),ae.push($[Ie>>2],$[(3&Ie)<<4|ut>>4],$[Bn],$[Xr])}return ae.join("")},encodeString:function(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(ue(U),V)},decodeString:function(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){for(var V=[],$=0,ae=0;$<U.length;){var Z=U[$++];if(Z<128)V[ae++]=String.fromCharCode(Z);else if(Z>191&&Z<224){var Ie=U[$++];V[ae++]=String.fromCharCode((31&Z)<<6|63&Ie)}else if(Z>239&&Z<365){var Et=((7&Z)<<18|(63&(Ie=U[$++]))<<12|(63&(Ge=U[$++]))<<6|63&U[$++])-65536;V[ae++]=String.fromCharCode(55296+(Et>>10)),V[ae++]=String.fromCharCode(56320+(1023&Et))}else{Ie=U[$++];var Ge=U[$++];V[ae++]=String.fromCharCode((15&Z)<<12|(63&Ie)<<6|63&Ge)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray:function(U,V){this.init_();for(var $=V?this.charToByteMapWebSafe_:this.charToByteMap_,ae=[],Z=0;Z<U.length;){var Ie=$[U.charAt(Z++)],ut=Z<U.length?$[U.charAt(Z)]:0,wt=++Z<U.length?$[U.charAt(Z)]:64,Mn=++Z<U.length?$[U.charAt(Z)]:64;if(++Z,null==Ie||null==ut||null==wt||null==Mn)throw Error();ae.push(Ie<<2|ut>>4),64!==wt&&(ae.push(ut<<4&240|wt>>2),64!==Mn&&ae.push(wt<<6&192|Mn))}return ae},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},Q=function(U){var V=ue(U);return de.encodeByteArray(V,!0)},z=function(U){try{return de.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function P(U){return H(void 0,U)}function H(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(var ae in V)!V.hasOwnProperty(ae)||!O(ae)||(U[ae]=H(U[ae],V[ae]));return U}function O(U){return"__proto__"!==U}var B=function(){function U(){var V=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function($,ae){V.resolve=$,V.reject=ae})}return U.prototype.wrapCallback=function(V){var $=this;return function(ae,Z){ae?$.reject(ae):$.resolve(Z),"function"==typeof V&&($.promise.catch(function(){}),1===V.length?V(ae):V(ae,Z))}},U}();function q(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ae=V||"demo-project",Z=U.iat||0,Ie=U.sub||U.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ge=(0,p.pi)({iss:"https://securetoken.google.com/"+ae,aud:ae,iat:Z,exp:Z+3600,auth_time:Z,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},U);return[de.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),de.encodeString(JSON.stringify(Ge),!1),""].join(".")}function ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function Ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function ve(){return"object"==typeof self&&self.self===self}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Nt(){return!1}var he=function(U){function V($,ae,Z){var Ie=U.call(this,ae)||this;return Ie.code=$,Ie.customData=Z,Ie.name="FirebaseError",Object.setPrototypeOf(Ie,V.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ie,te.prototype.create),Ie}return(0,p.ZT)(V,U),V}(Error),te=function(){function U(V,$,ae){this.service=V,this.serviceName=$,this.errors=ae}return U.prototype.create=function(V){for(var $=[],ae=1;ae<arguments.length;ae++)$[ae-1]=arguments[ae];var Z=$[0]||{},Ie=this.service+"/"+V,Ge=this.errors[V],ut=Ge?He(Ge,Z):"Error",Et=this.serviceName+": "+ut+" ("+Ie+").",wt=new he(Ie,Et,Z);return wt},U}();function He(U,V){return U.replace($e,function($,ae){var Z=V[ae];return null!=Z?String(Z):"<"+ae+"?>"})}var $e=/\{\$([^}]+)}/g;function Ot(U){return JSON.parse(U)}function Ve(U){return JSON.stringify(U)}var ke=function(U){var V={},$={},ae={},Z="";try{var Ie=U.split(".");V=Ot(z(Ie[0])||""),$=Ot(z(Ie[1])||""),Z=Ie[2],ae=$.d||{},delete $.d}catch(Ge){}return{header:V,claims:$,data:ae,signature:Z}},nt=function(U){var $=ke(U).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},Pt=function(U){var V=ke(U).claims;return"object"==typeof V&&!0===V.admin};function mt(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function rr(U,V){if(Object.prototype.hasOwnProperty.call(U,V))return U[V]}function Qt(U){for(var V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function gn(U,V,$){var ae={};for(var Z in U)Object.prototype.hasOwnProperty.call(U,Z)&&(ae[Z]=V.call($,U[Z],Z,U));return ae}function wi(U){for(var V=[],$=function(Et,wt){Array.isArray(wt)?wt.forEach(function(cn){V.push(encodeURIComponent(Et)+"="+encodeURIComponent(cn))}):V.push(encodeURIComponent(Et)+"="+encodeURIComponent(wt))},ae=0,Z=Object.entries(U);ae<Z.length;ae++){var Ie=Z[ae];$(Ie[0],Ie[1])}return V.length?"&"+V.join("&"):""}var ot=function(){function U(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var V=1;V<this.blockSize;++V)this.pad_[V]=0;this.reset()}return U.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},U.prototype.compress_=function(V,$){$||($=0);var ae=this.W_;if("string"==typeof V)for(var Z=0;Z<16;Z++)ae[Z]=V.charCodeAt($)<<24|V.charCodeAt($+1)<<16|V.charCodeAt($+2)<<8|V.charCodeAt($+3),$+=4;else for(Z=0;Z<16;Z++)ae[Z]=V[$]<<24|V[$+1]<<16|V[$+2]<<8|V[$+3],$+=4;for(Z=16;Z<80;Z++)ae[Z]=4294967295&((Ie=ae[Z-3]^ae[Z-8]^ae[Z-14]^ae[Z-16])<<1|Ie>>>31);var Mn,Bn,Ge=this.chain_[0],ut=this.chain_[1],Et=this.chain_[2],wt=this.chain_[3],cn=this.chain_[4];for(Z=0;Z<80;Z++){Z<40?Z<20?(Mn=wt^ut&(Et^wt),Bn=1518500249):(Mn=ut^Et^wt,Bn=1859775393):Z<60?(Mn=ut&Et|wt&(ut|Et),Bn=2400959708):(Mn=ut^Et^wt,Bn=3395469782);var Ie=(Ge<<5|Ge>>>27)+Mn+cn+Bn+ae[Z]&4294967295;cn=wt,wt=Et,Et=4294967295&(ut<<30|ut>>>2),ut=Ge,Ge=Ie}this.chain_[0]=this.chain_[0]+Ge&4294967295,this.chain_[1]=this.chain_[1]+ut&4294967295,this.chain_[2]=this.chain_[2]+Et&4294967295,this.chain_[3]=this.chain_[3]+wt&4294967295,this.chain_[4]=this.chain_[4]+cn&4294967295},U.prototype.update=function(V,$){if(null!=V){void 0===$&&($=V.length);for(var ae=$-this.blockSize,Z=0,Ie=this.buf_,Ge=this.inbuf_;Z<$;){if(0===Ge)for(;Z<=ae;)this.compress_(V,Z),Z+=this.blockSize;if("string"==typeof V){for(;Z<$;)if(Ie[Ge]=V.charCodeAt(Z),++Z,++Ge===this.blockSize){this.compress_(Ie),Ge=0;break}}else for(;Z<$;)if(Ie[Ge]=V[Z],++Z,++Ge===this.blockSize){this.compress_(Ie),Ge=0;break}}this.inbuf_=Ge,this.total_+=$}},U.prototype.digest=function(){var V=[],$=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ae=this.blockSize-1;ae>=56;ae--)this.buf_[ae]=255&$,$/=256;this.compress_(this.buf_);var Z=0;for(ae=0;ae<5;ae++)for(var Ie=24;Ie>=0;Ie-=8)V[Z]=this.chain_[ae]>>Ie&255,++Z;return V},U}();function yn(U,V){var $=new Cn(U,V);return $.subscribe.bind($)}var Cn=function(){function U(V,$){var ae=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(function(){V(ae)}).catch(function(Z){ae.error(Z)})}return U.prototype.next=function(V){this.forEachObserver(function($){$.next(V)})},U.prototype.error=function(V){this.forEachObserver(function($){$.error(V)}),this.close(V)},U.prototype.complete=function(){this.forEachObserver(function(V){V.complete()}),this.close()},U.prototype.subscribe=function(V,$,ae){var Ie,Z=this;if(void 0===V&&void 0===$&&void 0===ae)throw new Error("Missing Observer.");void 0===(Ie=function(U,V){if("object"!=typeof U||null===U)return!1;for(var $=0,ae=["next","error","complete"];$<ae.length;$++){var Z=ae[$];if(Z in U&&"function"==typeof U[Z])return!0}return!1}(V)?V:{next:V,error:$,complete:ae}).next&&(Ie.next=on),void 0===Ie.error&&(Ie.error=on),void 0===Ie.complete&&(Ie.complete=on);var Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Z.finalError?Ie.error(Z.finalError):Ie.complete()}catch(ut){}}),this.observers.push(Ie),Ge},U.prototype.unsubscribeOne=function(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},U.prototype.forEachObserver=function(V){if(!this.finalized)for(var $=0;$<this.observers.length;$++)this.sendOne($,V)},U.prototype.sendOne=function(V,$){var ae=this;this.task.then(function(){if(void 0!==ae.observers&&void 0!==ae.observers[V])try{$(ae.observers[V])}catch(Z){"undefined"!=typeof console&&console.error&&console.error(Z)}})},U.prototype.close=function(V){var $=this;this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(function(){$.observers=void 0,$.onNoObservers=void 0}))},U}();function on(){}var en=function(U,V,$,ae){var Z;if(ae<V?Z="at least "+V:ae>$&&(Z=0===$?"none":"no more than "+$),Z)throw new Error(U+" failed: Was called with "+ae+(1===ae?" argument.":" arguments.")+" Expects "+Z+".")};function Ur(U,V){return U+" failed: "+V+" argument "}function ir(U,V,$,ae){if((!ae||$)&&"function"!=typeof $)throw new Error(Ur(U,V)+"must be a valid function.")}function ln(U,V,$,ae){if((!ae||$)&&("object"!=typeof $||null===$))throw new Error(Ur(U,V)+"must be a valid context object.")}var Ru=function(U){for(var V=[],$=0,ae=0;ae<U.length;ae++){var Z=U.charCodeAt(ae);if(Z>=55296&&Z<=56319){var Ie=Z-55296;ae++,A(ae<U.length,"Surrogate pair missing trail surrogate."),Z=65536+(Ie<<10)+(U.charCodeAt(ae)-56320)}Z<128?V[$++]=Z:Z<2048?(V[$++]=Z>>6|192,V[$++]=63&Z|128):Z<65536?(V[$++]=Z>>12|224,V[$++]=Z>>6&63|128,V[$++]=63&Z|128):(V[$++]=Z>>18|240,V[$++]=Z>>12&63|128,V[$++]=Z>>6&63|128,V[$++]=63&Z|128)}return V},Kt=function(U){for(var V=0,$=0;$<U.length;$++){var ae=U.charCodeAt($);ae<128?V++:ae<2048?V+=2:ae>=55296&&ae<=56319?(V+=4,$++):V+=3}return V};function Xl(U){return U&&U._delegate?U._delegate:U}},2329:(Pe,me,F)=>{"use strict";F.d(me,{Z:()=>p.Z});var p=F(9759),A="8.9.1";p.Z.registerVersion("firebase",A,"app"),p.Z.SDK_VERSION=A},7574:(Pe,me,F)=>{"use strict";F.d(me,{y:()=>H});var p=F(7393),A=F(9181),W=F(6490),Y=F(6554),de=F(4487);var P=F(2494);let H=(()=>{class B{constructor(se){this._isScalar=!1,se&&(this._subscribe=se)}lift(se){const ce=new B;return ce.source=this,ce.operator=se,ce}subscribe(se,ce,Ae){const{operator:ve}=this,ye=function(B,q,se){if(B){if(B instanceof p.L)return B;if(B[A.b])return B[A.b]()}return B||q||se?new p.L(B,q,se):new p.L(W.c)}(se,ce,Ae);if(ye.add(ve?ve.call(ye,this.source):this.source||P.v.useDeprecatedSynchronousErrorHandling&&!ye.syncErrorThrowable?this._subscribe(ye):this._trySubscribe(ye)),P.v.useDeprecatedSynchronousErrorHandling&&ye.syncErrorThrowable&&(ye.syncErrorThrowable=!1,ye.syncErrorThrown))throw ye.syncErrorValue;return ye}_trySubscribe(se){try{return this._subscribe(se)}catch(ce){P.v.useDeprecatedSynchronousErrorHandling&&(se.syncErrorThrown=!0,se.syncErrorValue=ce),function(B){for(;B;){const{closed:q,destination:se,isStopped:ce}=B;if(q||ce)return!1;B=se&&se instanceof p.L?se:null}return!0}(se)?se.error(ce):console.warn(ce)}}forEach(se,ce){return new(ce=O(ce))((Ae,ve)=>{let ye;ye=this.subscribe(Te=>{try{se(Te)}catch(Ye){ve(Ye),ye&&ye.unsubscribe()}},ve,Ae)})}_subscribe(se){const{source:ce}=this;return ce&&ce.subscribe(se)}[Y.L](){return this}pipe(...se){return 0===se.length?this:function(B){return 0===B.length?de.y:1===B.length?B[0]:function(se){return B.reduce((ce,Ae)=>Ae(ce),se)}}(se)(this)}toPromise(se){return new(se=O(se))((ce,Ae)=>{let ve;this.subscribe(ye=>ve=ye,ye=>Ae(ye),()=>ce(ve))})}}return B.create=q=>new B(q),B})();function O(B){if(B||(B=P.v.Promise||Promise),!B)throw new Error("no Promise impl found");return B}},6490:(Pe,me,F)=>{"use strict";F.d(me,{c:()=>A});var p=F(2494),ie=F(4449);const A={closed:!0,next(W){},error(W){if(p.v.useDeprecatedSynchronousErrorHandling)throw W;(0,ie.z)(W)},complete(){}}},9765:(Pe,me,F)=>{"use strict";F.d(me,{Yc:()=>de,xQ:()=>Q});var p=F(7574),ie=F(7393),A=F(5319),W=F(7971),ue=F(8858),Y=F(9181);class de extends ie.L{constructor(H){super(H),this.destination=H}}let Q=(()=>{class P extends p.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Y.b](){return new de(this)}lift(O){const B=new z(this,this);return B.operator=O,B}next(O){if(this.closed)throw new W.N;if(!this.isStopped){const{observers:B}=this,q=B.length,se=B.slice();for(let ce=0;ce<q;ce++)se[ce].next(O)}}error(O){if(this.closed)throw new W.N;this.hasError=!0,this.thrownError=O,this.isStopped=!0;const{observers:B}=this,q=B.length,se=B.slice();for(let ce=0;ce<q;ce++)se[ce].error(O);this.observers.length=0}complete(){if(this.closed)throw new W.N;this.isStopped=!0;const{observers:O}=this,B=O.length,q=O.slice();for(let se=0;se<B;se++)q[se].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(O){if(this.closed)throw new W.N;return super._trySubscribe(O)}_subscribe(O){if(this.closed)throw new W.N;return this.hasError?(O.error(this.thrownError),A.w.EMPTY):this.isStopped?(O.complete(),A.w.EMPTY):(this.observers.push(O),new ue.W(this,O))}asObservable(){const O=new p.y;return O.source=this,O}}return P.create=(H,O)=>new z(H,O),P})();class z extends Q{constructor(H,O){super(),this.destination=H,this.source=O}next(H){const{destination:O}=this;O&&O.next&&O.next(H)}error(H){const{destination:O}=this;O&&O.error&&this.destination.error(H)}complete(){const{destination:H}=this;H&&H.complete&&this.destination.complete()}_subscribe(H){const{source:O}=this;return O?this.source.subscribe(H):A.w.EMPTY}}},8858:(Pe,me,F)=>{"use strict";F.d(me,{W:()=>ie});var p=F(5319);class ie extends p.w{constructor(W,ue){super(),this.subject=W,this.subscriber=ue,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const W=this.subject,ue=W.observers;if(this.subject=null,!ue||0===ue.length||W.isStopped||W.closed)return;const Y=ue.indexOf(this.subscriber);-1!==Y&&ue.splice(Y,1)}}},7393:(Pe,me,F)=>{"use strict";F.d(me,{L:()=>de});var p=F(9105),ie=F(6490),A=F(5319),W=F(9181),ue=F(2494),Y=F(4449);class de extends A.w{constructor(P,H,O){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ie.c;break;case 1:if(!P){this.destination=ie.c;break}if("object"==typeof P){P instanceof de?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new Q(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new Q(this,P,H,O)}}[W.b](){return this}static create(P,H,O){const B=new de(P,H,O);return B.syncErrorThrowable=!1,B}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class Q extends de{constructor(P,H,O,B){super(),this._parentSubscriber=P;let q,se=this;(0,p.m)(H)?q=H:H&&(q=H.next,O=H.error,B=H.complete,H!==ie.c&&(se=Object.create(H),(0,p.m)(se.unsubscribe)&&this.add(se.unsubscribe.bind(se)),se.unsubscribe=this.unsubscribe.bind(this))),this._context=se,this._next=q,this._error=O,this._complete=B}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:H}=this;ue.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?this.__tryOrSetError(H,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:H}=this,{useDeprecatedSynchronousErrorHandling:O}=ue.v;if(this._error)O&&H.syncErrorThrowable?(this.__tryOrSetError(H,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(H.syncErrorThrowable)O?(H.syncErrorValue=P,H.syncErrorThrown=!0):(0,Y.z)(P),this.unsubscribe();else{if(this.unsubscribe(),O)throw P;(0,Y.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const H=()=>this._complete.call(this._context);ue.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,H),this.unsubscribe()):(this.__tryOrUnsub(H),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,H){try{P.call(this._context,H)}catch(O){if(this.unsubscribe(),ue.v.useDeprecatedSynchronousErrorHandling)throw O;(0,Y.z)(O)}}__tryOrSetError(P,H,O){if(!ue.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{H.call(this._context,O)}catch(B){return ue.v.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=B,P.syncErrorThrown=!0,!0):((0,Y.z)(B),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},5319:(Pe,me,F)=>{"use strict";F.d(me,{w:()=>Y});var p=F(9796),ie=F(1555),A=F(9105);const ue=(()=>{function Q(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((P,H)=>`${H+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return Q.prototype=Object.create(Error.prototype),Q})();class Y{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:H,_unsubscribe:O,_subscriptions:B}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof Y)P.remove(this);else if(null!==P)for(let q=0;q<P.length;++q)P[q].remove(this);if((0,A.m)(O)){H&&(this._unsubscribe=void 0);try{O.call(this)}catch(q){z=q instanceof ue?de(q.errors):[q]}}if((0,p.k)(B)){let q=-1,se=B.length;for(;++q<se;){const ce=B[q];if((0,ie.K)(ce))try{ce.unsubscribe()}catch(Ae){z=z||[],Ae instanceof ue?z=z.concat(de(Ae.errors)):z.push(Ae)}}}if(z)throw new ue(z)}add(z){let P=z;if(!z)return Y.EMPTY;switch(typeof z){case"function":P=new Y(z);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof Y)){const B=P;P=new Y,P._subscriptions=[B]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:H}=P;if(null===H)P._parentOrParents=this;else if(H instanceof Y){if(H===this)return P;P._parentOrParents=[H,this]}else{if(-1!==H.indexOf(this))return P;H.push(this)}const O=this._subscriptions;return null===O?this._subscriptions=[P]:O.push(P),P}remove(z){const P=this._subscriptions;if(P){const H=P.indexOf(z);-1!==H&&P.splice(H,1)}}}var Q;function de(Q){return Q.reduce((z,P)=>z.concat(P instanceof ue?P.errors:P),[])}Y.EMPTY=((Q=new Y).closed=!0,Q)},2494:(Pe,me,F)=>{"use strict";F.d(me,{v:()=>ie});let p=!1;const ie={Promise:void 0,set useDeprecatedSynchronousErrorHandling(A){if(A){const W=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+W.stack)}else p&&console.log("RxJS: Back to a better error behavior. Thank you. <3");p=A},get useDeprecatedSynchronousErrorHandling(){return p}}},5345:(Pe,me,F)=>{"use strict";F.d(me,{IY:()=>W,Ds:()=>Y,ft:()=>Q});var p=F(7393),ie=F(7574),A=F(7444);class W extends p.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Y extends p.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function Q(z,P){if(P.closed)return;if(z instanceof ie.y)return z.subscribe(P);let H;try{H=(0,A.s)(z)(P)}catch(O){P.error(O)}return H}},2441:(Pe,me,F)=>{"use strict";F.d(me,{c:()=>ue,N:()=>Y});var p=F(9765),ie=F(7574),A=F(5319),W=F(1307);class ue extends ie.y{constructor(H,O){super(),this.source=H,this.subjectFactory=O,this._refCount=0,this._isComplete=!1}_subscribe(H){return this.getSubject().subscribe(H)}getSubject(){const H=this._subject;return(!H||H.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let H=this._connection;return H||(this._isComplete=!1,H=this._connection=new A.w,H.add(this.source.subscribe(new de(this.getSubject(),this))),H.closed&&(this._connection=null,H=A.w.EMPTY)),H}refCount(){return(0,W.x)()(this)}}const Y=(()=>{const P=ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class de extends p.Yc{constructor(H,O){super(H),this.connectable=O}_error(H){this._unsubscribe(),super._error(H)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const H=this.connectable;if(H){this.connectable=null;const O=H._connection;H._refCount=0,H._subject=null,H._connection=null,O&&O.unsubscribe()}}}},9193:(Pe,me,F)=>{"use strict";F.d(me,{E:()=>ie,c:()=>A});var p=F(7574);const ie=new p.y(ue=>ue.complete());function A(ue){return ue?function(ue){return new p.y(Y=>ue.schedule(()=>Y.complete()))}(ue):ie}},4402:(Pe,me,F)=>{"use strict";F.d(me,{D:()=>se});var p=F(7574),ie=F(7444),A=F(5319),W=F(6554),de=F(4087),Q=F(377),H=F(4072),O=F(9489);function se(ce,Ae){return Ae?function(ce,Ae){if(null!=ce){if(function(ce){return ce&&"function"==typeof ce[W.L]}(ce))return function(ce,Ae){return new p.y(ve=>{const ye=new A.w;return ye.add(Ae.schedule(()=>{const Te=ce[W.L]();ye.add(Te.subscribe({next(Ye){ye.add(Ae.schedule(()=>ve.next(Ye)))},error(Ye){ye.add(Ae.schedule(()=>ve.error(Ye)))},complete(){ye.add(Ae.schedule(()=>ve.complete()))}}))})),ye})}(ce,Ae);if((0,H.t)(ce))return function(ce,Ae){return new p.y(ve=>{const ye=new A.w;return ye.add(Ae.schedule(()=>ce.then(Te=>{ye.add(Ae.schedule(()=>{ve.next(Te),ye.add(Ae.schedule(()=>ve.complete()))}))},Te=>{ye.add(Ae.schedule(()=>ve.error(Te)))}))),ye})}(ce,Ae);if((0,O.z)(ce))return(0,de.r)(ce,Ae);if(function(ce){return ce&&"function"==typeof ce[Q.hZ]}(ce)||"string"==typeof ce)return function(ce,Ae){if(!ce)throw new Error("Iterable cannot be null");return new p.y(ve=>{const ye=new A.w;let Te;return ye.add(()=>{Te&&"function"==typeof Te.return&&Te.return()}),ye.add(Ae.schedule(()=>{Te=ce[Q.hZ](),ye.add(Ae.schedule(function(){if(ve.closed)return;let Ye,we;try{const Ct=Te.next();Ye=Ct.value,we=Ct.done}catch(Ct){return void ve.error(Ct)}we?ve.complete():(ve.next(Ye),this.schedule())}))})),ye})}(ce,Ae)}throw new TypeError((null!==ce&&typeof ce||ce)+" is not observable")}(ce,Ae):ce instanceof p.y?ce:new p.y((0,ie.s)(ce))}},6693:(Pe,me,F)=>{"use strict";F.d(me,{n:()=>W});var p=F(7574),ie=F(5015),A=F(4087);function W(ue,Y){return Y?(0,A.r)(ue,Y):new p.y((0,ie.V)(ue))}},6682:(Pe,me,F)=>{"use strict";F.d(me,{T:()=>ue});var p=F(7574),ie=F(4869),A=F(3282),W=F(6693);function ue(...Y){let de=Number.POSITIVE_INFINITY,Q=null,z=Y[Y.length-1];return(0,ie.K)(z)?(Q=Y.pop(),Y.length>1&&"number"==typeof Y[Y.length-1]&&(de=Y.pop())):"number"==typeof z&&(de=Y.pop()),null===Q&&1===Y.length&&Y[0]instanceof p.y?Y[0]:(0,A.J)(de)((0,W.n)(Y,Q))}},5917:(Pe,me,F)=>{"use strict";F.d(me,{of:()=>W});var p=F(4869),ie=F(6693),A=F(4087);function W(...ue){let Y=ue[ue.length-1];return(0,p.K)(Y)?(ue.pop(),(0,A.r)(ue,Y)):(0,ie.n)(ue)}},8002:(Pe,me,F)=>{"use strict";F.d(me,{U:()=>ie});var p=F(7393);function ie(ue,Y){return function(Q){if("function"!=typeof ue)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Q.lift(new A(ue,Y))}}class A{constructor(Y,de){this.project=Y,this.thisArg=de}call(Y,de){return de.subscribe(new W(Y,this.project,this.thisArg))}}class W extends p.L{constructor(Y,de,Q){super(Y),this.project=de,this.count=0,this.thisArg=Q||this}_next(Y){let de;try{de=this.project.call(this.thisArg,Y,this.count++)}catch(Q){return void this.destination.error(Q)}this.destination.next(de)}}},3282:(Pe,me,F)=>{"use strict";F.d(me,{J:()=>A});var p=F(9773),ie=F(4487);function A(W=Number.POSITIVE_INFINITY){return(0,p.zg)(ie.y,W)}},9773:(Pe,me,F)=>{"use strict";F.d(me,{zg:()=>W});var p=F(8002),ie=F(4402),A=F(5345);function W(Q,z,P=Number.POSITIVE_INFINITY){return"function"==typeof z?H=>H.pipe(W((O,B)=>(0,ie.D)(Q(O,B)).pipe((0,p.U)((q,se)=>z(O,q,B,se))),P)):("number"==typeof z&&(P=z),H=>H.lift(new ue(Q,P)))}class ue{constructor(z,P=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=P}call(z,P){return P.subscribe(new Y(z,this.project,this.concurrent))}}class Y extends A.Ds{constructor(z,P,H=Number.POSITIVE_INFINITY){super(z),this.project=P,this.concurrent=H,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let P;const H=this.index++;try{P=this.project(z,H)}catch(O){return void this.destination.error(O)}this.active++,this._innerSub(P)}_innerSub(z){const P=new A.IY(this),H=this.destination;H.add(P);const O=(0,A.ft)(z,P);O!==P&&H.add(O)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Pe,me,F)=>{"use strict";F.d(me,{ht:()=>H,QV:()=>z});var p=F(7393),ie=F(9193),A=F(5917),W=F(7574);class Q{constructor(q,se,ce){this.kind=q,this.value=se,this.error=ce,this.hasValue="N"===q}observe(q){switch(this.kind){case"N":return q.next&&q.next(this.value);case"E":return q.error&&q.error(this.error);case"C":return q.complete&&q.complete()}}do(q,se,ce){switch(this.kind){case"N":return q&&q(this.value);case"E":return se&&se(this.error);case"C":return ce&&ce()}}accept(q,se,ce){return q&&"function"==typeof q.next?this.observe(q):this.do(q,se,ce)}toObservable(){switch(this.kind){case"N":return(0,A.of)(this.value);case"E":return B=this.error,new W.y(se=>se.error(B));case"C":return(0,ie.c)()}var B;throw new Error("unexpected notification kind value")}static createNext(q){return void 0!==q?new Q("N",q):Q.undefinedValueNotification}static createError(q){return new Q("E",void 0,q)}static createComplete(){return Q.completeNotification}}function z(B,q=0){return function(ce){return ce.lift(new P(B,q))}}Q.completeNotification=new Q("C"),Q.undefinedValueNotification=new Q("N",void 0);class P{constructor(q,se=0){this.scheduler=q,this.delay=se}call(q,se){return se.subscribe(new H(q,this.scheduler,this.delay))}}class H extends p.L{constructor(q,se,ce=0){super(q),this.scheduler=se,this.delay=ce}static dispatch(q){const{notification:se,destination:ce}=q;se.observe(ce),this.unsubscribe()}scheduleMessage(q){this.destination.add(this.scheduler.schedule(H.dispatch,this.delay,new O(q,this.destination)))}_next(q){this.scheduleMessage(Q.createNext(q))}_error(q){this.scheduleMessage(Q.createError(q)),this.unsubscribe()}_complete(){this.scheduleMessage(Q.createComplete()),this.unsubscribe()}}class O{constructor(q,se){this.notification=q,this.destination=se}}},1307:(Pe,me,F)=>{"use strict";F.d(me,{x:()=>ie});var p=F(7393);function ie(){return function(Y){return Y.lift(new A(Y))}}class A{constructor(Y){this.connectable=Y}call(Y,de){const{connectable:Q}=this;Q._refCount++;const z=new W(Y,Q),P=de.subscribe(z);return z.closed||(z.connection=Q.connect()),P}}class W extends p.L{constructor(Y,de){super(Y),this.connectable=de}_unsubscribe(){const{connectable:Y}=this;if(!Y)return void(this.connection=null);this.connectable=null;const de=Y._refCount;if(de<=0)return void(this.connection=null);if(Y._refCount=de-1,de>1)return void(this.connection=null);const{connection:Q}=this,z=Y._connection;this.connection=null,z&&(!Q||z===Q)&&z.unsubscribe()}}},8819:(Pe,me,F)=>{"use strict";F.d(me,{B:()=>de});var p=F(2441);var W=F(1307),ue=F(9765);function Y(){return new ue.xQ}function de(){return Q=>(0,W.x)()(function(Q,z){return function(H){let O;O="function"==typeof Q?Q:function(){return Q};const B=Object.create(H,p.N);return B.source=H,B.subjectFactory=O,B}}(Y)(Q))}},3101:(Pe,me,F)=>{"use strict";F.d(me,{R:()=>Ae});var p=F(7574);let ie=1;const A=Promise.resolve(),W={};function ue(ye){return ye in W&&(delete W[ye],!0)}const Y={setImmediate(ye){const Te=ie++;return W[Te]=!0,A.then(()=>ue(Te)&&ye()),Te},clearImmediate(ye){ue(ye)}};var Q=F(6465),P=F(6102);const B=new class extends P.v{flush(Te){this.active=!0,this.scheduled=void 0;const{actions:Ye}=this;let we,Ct=-1,Nt=Ye.length;Te=Te||Ye.shift();do{if(we=Te.execute(Te.state,Te.delay))break}while(++Ct<Nt&&(Te=Ye.shift()));if(this.active=!1,we){for(;++Ct<Nt&&(Te=Ye.shift());)Te.unsubscribe();throw we}}}(class extends Q.o{constructor(Te,Ye){super(Te,Ye),this.scheduler=Te,this.work=Ye}requestAsyncId(Te,Ye,we=0){return null!==we&&we>0?super.requestAsyncId(Te,Ye,we):(Te.actions.push(this),Te.scheduled||(Te.scheduled=Y.setImmediate(Te.flush.bind(Te,null))))}recycleAsyncId(Te,Ye,we=0){if(null!==we&&we>0||null===we&&this.delay>0)return super.recycleAsyncId(Te,Ye,we);0===Te.actions.length&&(Y.clearImmediate(Ye),Te.scheduled=void 0)}});var q=F(9796);class ce extends p.y{constructor(Te,Ye=0,we=B){var ye;super(),this.source=Te,this.delayTime=Ye,this.scheduler=we,(!(!(0,q.k)(ye=Ye)&&ye-parseFloat(ye)+1>=0)||Ye<0)&&(this.delayTime=0),(!we||"function"!=typeof we.schedule)&&(this.scheduler=B)}static create(Te,Ye=0,we=B){return new ce(Te,Ye,we)}static dispatch(Te){const{source:Ye,subscriber:we}=Te;return this.add(Ye.subscribe(we))}_subscribe(Te){return this.scheduler.schedule(ce.dispatch,this.delayTime,{source:this.source,subscriber:Te})}}function Ae(ye,Te=0){return function(we){return we.lift(new ve(ye,Te))}}class ve{constructor(Te,Ye){this.scheduler=Te,this.delay=Ye}call(Te,Ye){return new ce(Ye,this.delay,this.scheduler).subscribe(Te)}}},3342:(Pe,me,F)=>{"use strict";F.d(me,{b:()=>W});var p=F(7393);function ie(){}var A=F(9105);function W(de,Q,z){return function(H){return H.lift(new ue(de,Q,z))}}class ue{constructor(Q,z,P){this.nextOrObserver=Q,this.error=z,this.complete=P}call(Q,z){return z.subscribe(new Y(Q,this.nextOrObserver,this.error,this.complete))}}class Y extends p.L{constructor(Q,z,P,H){super(Q),this._tapNext=ie,this._tapError=ie,this._tapComplete=ie,this._tapError=P||ie,this._tapComplete=H||ie,(0,A.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||ie,this._tapError=z.error||ie,this._tapComplete=z.complete||ie)}_next(Q){try{this._tapNext.call(this._context,Q)}catch(z){return void this.destination.error(z)}this.destination.next(Q)}_error(Q){try{this._tapError.call(this._context,Q)}catch(z){return void this.destination.error(z)}this.destination.error(Q)}_complete(){try{this._tapComplete.call(this._context)}catch(Q){return void this.destination.error(Q)}return this.destination.complete()}}},4087:(Pe,me,F)=>{"use strict";F.d(me,{r:()=>A});var p=F(7574),ie=F(5319);function A(W,ue){return new p.y(Y=>{const de=new ie.w;let Q=0;return de.add(ue.schedule(function(){Q!==W.length?(Y.next(W[Q++]),Y.closed||de.add(this.schedule())):Y.complete()})),de})}},6465:(Pe,me,F)=>{"use strict";F.d(me,{o:()=>A});var p=F(5319);class ie extends p.w{constructor(ue,Y){super()}schedule(ue,Y=0){return this}}class A extends ie{constructor(ue,Y){super(ue,Y),this.scheduler=ue,this.work=Y,this.pending=!1}schedule(ue,Y=0){if(this.closed)return this;this.state=ue;const de=this.id,Q=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(Q,de,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(Q,this.id,Y),this}requestAsyncId(ue,Y,de=0){return setInterval(ue.flush.bind(ue,this),de)}recycleAsyncId(ue,Y,de=0){if(null!==de&&this.delay===de&&!1===this.pending)return Y;clearInterval(Y)}execute(ue,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ue,Y);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,Y){let Q,de=!1;try{this.work(ue)}catch(z){de=!0,Q=!!z&&z||new Error(z)}if(de)return this.unsubscribe(),Q}_unsubscribe(){const ue=this.id,Y=this.scheduler,de=Y.actions,Q=de.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Q&&de.splice(Q,1),null!=ue&&(this.id=this.recycleAsyncId(Y,ue,null)),this.delay=null}}},6102:(Pe,me,F)=>{"use strict";F.d(me,{v:()=>ie});let p=(()=>{class A{constructor(ue,Y=A.now){this.SchedulerAction=ue,this.now=Y}schedule(ue,Y=0,de){return new this.SchedulerAction(this,ue).schedule(de,Y)}}return A.now=()=>Date.now(),A})();class ie extends p{constructor(W,ue=p.now){super(W,()=>ie.delegate&&ie.delegate!==this?ie.delegate.now():ue()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(W,ue=0,Y){return ie.delegate&&ie.delegate!==this?ie.delegate.schedule(W,ue,Y):super.schedule(W,ue,Y)}flush(W){const{actions:ue}=this;if(this.active)return void ue.push(W);let Y;this.active=!0;do{if(Y=W.execute(W.state,W.delay))break}while(W=ue.shift());if(this.active=!1,Y){for(;W=ue.shift();)W.unsubscribe();throw Y}}}},3637:(Pe,me,F)=>{"use strict";F.d(me,{z:()=>A});var p=F(6465);const A=new(F(6102).v)(p.o)},7771:(Pe,me,F)=>{"use strict";F.d(me,{c:()=>Y,N:()=>ue});var p=F(6465),A=F(6102);const ue=new class extends A.v{}(class extends p.o{constructor(Q,z){super(Q,z),this.scheduler=Q,this.work=z}schedule(Q,z=0){return z>0?super.schedule(Q,z):(this.delay=z,this.state=Q,this.scheduler.flush(this),this)}execute(Q,z){return z>0||this.closed?super.execute(Q,z):this._execute(Q,z)}requestAsyncId(Q,z,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(Q,z,P):Q.flush(this)}}),Y=ue},377:(Pe,me,F)=>{"use strict";F.d(me,{hZ:()=>ie});const ie="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Pe,me,F)=>{"use strict";F.d(me,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Pe,me,F)=>{"use strict";F.d(me,{b:()=>p});const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Pe,me,F)=>{"use strict";F.d(me,{N:()=>ie});const ie=(()=>{function A(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return A.prototype=Object.create(Error.prototype),A})()},4449:(Pe,me,F)=>{"use strict";function p(ie){setTimeout(()=>{throw ie},0)}F.d(me,{z:()=>p})},4487:(Pe,me,F)=>{"use strict";function p(ie){return ie}F.d(me,{y:()=>p})},9796:(Pe,me,F)=>{"use strict";F.d(me,{k:()=>p});const p=Array.isArray||(ie=>ie&&"number"==typeof ie.length)},9489:(Pe,me,F)=>{"use strict";F.d(me,{z:()=>p});const p=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},9105:(Pe,me,F)=>{"use strict";function p(ie){return"function"==typeof ie}F.d(me,{m:()=>p})},1555:(Pe,me,F)=>{"use strict";function p(ie){return null!==ie&&"object"==typeof ie}F.d(me,{K:()=>p})},4072:(Pe,me,F)=>{"use strict";function p(ie){return!!ie&&"function"!=typeof ie.subscribe&&"function"==typeof ie.then}F.d(me,{t:()=>p})},4869:(Pe,me,F)=>{"use strict";function p(ie){return ie&&"function"==typeof ie.schedule}F.d(me,{K:()=>p})},7444:(Pe,me,F)=>{"use strict";F.d(me,{s:()=>H});var p=F(5015),ie=F(4449),W=F(377),Y=F(6554),Q=F(9489),z=F(4072),P=F(1555);const H=O=>{if(O&&"function"==typeof O[Y.L])return(O=>B=>{const q=O[Y.L]();if("function"!=typeof q.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return q.subscribe(B)})(O);if((0,Q.z)(O))return(0,p.V)(O);if((0,z.t)(O))return(O=>B=>(O.then(q=>{B.closed||(B.next(q),B.complete())},q=>B.error(q)).then(null,ie.z),B))(O);if(O&&"function"==typeof O[W.hZ])return(O=>B=>{const q=O[W.hZ]();for(;;){let se;try{se=q.next()}catch(ce){return B.error(ce),B}if(se.done){B.complete();break}if(B.next(se.value),B.closed)break}return"function"==typeof q.return&&B.add(()=>{q.return&&q.return()}),B})(O);{const q=`You provided ${(0,P.K)(O)?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(q)}}},5015:(Pe,me,F)=>{"use strict";F.d(me,{V:()=>p});const p=ie=>A=>{for(let W=0,ue=ie.length;W<ue&&!A.closed;W++)A.next(ie[W]);A.complete()}},1503:(Pe,me,F)=>{"use strict";var p=F(7716);let ie=null;function A(){return ie}const de=new p.OlP("DocumentToken");let Q=(()=>{class s{historyGo(r){throw new Error("Not implemented")}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=(0,p.Yz7)({factory:z,token:s,providedIn:"platform"}),s})();function z(){return(0,p.LFG)(H)}const P=new p.OlP("Location Initialized");let H=(()=>{class s extends Q{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return A().getBaseHref(this._doc)}onPopState(r){const d=A().getGlobalEventTarget(this._doc,"window");return d.addEventListener("popstate",r,!1),()=>d.removeEventListener("popstate",r)}onHashChange(r){const d=A().getGlobalEventTarget(this._doc,"window");return d.addEventListener("hashchange",r,!1),()=>d.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,d,m){O()?this._history.pushState(r,d,m):this.location.hash=m}replaceState(r,d,m){O()?this._history.replaceState(r,d,m):this.location.hash=m}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(de))},s.\u0275prov=(0,p.Yz7)({factory:B,token:s,providedIn:"platform"}),s})();function O(){return!!window.history.pushState}function B(){return new H((0,p.LFG)(de))}function q(s,o){if(0==s.length)return o;if(0==o.length)return s;let r=0;return s.endsWith("/")&&r++,o.startsWith("/")&&r++,2==r?s+o.substring(1):1==r?s+o:s+"/"+o}function se(s){const o=s.match(/#|\?|$/),r=o&&o.index||s.length;return s.slice(0,r-("/"===s[r-1]?1:0))+s.slice(r)}function ce(s){return s&&"?"!==s[0]?"?"+s:s}let Ae=(()=>{class s{historyGo(r){throw new Error("Not implemented")}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=(0,p.Yz7)({factory:ve,token:s,providedIn:"root"}),s})();function ve(s){const o=(0,p.LFG)(de).location;return new Te((0,p.LFG)(Q),o&&o.origin||"")}const ye=new p.OlP("appBaseHref");let Te=(()=>{class s extends Ae{constructor(r,d){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==d&&(d=this._platformLocation.getBaseHrefFromDOM()),null==d)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=d}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return q(this._baseHref,r)}path(r=!1){const d=this._platformLocation.pathname+ce(this._platformLocation.search),m=this._platformLocation.hash;return m&&r?`${d}${m}`:d}pushState(r,d,m,C){const I=this.prepareExternalUrl(m+ce(C));this._platformLocation.pushState(r,d,I)}replaceState(r,d,m,C){const I=this.prepareExternalUrl(m+ce(C));this._platformLocation.replaceState(r,d,I)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var d,m;null===(m=(d=this._platformLocation).historyGo)||void 0===m||m.call(d,r)}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(Q),p.LFG(ye,8))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})(),Ye=(()=>{class s extends Ae{constructor(r,d){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=d&&(this._baseHref=d)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let d=this._platformLocation.hash;return null==d&&(d="#"),d.length>0?d.substring(1):d}prepareExternalUrl(r){const d=q(this._baseHref,r);return d.length>0?"#"+d:d}pushState(r,d,m,C){let I=this.prepareExternalUrl(m+ce(C));0==I.length&&(I=this._platformLocation.pathname),this._platformLocation.pushState(r,d,I)}replaceState(r,d,m,C){let I=this.prepareExternalUrl(m+ce(C));0==I.length&&(I=this._platformLocation.pathname),this._platformLocation.replaceState(r,d,I)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var d,m;null===(m=(d=this._platformLocation).historyGo)||void 0===m||m.call(d,r)}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(Q),p.LFG(ye,8))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})(),we=(()=>{class s{constructor(r,d){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const m=this._platformStrategy.getBaseHref();this._platformLocation=d,this._baseHref=se(vt(m)),this._platformStrategy.onPopState(C=>{this._subject.emit({url:this.path(!0),pop:!0,state:C.state,type:C.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,d=""){return this.path()==this.normalize(r+ce(d))}normalize(r){return s.stripTrailingSlash(function(s,o){return s&&o.startsWith(s)?o.substring(s.length):o}(this._baseHref,vt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,d="",m=null){this._platformStrategy.pushState(m,"",r,d),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ce(d)),m)}replaceState(r,d="",m=null){this._platformStrategy.replaceState(m,"",r,d),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ce(d)),m)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var d,m;null===(m=(d=this._platformStrategy).historyGo)||void 0===m||m.call(d,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(d=>{this._notifyUrlChangeListeners(d.url,d.state)}))}_notifyUrlChangeListeners(r="",d){this._urlChangeListeners.forEach(m=>m(r,d))}subscribe(r,d,m){return this._subject.subscribe({next:r,error:d,complete:m})}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(Ae),p.LFG(Q))},s.normalizeQueryParams=ce,s.joinWithSlash=q,s.stripTrailingSlash=se,s.\u0275prov=(0,p.Yz7)({factory:Ct,token:s,providedIn:"root"}),s})();function Ct(){return new we((0,p.LFG)(Ae),(0,p.LFG)(Q))}function vt(s){return s.replace(/\/index.html$/,"")}var ne=(()=>((ne=ne||{})[ne.Zero=0]="Zero",ne[ne.One=1]="One",ne[ne.Two=2]="Two",ne[ne.Few=3]="Few",ne[ne.Many=4]="Many",ne[ne.Other=5]="Other",ne))();const pt=p.kL8;class so{}let ya=(()=>{class s extends so{constructor(r){super(),this.locale=r}getPluralCategory(r,d){switch(pt(d||this.locale)(r)){case ne.Zero:return"zero";case ne.One:return"one";case ne.Two:return"two";case ne.Few:return"few";case ne.Many:return"many";default:return"other"}}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(p.soG))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();class st{constructor(o,r,d,m){this.$implicit=o,this.ngForOf=r,this.index=d,this.count=m}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oe=(()=>{class s{constructor(r,d,m){this._viewContainer=r,this._template=d,this._differs=m,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(d){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(s){return s.name||typeof s}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const d=[];r.forEachOperation((m,C,I)=>{if(null==m.previousIndex){const M=this._viewContainer.createEmbeddedView(this._template,new st(null,this._ngForOf,-1,-1),null===I?void 0:I),G=new at(m,M);d.push(G)}else if(null==I)this._viewContainer.remove(null===C?void 0:C);else if(null!==C){const M=this._viewContainer.get(C);this._viewContainer.move(M,I);const G=new at(m,M);d.push(G)}});for(let m=0;m<d.length;m++)this._perViewChange(d[m].view,d[m].record);for(let m=0,C=this._viewContainer.length;m<C;m++){const I=this._viewContainer.get(m);I.context.index=m,I.context.count=C,I.context.ngForOf=this._ngForOf}r.forEachIdentityChange(m=>{this._viewContainer.get(m.currentIndex).context.$implicit=m.item})}_perViewChange(r,d){r.context.$implicit=d.item}static ngTemplateContextGuard(r,d){return!0}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},s.\u0275dir=p.lG2({type:s,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),s})();class at{constructor(o,r){this.record=o,this.view=r}}let bt=(()=>{class s{constructor(r,d){this._viewContainer=r,this._context=new Ms,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=d}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){qo("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){qo("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,d){return!0}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(p.s_b),p.Y36(p.Rgc))},s.\u0275dir=p.lG2({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),s})();class Ms{constructor(){this.$implicit=null,this.ngIf=null}}function qo(s,o){if(o&&!o.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,p.AaK)(o)}'.`)}let Lu=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({providers:[{provide:so,useClass:ya}]}),s})(),Mt=(()=>{class s{}return s.\u0275prov=(0,p.Yz7)({token:s,providedIn:"root",factory:()=>new uc((0,p.LFG)(de),window)}),s})();class uc{constructor(o,r){this.document=o,this.window=r,this.offset=()=>[0,0]}setOffset(o){this.offset=Array.isArray(o)?()=>o:o}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(o){this.supportsScrolling()&&this.window.scrollTo(o[0],o[1])}scrollToAnchor(o){if(!this.supportsScrolling())return;const r=function(s,o){const r=s.getElementById(o)||s.getElementsByName(o)[0];if(r)return r;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const d=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let m=d.currentNode;for(;m;){const C=m.shadowRoot;if(C){const I=C.getElementById(o)||C.querySelector(`[name="${o}"]`);if(I)return I}m=d.nextNode()}}return null}(this.document,o);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(o){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=o)}}scrollToElement(o){const r=o.getBoundingClientRect(),d=r.left+this.window.pageXOffset,m=r.top+this.window.pageYOffset,C=this.offset();this.window.scrollTo(d-C[0],m-C[1])}attemptFocus(o){return o.focus(),this.document.activeElement===o}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const o=Da(this.window.history)||Da(Object.getPrototypeOf(this.window.history));return!(!o||!o.writable&&!o.set)}catch(o){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(o){return!1}}}function Da(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class Qo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new Qo,ie||(ie=s)}onAndCancel(o,r,d){return o.addEventListener(r,d,!1),()=>{o.removeEventListener(r,d,!1)}}dispatchEvent(o,r){o.dispatchEvent(r)}remove(o){o.parentNode&&o.parentNode.removeChild(o)}createElement(o,r){return(r=r||this.getDefaultDocument()).createElement(o)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(o){return o.nodeType===Node.ELEMENT_NODE}isShadowRoot(o){return o instanceof DocumentFragment}getGlobalEventTarget(o,r){return"window"===r?window:"document"===r?o:"body"===r?o.body:null}getBaseHref(o){const r=(qe=qe||document.querySelector("base"),qe?qe.getAttribute("href"):null);return null==r?null:function(s){Ft=Ft||document.createElement("a"),Ft.setAttribute("href",s);const o=Ft.pathname;return"/"===o.charAt(0)?o:`/${o}`}(r)}resetBaseElement(){qe=null}getUserAgent(){return window.navigator.userAgent}getCookie(o){return function(s,o){o=encodeURIComponent(o);for(const r of s.split(";")){const d=r.indexOf("="),[m,C]=-1==d?[r,""]:[r.slice(0,d),r.slice(d+1)];if(m.trim()===o)return decodeURIComponent(C)}return null}(document.cookie,o)}}let Ft,qe=null;const Yt=new p.OlP("TRANSITION_ID"),lr=[{provide:p.ip1,useFactory:function(s,o,r){return()=>{r.get(p.CZH).donePromise.then(()=>{const d=A(),m=o.querySelectorAll(`style[ng-transition="${s}"]`);for(let C=0;C<m.length;C++)d.remove(m[C])})}},deps:[Yt,de,p.zs3],multi:!0}];class Os{static init(){(0,p.VLi)(new Os)}addToWindow(o){p.dqk.getAngularTestability=(d,m=!0)=>{const C=o.findTestabilityInTree(d,m);if(null==C)throw new Error("Could not find testability for element.");return C},p.dqk.getAllAngularTestabilities=()=>o.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>o.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(d=>{const m=p.dqk.getAllAngularTestabilities();let C=m.length,I=!1;const M=function(G){I=I||G,C--,0==C&&d(I)};m.forEach(function(G){G.whenStable(M)})})}findTestabilityInTree(o,r,d){if(null==r)return null;const m=o.getTestability(r);return null!=m?m:d?A().isShadowRoot(r)?this.findTestabilityInTree(o,r.host,!0):this.findTestabilityInTree(o,r.parentElement,!0):null}}let Si=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();const ks=new p.OlP("EventManagerPlugins");let pe=(()=>{class s{constructor(r,d){this._zone=d,this._eventNameToPlugin=new Map,r.forEach(m=>m.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,d,m){return this._findPluginFor(d).addEventListener(r,d,m)}addGlobalEventListener(r,d,m){return this._findPluginFor(d).addGlobalEventListener(r,d,m)}getZone(){return this._zone}_findPluginFor(r){const d=this._eventNameToPlugin.get(r);if(d)return d;const m=this._plugins;for(let C=0;C<m.length;C++){const I=m[C];if(I.supports(r))return this._eventNameToPlugin.set(r,I),I}throw new Error(`No event manager plugin found for event ${r}`)}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(ks),p.LFG(p.R0b))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();class ft{constructor(o){this._doc=o}addGlobalEventListener(o,r,d){const m=A().getGlobalEventTarget(this._doc,o);if(!m)throw new Error(`Unsupported event target ${m} for event ${r}`);return this.addEventListener(m,r,d)}}let Ls=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(r){const d=new Set;r.forEach(m=>{this._stylesSet.has(m)||(this._stylesSet.add(m),d.add(m))}),this.onStylesAdded(d)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})(),qt=(()=>{class s extends Ls{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,d,m){r.forEach(C=>{const I=this._doc.createElement("style");I.textContent=C,m.push(d.appendChild(I))})}addHost(r){const d=[];this._addStylesToHost(this._stylesSet,r,d),this._hostNodes.set(r,d)}removeHost(r){const d=this._hostNodes.get(r);d&&d.forEach(Vs),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((d,m)=>{this._addStylesToHost(r,m,d)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(Vs))}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(de))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();function Vs(s){A().remove(s)}const co={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},On=/%COMP%/g;function sn(s,o,r){for(let d=0;d<o.length;d++){let m=o[d];Array.isArray(m)?sn(s,m,r):(m=m.replace(On,s),r.push(m))}return r}function Kn(s){return o=>{if("__ngUnwrap__"===o)return s;!1===s(o)&&(o.preventDefault(),o.returnValue=!1)}}let ri=(()=>{class s{constructor(r,d,m){this.eventManager=r,this.sharedStylesHost=d,this.appId=m,this.rendererByCompId=new Map,this.defaultRenderer=new cr(r)}createRenderer(r,d){if(!r||!d)return this.defaultRenderer;switch(d.encapsulation){case p.ifc.Emulated:{let m=this.rendererByCompId.get(d.id);return m||(m=new Xd(this.eventManager,this.sharedStylesHost,d,this.appId),this.rendererByCompId.set(d.id,m)),m.applyToHost(r),m}case 1:case p.ifc.ShadowDom:return new Gn(this.eventManager,this.sharedStylesHost,r,d);default:if(!this.rendererByCompId.has(d.id)){const m=sn(d.id,d.styles,[]);this.sharedStylesHost.addStyles(m),this.rendererByCompId.set(d.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(pe),p.LFG(qt),p.LFG(p.AFp))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();class cr{constructor(o){this.eventManager=o,this.data=Object.create(null)}destroy(){}createElement(o,r){return r?document.createElementNS(co[r]||r,o):document.createElement(o)}createComment(o){return document.createComment(o)}createText(o){return document.createTextNode(o)}appendChild(o,r){o.appendChild(r)}insertBefore(o,r,d){o&&o.insertBefore(r,d)}removeChild(o,r){o&&o.removeChild(r)}selectRootElement(o,r){let d="string"==typeof o?document.querySelector(o):o;if(!d)throw new Error(`The selector "${o}" did not match any elements`);return r||(d.textContent=""),d}parentNode(o){return o.parentNode}nextSibling(o){return o.nextSibling}setAttribute(o,r,d,m){if(m){r=m+":"+r;const C=co[m];C?o.setAttributeNS(C,r,d):o.setAttribute(r,d)}else o.setAttribute(r,d)}removeAttribute(o,r,d){if(d){const m=co[d];m?o.removeAttributeNS(m,r):o.removeAttribute(`${d}:${r}`)}else o.removeAttribute(r)}addClass(o,r){o.classList.add(r)}removeClass(o,r){o.classList.remove(r)}setStyle(o,r,d,m){m&(p.JOm.DashCase|p.JOm.Important)?o.style.setProperty(r,d,m&p.JOm.Important?"important":""):o.style[r]=d}removeStyle(o,r,d){d&p.JOm.DashCase?o.style.removeProperty(r):o.style[r]=""}setProperty(o,r,d){o[r]=d}setValue(o,r){o.nodeValue=r}listen(o,r,d){return"string"==typeof o?this.eventManager.addGlobalEventListener(o,r,Kn(d)):this.eventManager.addEventListener(o,r,Kn(d))}}class Xd extends cr{constructor(o,r,d,m){super(o),this.component=d;const C=sn(m+"-"+d.id,d.styles,[]);r.addStyles(C),this.contentAttr="_ngcontent-%COMP%".replace(On,m+"-"+d.id),this.hostAttr="_nghost-%COMP%".replace(On,m+"-"+d.id)}applyToHost(o){super.setAttribute(o,this.hostAttr,"")}createElement(o,r){const d=super.createElement(o,r);return super.setAttribute(d,this.contentAttr,""),d}}class Gn extends cr{constructor(o,r,d,m){super(o),this.sharedStylesHost=r,this.hostEl=d,this.shadowRoot=d.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=sn(m.id,m.styles,[]);for(let I=0;I<C.length;I++){const M=document.createElement("style");M.textContent=C[I],this.shadowRoot.appendChild(M)}}nodeOrShadowRoot(o){return o===this.hostEl?this.shadowRoot:o}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(o,r){return super.appendChild(this.nodeOrShadowRoot(o),r)}insertBefore(o,r,d){return super.insertBefore(this.nodeOrShadowRoot(o),r,d)}removeChild(o,r){return super.removeChild(this.nodeOrShadowRoot(o),r)}parentNode(o){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(o)))}}let js=(()=>{class s extends ft{constructor(r){super(r)}supports(r){return!0}addEventListener(r,d,m){return r.addEventListener(d,m,!1),()=>this.removeEventListener(r,d,m)}removeEventListener(r,d,m){return r.removeEventListener(d,m)}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(de))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();const ii=["alt","control","meta","shift"],nf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Hu={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let rf=(()=>{class s extends ft{constructor(r){super(r)}supports(r){return null!=s.parseEventName(r)}addEventListener(r,d,m){const C=s.parseEventName(d),I=s.eventCallback(C.fullKey,m,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>A().onAndCancel(r,C.domEventName,I))}static parseEventName(r){const d=r.toLowerCase().split("."),m=d.shift();if(0===d.length||"keydown"!==m&&"keyup"!==m)return null;const C=s._normalizeKey(d.pop());let I="";if(ii.forEach(G=>{const ge=d.indexOf(G);ge>-1&&(d.splice(ge,1),I+=G+".")}),I+=C,0!=d.length||0===C.length)return null;const M={};return M.domEventName=m,M.fullKey=I,M}static getEventFullKey(r){let d="",m=function(s){let o=s.key;if(null==o){if(o=s.keyIdentifier,null==o)return"Unidentified";o.startsWith("U+")&&(o=String.fromCharCode(parseInt(o.substring(2),16)),3===s.location&&fn.hasOwnProperty(o)&&(o=fn[o]))}return nf[o]||o}(r);return m=m.toLowerCase()," "===m?m="space":"."===m&&(m="dot"),ii.forEach(C=>{C!=m&&Hu[C](r)&&(d+=C+".")}),d+=m,d}static eventCallback(r,d,m){return C=>{s.getEventFullKey(C)===r&&m.runGuarded(()=>d(C))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(de))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();const ki=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function(){Qo.makeCurrent(),Os.init()},multi:!0},{provide:de,useFactory:function(){return(0,p.RDi)(document),document},deps:[]}]),$u=[[],{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function(){return new p.qLn},deps:[]},{provide:ks,useClass:js,multi:!0,deps:[de,p.R0b,p.Lbi]},{provide:ks,useClass:rf,multi:!0,deps:[de]},[],{provide:ri,useClass:ri,deps:[pe,qt,p.AFp]},{provide:p.FYo,useExisting:ri},{provide:Ls,useExisting:qt},{provide:qt,useClass:qt,deps:[de]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:pe,useClass:pe,deps:[ks,p.R0b]},{provide:class{},useClass:Si,deps:[]},[]];let of=(()=>{class s{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:s,providers:[{provide:p.AFp,useValue:r.appId},{provide:Yt,useExisting:p.AFp},lr]}}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(s,12))},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({providers:$u,imports:[Lu,p.hGG]}),s})();"undefined"!=typeof window&&window;var an=F(4402),Xn=F(7574),_o=F(9796),tt=F(8002),Dc=F(1555);function Ys(s,o){return new Xn.y(r=>{const d=s.length;if(0===d)return void r.complete();const m=new Array(d);let C=0,I=0;for(let M=0;M<d;M++){const G=(0,an.D)(s[M]);let ge=!1;r.add(G.subscribe({next:Ee=>{ge||(ge=!0,I++),m[M]=Ee},error:Ee=>r.error(Ee),complete:()=>{C++,(C===d||!ge)&&(I===d&&r.next(o?o.reduce((Ee,De,je)=>(Ee[De]=m[je],Ee),{}):m),r.complete())}}))}})}let Yu=(()=>{class s{constructor(r,d){this._renderer=r,this._elementRef=d,this.onChange=m=>{},this.onTouched=()=>{}}setProperty(r,d){this._renderer.setProperty(this._elementRef.nativeElement,r,d)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(p.Qsj),p.Y36(p.SBq))},s.\u0275dir=p.lG2({type:s}),s})(),Li=(()=>{class s extends Yu{}return s.\u0275fac=function(){let o;return function(d){return(o||(o=p.n5z(s)))(d||s)}}(),s.\u0275dir=p.lG2({type:s,features:[p.qOj]}),s})();const er=new p.OlP("NgValueAccessor"),ts={provide:er,useExisting:(0,p.Gpc)(()=>Vi),multi:!0};let Vi=(()=>{class s extends Li{writeValue(r){this.setProperty("checked",r)}}return s.\u0275fac=function(){let o;return function(d){return(o||(o=p.n5z(s)))(d||s)}}(),s.\u0275dir=p.lG2({type:s,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,d){1&r&&p.NdJ("change",function(C){return d.onChange(C.target.checked)})("blur",function(){return d.onTouched()})},features:[p._Bn([ts]),p.qOj]}),s})();const af={provide:er,useExisting:(0,p.Gpc)(()=>dr),multi:!0},Ra=new p.OlP("CompositionEventMode");let dr=(()=>{class s extends Yu{constructor(r,d,m){super(r,d),this._compositionMode=m,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const s=A()?A().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Ra,8))},s.\u0275dir=p.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,d){1&r&&p.NdJ("input",function(C){return d._handleInput(C.target.value)})("blur",function(){return d.onTouched()})("compositionstart",function(){return d._compositionStart()})("compositionend",function(C){return d._compositionEnd(C.target.value)})},features:[p._Bn([af]),p.qOj]}),s})();function oi(s){return null==s||0===s.length}function xa(s){return null!=s&&"number"==typeof s.length}const mn=new p.OlP("NgValidators"),tr=new p.OlP("NgAsyncValidators"),ns=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ar{static min(o){return vo(o)}static max(o){return s=o,o=>{if(oi(o.value)||oi(s))return null;const r=parseFloat(o.value);return!isNaN(r)&&r>s?{max:{max:s,actual:o.value}}:null};var s}static required(o){return oi(o.value)?{required:!0}:null}static requiredTrue(o){return!0===o.value?null:{required:!0}}static email(o){return oi((s=o).value)||ns.test(s.value)?null:{email:!0};var s}static minLength(o){return s=o,o=>oi(o.value)||!xa(o.value)?null:o.value.length<s?{minlength:{requiredLength:s,actualLength:o.value.length}}:null;var s}static maxLength(o){return s=o,o=>xa(o.value)&&o.value.length>s?{maxlength:{requiredLength:s,actualLength:o.value.length}}:null;var s}static pattern(o){return function(s){if(!s)return It;let o,r;return"string"==typeof s?(r="","^"!==s.charAt(0)&&(r+="^"),r+=s,"$"!==s.charAt(s.length-1)&&(r+="$"),o=new RegExp(r)):(r=s.toString(),o=s),d=>{if(oi(d.value))return null;const m=d.value;return o.test(m)?null:{pattern:{requiredPattern:r,actualValue:m}}}}(o)}static nullValidator(o){return null}static compose(o){return Sc(o)}static composeAsync(o){return Mc(o)}}function vo(s){return o=>{if(oi(o.value)||oi(s))return null;const r=parseFloat(o.value);return!isNaN(r)&&r<s?{min:{min:s,actual:o.value}}:null}}function It(s){return null}function Ac(s){return null!=s}function Ku(s){const o=(0,p.QGY)(s)?(0,an.D)(s):s;return(0,p.CqO)(o),o}function Ju(s){let o={};return s.forEach(r=>{o=null!=r?Object.assign(Object.assign({},o),r):o}),0===Object.keys(o).length?null:o}function Tc(s,o){return o.map(r=>r(s))}function lf(s){return s.map(o=>function(s){return!s.validate}(o)?o:r=>o.validate(r))}function Sc(s){if(!s)return null;const o=s.filter(Ac);return 0==o.length?null:function(r){return Ju(Tc(r,o))}}function ai(s){return null!=s?Sc(lf(s)):null}function Mc(s){if(!s)return null;const o=s.filter(Ac);return 0==o.length?null:function(r){return function(...s){if(1===s.length){const o=s[0];if((0,_o.k)(o))return Ys(o,null);if((0,Dc.K)(o)&&Object.getPrototypeOf(o)===Object.prototype){const r=Object.keys(o);return Ys(r.map(d=>o[d]),r)}}if("function"==typeof s[s.length-1]){const o=s.pop();return Ys(s=1===s.length&&(0,_o.k)(s[0])?s[0]:s,null).pipe((0,tt.U)(r=>o(...r)))}return Ys(s,null)}(Tc(r,o).map(Ku)).pipe((0,tt.U)(Ju))}}function Xu(s){return null!=s?Mc(lf(s)):null}function Ui(s,o){return null===s?[o]:Array.isArray(s)?[...s,o]:[s,o]}function ui(s){return s._rawValidators}function Pa(s){return s._rawAsyncValidators}function tn(s){return s?Array.isArray(s)?s:[s]:[]}function yo(s,o){return Array.isArray(s)?s.includes(o):s===o}function qs(s,o){const r=tn(o);return tn(s).forEach(m=>{yo(r,m)||r.push(m)}),r}function Rc(s,o){return tn(o).filter(r=>!yo(s,r))}let Fa=(()=>{class s{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=ai(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=Xu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,d){return!!this.control&&this.control.hasError(r,d)}getError(r,d){return this.control?this.control.getError(r,d):null}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=p.lG2({type:s}),s})(),Lt=(()=>{class s extends Fa{get formDirective(){return null}get path(){return null}}return s.\u0275fac=function(){let o;return function(d){return(o||(o=p.n5z(s)))(d||s)}}(),s.\u0275dir=p.lG2({type:s,features:[p.qOj]}),s})();class $t extends Fa{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class li{constructor(o){this._cd=o}is(o){var r,d,m;return"submitted"===o?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(m=null===(d=this._cd)||void 0===d?void 0:d.control)||void 0===m?void 0:m[o])}}let is=(()=>{class s extends li{constructor(r){super(r)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36($t,2))},s.\u0275dir=p.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,d){2&r&&p.ekj("ng-untouched",d.is("untouched"))("ng-touched",d.is("touched"))("ng-pristine",d.is("pristine"))("ng-dirty",d.is("dirty"))("ng-valid",d.is("valid"))("ng-invalid",d.is("invalid"))("ng-pending",d.is("pending"))},features:[p.qOj]}),s})(),Eo=(()=>{class s extends li{constructor(r){super(r)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Lt,10))},s.\u0275dir=p.lG2({type:s,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,d){2&r&&p.ekj("ng-untouched",d.is("untouched"))("ng-touched",d.is("touched"))("ng-pristine",d.is("pristine"))("ng-dirty",d.is("dirty"))("ng-valid",d.is("valid"))("ng-invalid",d.is("invalid"))("ng-pending",d.is("pending"))("ng-submitted",d.is("submitted"))},features:[p.qOj]}),s})();function ci(s,o){el(s,o),o.valueAccessor.writeValue(s.value),function(s,o){o.valueAccessor.registerOnChange(r=>{s._pendingValue=r,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&Ua(s,o)})}(s,o),function(s,o){const r=(d,m)=>{o.valueAccessor.writeValue(d),m&&o.viewToModelUpdate(d)};s.registerOnChange(r),o._registerOnDestroy(()=>{s._unregisterOnChange(r)})}(s,o),function(s,o){o.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&Ua(s,o),"submit"!==s.updateOn&&s.markAsTouched()})}(s,o),function(s,o){if(o.valueAccessor.setDisabledState){const r=d=>{o.valueAccessor.setDisabledState(d)};s.registerOnDisabledChange(r),o._registerOnDestroy(()=>{s._unregisterOnDisabledChange(r)})}}(s,o)}function An(s,o,r=!0){const d=()=>{};o.valueAccessor&&(o.valueAccessor.registerOnChange(d),o.valueAccessor.registerOnTouched(d)),os(s,o),s&&(o._invokeOnDestroyCallbacks(),s._registerOnCollectionChange(()=>{}))}function Tr(s,o){s.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(o)})}function el(s,o){const r=ui(s);null!==o.validator?s.setValidators(Ui(r,o.validator)):"function"==typeof r&&s.setValidators([r]);const d=Pa(s);null!==o.asyncValidator?s.setAsyncValidators(Ui(d,o.asyncValidator)):"function"==typeof d&&s.setAsyncValidators([d]);const m=()=>s.updateValueAndValidity();Tr(o._rawValidators,m),Tr(o._rawAsyncValidators,m)}function os(s,o){let r=!1;if(null!==s){if(null!==o.validator){const m=ui(s);if(Array.isArray(m)&&m.length>0){const C=m.filter(I=>I!==o.validator);C.length!==m.length&&(r=!0,s.setValidators(C))}}if(null!==o.asyncValidator){const m=Pa(s);if(Array.isArray(m)&&m.length>0){const C=m.filter(I=>I!==o.asyncValidator);C.length!==m.length&&(r=!0,s.setAsyncValidators(C))}}}const d=()=>{};return Tr(o._rawValidators,d),Tr(o._rawAsyncValidators,d),r}function Ua(s,o){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),o.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function $a(s,o){const r=s.indexOf(o);r>-1&&s.splice(r,1)}const Ks="VALID",as="INVALID",us="PENDING",di="DISABLED";function Wr(s){return(nl(s)?s.validators:s)||null}function Js(s){return Array.isArray(s)?ai(s):s||null}function Rt(s,o){return(nl(o)?o.asyncValidators:s)||null}function Xs(s){return Array.isArray(s)?Xu(s):s||null}function nl(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class fi{constructor(o,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=o,this._rawAsyncValidators=r,this._composedValidatorFn=Js(this._rawValidators),this._composedAsyncValidatorFn=Xs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(o){this._rawValidators=this._composedValidatorFn=o}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(o){this._rawAsyncValidators=this._composedAsyncValidatorFn=o}get parent(){return this._parent}get valid(){return this.status===Ks}get invalid(){return this.status===as}get pending(){return this.status==us}get disabled(){return this.status===di}get enabled(){return this.status!==di}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(o){this._rawValidators=o,this._composedValidatorFn=Js(o)}setAsyncValidators(o){this._rawAsyncValidators=o,this._composedAsyncValidatorFn=Xs(o)}addValidators(o){this.setValidators(qs(o,this._rawValidators))}addAsyncValidators(o){this.setAsyncValidators(qs(o,this._rawAsyncValidators))}removeValidators(o){this.setValidators(Rc(o,this._rawValidators))}removeAsyncValidators(o){this.setAsyncValidators(Rc(o,this._rawAsyncValidators))}hasValidator(o){return yo(this._rawValidators,o)}hasAsyncValidator(o){return yo(this._rawAsyncValidators,o)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(o={}){this.touched=!0,this._parent&&!o.onlySelf&&this._parent.markAsTouched(o)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(o=>o.markAllAsTouched())}markAsUntouched(o={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!o.onlySelf&&this._parent._updateTouched(o)}markAsDirty(o={}){this.pristine=!1,this._parent&&!o.onlySelf&&this._parent.markAsDirty(o)}markAsPristine(o={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!o.onlySelf&&this._parent._updatePristine(o)}markAsPending(o={}){this.status=us,!1!==o.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!o.onlySelf&&this._parent.markAsPending(o)}disable(o={}){const r=this._parentMarkedDirty(o.onlySelf);this.status=di,this.errors=null,this._forEachChild(d=>{d.disable(Object.assign(Object.assign({},o),{onlySelf:!0}))}),this._updateValue(),!1!==o.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},o),{skipPristineCheck:r})),this._onDisabledChange.forEach(d=>d(!0))}enable(o={}){const r=this._parentMarkedDirty(o.onlySelf);this.status=Ks,this._forEachChild(d=>{d.enable(Object.assign(Object.assign({},o),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},o),{skipPristineCheck:r})),this._onDisabledChange.forEach(d=>d(!1))}_updateAncestors(o){this._parent&&!o.onlySelf&&(this._parent.updateValueAndValidity(o),o.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(o){this._parent=o}updateValueAndValidity(o={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ks||this.status===us)&&this._runAsyncValidator(o.emitEvent)),!1!==o.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!o.onlySelf&&this._parent.updateValueAndValidity(o)}_updateTreeValidity(o={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(o)),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?di:Ks}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(o){if(this.asyncValidator){this.status=us,this._hasOwnPendingAsyncValidator=!0;const r=Ku(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(d=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(d,{emitEvent:o})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(o,r={}){this.errors=o,this._updateControlsErrors(!1!==r.emitEvent)}get(o){return function(s,o,r){if(null==o||(Array.isArray(o)||(o=o.split(".")),Array.isArray(o)&&0===o.length))return null;let d=s;return o.forEach(m=>{d=d instanceof ls?d.controls.hasOwnProperty(m)?d.controls[m]:null:d instanceof Ga&&d.at(m)||null}),d}(this,o)}getError(o,r){const d=r?this.get(r):this;return d&&d.errors?d.errors[o]:null}hasError(o,r){return!!this.getError(o,r)}get root(){let o=this;for(;o._parent;)o=o._parent;return o}_updateControlsErrors(o){this.status=this._calculateStatus(),o&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(o)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?di:this.errors?as:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(us)?us:this._anyControlsHaveStatus(as)?as:Ks}_anyControlsHaveStatus(o){return this._anyControls(r=>r.status===o)}_anyControlsDirty(){return this._anyControls(o=>o.dirty)}_anyControlsTouched(){return this._anyControls(o=>o.touched)}_updatePristine(o={}){this.pristine=!this._anyControlsDirty(),this._parent&&!o.onlySelf&&this._parent._updatePristine(o)}_updateTouched(o={}){this.touched=this._anyControlsTouched(),this._parent&&!o.onlySelf&&this._parent._updateTouched(o)}_isBoxedValue(o){return"object"==typeof o&&null!==o&&2===Object.keys(o).length&&"value"in o&&"disabled"in o}_registerOnCollectionChange(o){this._onCollectionChange=o}_setUpdateStrategy(o){nl(o)&&null!=o.updateOn&&(this._updateOn=o.updateOn)}_parentMarkedDirty(o){return!o&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Gt extends fi{constructor(o=null,r,d){super(Wr(r),Rt(d,r)),this._onChange=[],this._applyFormState(o),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(o,r={}){this.value=this._pendingValue=o,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(d=>d(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(o,r={}){this.setValue(o,r)}reset(o=null,r={}){this._applyFormState(o),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(o){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(o){this._onChange.push(o)}_unregisterOnChange(o){$a(this._onChange,o)}registerOnDisabledChange(o){this._onDisabledChange.push(o)}_unregisterOnDisabledChange(o){$a(this._onDisabledChange,o)}_forEachChild(o){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(o){this._isBoxedValue(o)?(this.value=this._pendingValue=o.value,o.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=o}}class ls extends fi{constructor(o,r,d){super(Wr(r),Rt(d,r)),this.controls=o,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(o,r){return this.controls[o]?this.controls[o]:(this.controls[o]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(o,r,d={}){this.registerControl(o,r),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}removeControl(o,r={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(o,r,d={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],r&&this.registerControl(o,r),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}contains(o){return this.controls.hasOwnProperty(o)&&this.controls[o].enabled}setValue(o,r={}){this._checkAllValuesPresent(o),Object.keys(o).forEach(d=>{this._throwIfControlMissing(d),this.controls[d].setValue(o[d],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(o,r={}){null!=o&&(Object.keys(o).forEach(d=>{this.controls[d]&&this.controls[d].patchValue(o[d],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(o={},r={}){this._forEachChild((d,m)=>{d.reset(o[m],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(o,r,d)=>(o[d]=r instanceof Gt?r.value:r.getRawValue(),o))}_syncPendingControls(){let o=this._reduceChildren(!1,(r,d)=>!!d._syncPendingControls()||r);return o&&this.updateValueAndValidity({onlySelf:!0}),o}_throwIfControlMissing(o){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[o])throw new Error(`Cannot find form control with name: ${o}.`)}_forEachChild(o){Object.keys(this.controls).forEach(r=>{const d=this.controls[r];d&&o(d,r)})}_setUpControls(){this._forEachChild(o=>{o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(o){for(const r of Object.keys(this.controls)){const d=this.controls[r];if(this.contains(r)&&o(d))return!0}return!1}_reduceValue(){return this._reduceChildren({},(o,r,d)=>((r.enabled||this.disabled)&&(o[d]=r.value),o))}_reduceChildren(o,r){let d=o;return this._forEachChild((m,C)=>{d=r(d,m,C)}),d}_allControlsDisabled(){for(const o of Object.keys(this.controls))if(this.controls[o].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(o){this._forEachChild((r,d)=>{if(void 0===o[d])throw new Error(`Must supply a value for form control with name: '${d}'.`)})}}class Ga extends fi{constructor(o,r,d){super(Wr(r),Rt(d,r)),this.controls=o,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(o){return this.controls[o]}push(o,r={}){this.controls.push(o),this._registerControl(o),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(o,r,d={}){this.controls.splice(o,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:d.emitEvent})}removeAt(o,r={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(o,r,d={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),r&&(this.controls.splice(o,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(o,r={}){this._checkAllValuesPresent(o),o.forEach((d,m)=>{this._throwIfControlMissing(m),this.at(m).setValue(d,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(o,r={}){null!=o&&(o.forEach((d,m)=>{this.at(m)&&this.at(m).patchValue(d,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(o=[],r={}){this._forEachChild((d,m)=>{d.reset(o[m],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(o=>o instanceof Gt?o.value:o.getRawValue())}clear(o={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:o.emitEvent}))}_syncPendingControls(){let o=this.controls.reduce((r,d)=>!!d._syncPendingControls()||r,!1);return o&&this.updateValueAndValidity({onlySelf:!0}),o}_throwIfControlMissing(o){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(o))throw new Error(`Cannot find form control at index ${o}`)}_forEachChild(o){this.controls.forEach((r,d)=>{o(r,d)})}_updateValue(){this.value=this.controls.filter(o=>o.enabled||this.disabled).map(o=>o.value)}_anyControls(o){return this.controls.some(r=>r.enabled&&o(r))}_setUpControls(){this._forEachChild(o=>this._registerControl(o))}_checkAllValuesPresent(o){this._forEachChild((r,d)=>{if(void 0===o[d])throw new Error(`Must supply a value for form control at index: ${d}.`)})}_allControlsDisabled(){for(const o of this.controls)if(o.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(o){o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange)}}let ta=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=p.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),s})();const Io={provide:er,useExisting:(0,p.Gpc)(()=>pi),multi:!0};let pi=(()=>{class s extends Li{writeValue(r){this.setProperty("value",null==r?"":r)}registerOnChange(r){this.onChange=d=>{r(""==d?null:parseFloat(d))}}}return s.\u0275fac=function(){let o;return function(d){return(o||(o=p.n5z(s)))(d||s)}}(),s.\u0275dir=p.lG2({type:s,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,d){1&r&&p.NdJ("input",function(C){return d.onChange(C.target.value)})("blur",function(){return d.onTouched()})},features:[p._Bn([Io]),p.qOj]}),s})(),Ao=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({}),s})();const Nc={provide:er,useExisting:(0,p.Gpc)(()=>ol),multi:!0};let ol=(()=>{class s extends Li{writeValue(r){this.setProperty("value",parseFloat(r))}registerOnChange(r){this.onChange=d=>{r(""==d?null:parseFloat(d))}}}return s.\u0275fac=function(){let o;return function(d){return(o||(o=p.n5z(s)))(d||s)}}(),s.\u0275dir=p.lG2({type:s,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,d){1&r&&p.NdJ("change",function(C){return d.onChange(C.target.value)})("input",function(C){return d.onChange(C.target.value)})("blur",function(){return d.onTouched()})},features:[p._Bn([Nc]),p.qOj]}),s})();const sl=new p.OlP("NgModelWithFormControlWarning"),bn={provide:Lt,useExisting:(0,p.Gpc)(()=>ji)};let ji=(()=>{class s extends Lt{constructor(r,d){super(),this.validators=r,this.asyncValidators=d,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(r),this._setAsyncValidators(d)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(os(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const d=this.form.get(r.path);return ci(d,r),d.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),d}getControl(r){return this.form.get(r.path)}removeControl(r){An(r.control||null,r,!1),$a(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,d){this.form.get(r.path).setValue(d)}onSubmit(r){return this.submitted=!0,function(s,o){s._syncPendingControls(),o.forEach(r=>{const d=r.control;"submit"===d.updateOn&&d._pendingChange&&(r.viewToModelUpdate(d._pendingValue),d._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const d=r.control,m=this.form.get(r.path);d!==m&&(An(d||null,r),m instanceof Gt&&(ci(m,r),r.control=m))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const d=this.form.get(r.path);(function(s,o){el(s,o)})(d,r),d.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const d=this.form.get(r.path);d&&function(s,o){return os(s,o)}(d,r)&&d.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){el(this.form,this),this._oldForm&&os(this._oldForm,this)}_checkFormPresent(){}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(mn,10),p.Y36(tr,10))},s.\u0275dir=p.lG2({type:s,selectors:[["","formGroup",""]],hostBindings:function(r,d){1&r&&p.NdJ("submit",function(C){return d.onSubmit(C)})("reset",function(){return d.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([bn]),p.qOj,p.TTD]}),s})();const ll={provide:$t,useExisting:(0,p.Gpc)(()=>Mr)};let Mr=(()=>{class s extends $t{constructor(r,d,m,C,I){super(),this._ngModelWarningConfig=I,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(d),this._setAsyncValidators(m),this.valueAccessor=function(s,o){if(!o)return null;let r,d,m;return Array.isArray(o),o.forEach(C=>{C.constructor===dr?r=C:function(s){return Object.getPrototypeOf(s.constructor)===Li}(C)?d=C:m=C}),m||d||r||null}(0,C)}set isDisabled(r){}ngOnChanges(r){this._added||this._setUpControl(),function(s,o){if(!s.hasOwnProperty("model"))return!1;const r=s.model;return!!r.isFirstChange()||!Object.is(o,r.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function(s,o){return[...o.path,s]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Lt,13),p.Y36(mn,10),p.Y36(tr,10),p.Y36(er,10),p.Y36(sl,8))},s.\u0275dir=p.lG2({type:s,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([ll]),p.qOj,p.TTD]}),s._ngModelWarningSentOnce=!1,s})(),Fc=(()=>{class s{constructor(){this._validator=It}handleChanges(r){if(this.inputName in r){const d=this.normalizeInput(r[this.inputName].currentValue);this._validator=this.createValidator(d),this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275dir=p.lG2({type:s}),s})();const gl={provide:mn,useExisting:(0,p.Gpc)(()=>Za),multi:!0};let Za=(()=>{class s extends Fc{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>parseFloat(r),this.createValidator=r=>vo(r)}ngOnChanges(r){this.handleChanges(r)}}return s.\u0275fac=function(){let o;return function(d){return(o||(o=p.n5z(s)))(d||s)}}(),s.\u0275dir=p.lG2({type:s,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,d){if(2&r){let m;p.uIk("min",null!==(m=d.min)&&void 0!==m?m:null)}},inputs:{min:"min"},features:[p._Bn([gl]),p.qOj,p.TTD]}),s})(),hs=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[[Ao]]}),s})(),Cf=(()=>{class s{static withConfig(r){return{ngModule:s,providers:[{provide:sl,useValue:r.warnOnNgModelWithFormControl}]}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[hs]}),s})(),Mo=(()=>{class s{group(r,d=null){const m=this._reduceControls(r);let M,C=null,I=null;return null!=d&&(function(s){return void 0!==s.asyncValidators||void 0!==s.validators||void 0!==s.updateOn}(d)?(C=null!=d.validators?d.validators:null,I=null!=d.asyncValidators?d.asyncValidators:null,M=null!=d.updateOn?d.updateOn:void 0):(C=null!=d.validator?d.validator:null,I=null!=d.asyncValidator?d.asyncValidator:null)),new ls(m,{asyncValidators:I,updateOn:M,validators:C})}control(r,d,m){return new Gt(r,d,m)}array(r,d,m){const C=r.map(I=>this._createControl(I));return new Ga(C,d,m)}_reduceControls(r){const d={};return Object.keys(r).forEach(m=>{d[m]=this._createControl(r[m])}),d}_createControl(r){return r instanceof Gt||r instanceof ls||r instanceof Ga?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=(0,p.Yz7)({factory:function(){return new s},token:s,providedIn:Cf}),s})();var nn=F(57),Bc=F(3637),Ze=F(5917),Ka=F(6682),Fn=F(8819),qr=F(5345);function Vt(s,o){return"function"==typeof o?r=>r.pipe(Vt((d,m)=>(0,an.D)(s(d,m)).pipe((0,tt.U)((C,I)=>o(d,C,m,I))))):r=>r.lift(new Ja(s))}class Ja{constructor(o){this.project=o}call(o,r){return r.subscribe(new Dt(o,this.project))}}class Dt extends qr.Ds{constructor(o,r){super(o),this.project=r,this.index=0}_next(o){let r;const d=this.index++;try{r=this.project(o,d)}catch(m){return void this.destination.error(m)}this._innerSub(r)}_innerSub(o){const r=this.innerSubscription;r&&r.unsubscribe();const d=new qr.IY(this),m=this.destination;m.add(d),this.innerSubscription=(0,qr.ft)(o,d),this.innerSubscription!==d&&m.add(this.innerSubscription)}_complete(){const{innerSubscription:o}=this;(!o||o.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(o){this.destination.next(o)}}var Wn=F(7393);function ia(s,o){let r=!1;return arguments.length>=2&&(r=!0),function(m){return m.lift(new Xa(s,o,r))}}class Xa{constructor(o,r,d=!1){this.accumulator=o,this.seed=r,this.hasSeed=d}call(o,r){return r.subscribe(new Wi(o,this.accumulator,this.seed,this.hasSeed))}}class Wi extends Wn.L{constructor(o,r,d,m){super(o),this.accumulator=r,this._seed=d,this.hasSeed=m,this.index=0}get seed(){return this._seed}set seed(o){this.hasSeed=!0,this._seed=o}_next(o){if(this.hasSeed)return this._tryNext(o);this.seed=o,this.destination.next(o)}_tryNext(o){const r=this.index++;let d;try{d=this.accumulator(this.seed,o,r)}catch(m){this.destination.error(m)}this.seed=d,this.destination.next(d)}}class bf{constructor(o,r){this.compare=o,this.keySelector=r}call(o,r){return r.subscribe(new _l(o,this.compare,this.keySelector))}}class _l extends Wn.L{constructor(o,r,d){super(o),this.keySelector=d,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(o,r){return o===r}_next(o){let r;try{const{keySelector:m}=this;r=m?m(o):o}catch(m){return this.destination.error(m)}let d=!1;if(this.hasKey)try{const{compare:m}=this;d=m(this.key,r)}catch(m){return this.destination.error(m)}else this.hasKey=!0;d||(this.key=r,this.destination.next(o))}}class jc extends Wn.L{notifyNext(o,r,d,m,C){this.destination.next(r)}notifyError(o,r){this.destination.error(o)}notifyComplete(o){this.destination.complete()}}class Df extends Wn.L{constructor(o,r,d){super(),this.parent=o,this.outerValue=r,this.outerIndex=d,this.index=0}_next(o){this.parent.notifyNext(this.outerValue,o,this.outerIndex,this.index++,this)}_error(o){this.parent.notifyError(o,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var mp=F(7444);function wf(s,o,r,d,m=new Df(s,r,d)){if(!m.closed)return o instanceof Xn.y?o.subscribe(m):(0,mp.s)(o)(m)}class Tn{constructor(o,r){this.observables=o,this.project=r}call(o,r){return r.subscribe(new Ro(o,this.observables,this.project))}}class Ro extends jc{constructor(o,r,d){super(o),this.observables=r,this.project=d,this.toRespond=[];const m=r.length;this.values=new Array(m);for(let C=0;C<m;C++)this.toRespond.push(C);for(let C=0;C<m;C++)this.add(wf(this,r[C],void 0,C))}notifyNext(o,r,d){this.values[d]=r;const m=this.toRespond;if(m.length>0){const C=m.indexOf(d);-1!==C&&m.splice(C,1)}}notifyComplete(){}_next(o){if(0===this.toRespond.length){const r=[o,...this.values];this.project?this._tryProject(r):this.destination.next(r)}}_tryProject(o){let r;try{r=this.project.apply(this,o)}catch(d){return void this.destination.error(d)}this.destination.next(r)}}class vl{constructor(o){this.predicate=o}call(o,r){return r.subscribe(new Dn(o,this.predicate))}}class Dn extends Wn.L{constructor(o,r){super(o),this.predicate=r,this.skipping=!0,this.index=0}_next(o){const r=this.destination;this.skipping&&this.tryCallPredicate(o),this.skipping||r.next(o)}tryCallPredicate(o){try{const r=this.predicate(o,this.index++);this.skipping=Boolean(r)}catch(r){this.destination.error(r)}}}F(9192);var Rr=F(9765),gs=F(309),xr=F(7771),tu=F(5319),Hc=F(7971),$c=F(8858);class If extends Rr.xQ{constructor(o=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,d){super(),this.scheduler=d,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=o<1?1:o,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(o){if(!this.isStopped){const r=this._events;r.push(o),r.length>this._bufferSize&&r.shift()}super.next(o)}nextTimeWindow(o){this.isStopped||(this._events.push(new yl(this._getNow(),o)),this._trimBufferThenGetEvents()),super.next(o)}_subscribe(o){const r=this._infiniteTimeWindow,d=r?this._events:this._trimBufferThenGetEvents(),m=this.scheduler,C=d.length;let I;if(this.closed)throw new Hc.N;if(this.isStopped||this.hasError?I=tu.w.EMPTY:(this.observers.push(o),I=new $c.W(this,o)),m&&o.add(o=new gs.ht(o,m)),r)for(let M=0;M<C&&!o.closed;M++)o.next(d[M]);else for(let M=0;M<C&&!o.closed;M++)o.next(d[M].value);return this.hasError?o.error(this.thrownError):this.isStopped&&o.complete(),I}_getNow(){return(this.scheduler||xr.c).now()}_trimBufferThenGetEvents(){const o=this._getNow(),r=this._bufferSize,d=this._windowTime,m=this._events,C=m.length;let I=0;for(;I<C&&!(o-m[I].time<d);)I++;return C>r&&(I=Math.max(I,C-r)),I>0&&m.splice(0,I),m}}class yl{constructor(o,r){this.time=o,this.value=r}}function Gc(s,o,r){let d;return d=s&&"object"==typeof s?s:{bufferSize:s,windowTime:o,refCount:!1,scheduler:r},m=>m.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:o=Number.POSITIVE_INFINITY,refCount:r,scheduler:d}){let m,I,C=0,M=!1,G=!1;return function(Ee){let De;C++,!m||M?(M=!1,m=new If(s,o,d),De=m.subscribe(this),I=Ee.subscribe({next(je){m.next(je)},error(je){M=!0,m.error(je)},complete(){G=!0,I=void 0,m.complete()}}),G&&(I=void 0)):De=m.subscribe(this),this.add(()=>{C--,De.unsubscribe(),De=void 0,I&&!G&&r&&0===C&&(I.unsubscribe(),I=void 0,m=void 0)})}}(d))}const sa=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})();function mi(s,o){return function(d){return d.lift(new Wc(s,o))}}class Wc{constructor(o,r){this.predicate=o,this.thisArg=r}call(o,r){return r.subscribe(new Tf(o,this.predicate,this.thisArg))}}class Tf extends Wn.L{constructor(o,r,d){super(o),this.predicate=r,this.thisArg=d,this.count=0}_next(o){let r;try{r=this.predicate.call(this.thisArg,o,this.count++)}catch(d){return void this.destination.error(d)}r&&this.destination.next(o)}}const Cl=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();var Nr=F(9193);function El(s){return o=>0===s?(0,Nr.c)():o.lift(new Sf(s))}class Sf{constructor(o){if(this.total=o,this.total<0)throw new Cl}call(o,r){return r.subscribe(new ms(o,this.total))}}class ms extends Wn.L{constructor(o,r){super(o),this.total=r,this.count=0}_next(o){const r=this.total,d=++this.count;d<=r&&(this.destination.next(o),d===r&&(this.destination.complete(),this.unsubscribe()))}}function zc(s=null){return o=>o.lift(new Mf(s))}class Mf{constructor(o){this.defaultValue=o}call(o,r){return r.subscribe(new Rf(o,this.defaultValue))}}class Rf extends Wn.L{constructor(o,r){super(o),this.defaultValue=r,this.isEmpty=!0}_next(o){this.isEmpty=!1,this.destination.next(o)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Yc(s=zn){return o=>o.lift(new Or(s))}class Or{constructor(o){this.errorFactory=o}call(o,r){return r.subscribe(new nu(o,this.errorFactory))}}class nu extends Wn.L{constructor(o,r){super(o),this.errorFactory=r,this.hasValue=!1}_next(o){this.hasValue=!0,this.destination.next(o)}_complete(){if(this.hasValue)return this.destination.complete();{let o;try{o=this.errorFactory()}catch(r){o=r}this.destination.error(o)}}}function zn(){return new sa}var ru=F(4487);function xo(s,o){const r=arguments.length>=2;return d=>d.pipe(s?mi((m,C)=>s(m,C,d)):ru.y,El(1),r?zc(o):Yc(()=>new sa))}function bl(s,o){return o?Vt(()=>s,o):Vt(()=>s)}var iu=F(3101);const aa=new p.OlP("angularfire2.auth.use-emulator"),qc=new p.OlP("angularfire2.auth.settings"),Zc=new p.OlP("angularfire2.auth.tenant-id"),Qc=new p.OlP("angularfire2.auth.langugage-code"),No=new p.OlP("angularfire2.auth.use-device-language"),Pr=new p.OlP("angularfire.auth.persistence");let xf=(()=>{class s{constructor(r,d,m,C,I,M,G,ge,Ee,De){const je=new nn.HU(C),Le=(0,nn.ss)(je),Ht=new Rr.xQ,hn=(0,Ze.of)(void 0).pipe((0,gs.QV)(je.outsideAngular),Vt(()=>C.runOutsideAngular(()=>F.e(336).then(F.bind(F,1336)))),(0,tt.U)(()=>(0,nn.on)(r,C,d)),(0,tt.U)(Zt=>C.runOutsideAngular(()=>{const wn=I,rn=M;return(0,nn.sI)(`${Zt.name}.auth`,"AngularFireAuth",Zt,()=>{const un=C.runOutsideAngular(()=>Zt.auth());if(wn&&un.useEmulator(`http://${wn.join(":")}`),G&&(un.tenantId=G),un.languageCode=ge,Ee&&un.useDeviceLanguage(),rn)for(const[eo,Wt]of Object.entries(rn))un.settings[eo]=Wt;return De&&un.setPersistence(De),un},[wn,G,ge,Ee,rn,De])})),Gc({bufferSize:1,refCount:!1}));if(function(s){return"server"===s}(m))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ze.of)(null);else{hn.pipe(xo()).subscribe();const wn=hn.pipe(Vt(Wt=>Wt.getRedirectResult().then(wh=>wh,()=>null)),Le,Gc({bufferSize:1,refCount:!1})),rn=Wt=>new Xn.y(wh=>({unsubscribe:C.runOutsideAngular(()=>Wt(wh))})),un=hn.pipe(Vt(Wt=>rn(Wt.onAuthStateChanged.bind(Wt)))),eo=hn.pipe(Vt(Wt=>rn(Wt.onIdTokenChanged.bind(Wt))));this.authState=wn.pipe(bl(un),(0,iu.R)(je.outsideAngular),(0,gs.QV)(je.insideAngular)),this.user=wn.pipe(bl(eo),(0,iu.R)(je.outsideAngular),(0,gs.QV)(je.insideAngular)),this.idToken=this.user.pipe(Vt(Wt=>Wt?(0,an.D)(Wt.getIdToken()):(0,Ze.of)(null))),this.idTokenResult=this.user.pipe(Vt(Wt=>Wt?(0,an.D)(Wt.getIdTokenResult()):(0,Ze.of)(null))),this.credential=(0,Ka.T)(wn,Ht,this.authState.pipe(mi(Wt=>!Wt))).pipe((0,tt.U)(Wt=>(null==Wt?void 0:Wt.user)?Wt:null),(0,iu.R)(je.outsideAngular),(0,gs.QV)(je.insideAngular))}return(0,nn.pX)(this,hn,C,{spy:{apply:(Zt,wn,rn)=>{(Zt.startsWith("signIn")||Zt.startsWith("createUser"))&&rn.then(un=>Ht.next(un))}}})}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(nn.Dh),p.LFG(nn.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(aa,8),p.LFG(qc,8),p.LFG(Zc,8),p.LFG(Qc,8),p.LFG(No,8),p.LFG(Pr,8))},s.\u0275prov=p.Yz7({factory:function(){return new s(p.LFG(nn.Dh),p.LFG(nn.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(aa,8),p.LFG(qc,8),p.LFG(Zc,8),p.LFG(Qc,8),p.LFG(No,8),p.LFG(Pr,8))},token:s,providedIn:"any"}),s})();var Kc=F(2329);function ou(s){return null==s}function zi(s){return"function"==typeof s.set}function Dl(s,o){return zi(o)?o:s.ref(o)}function _i(s,o){if(function(s){return"string"==typeof s}(s))return o.stringCase();if(zi(s))return o.firebaseCase();if(function(s){return"function"==typeof s.exportVal}(s))return o.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof s)}function _r(s,o,r="on",d=Bc.z){return new Xn.y(m=>{let C=null;return C=s[r](o,(I,M)=>{d.schedule(()=>{m.next({snapshot:I,prevKey:M})}),"once"===r&&d.schedule(()=>m.complete())},I=>{d.schedule(()=>m.error(I))}),"on"===r?{unsubscribe(){null!=C&&s.off(o,C)}}:{unsubscribe(){}}}).pipe((0,tt.U)(m=>{const{snapshot:C,prevKey:I}=m;let M=null;return C.exists()&&(M=C.key),{type:o,payload:C,prevKey:I,key:M}}),(0,Fn.B)())}function wl(s,o){const r=s.length;for(let d=0;d<r;d++)if(s[d].payload.key===o)return d;return-1}function Al(s,o){const{payload:r,prevKey:d,key:m}=o,C=wl(s,m),I=function(s,o){if(ou(o))return 0;{const r=wl(s,o);return-1===r?s.length:r+1}}(s,d);switch(o.type){case"value":if(o.payload&&o.payload.exists()){let M=null;o.payload.forEach(G=>{const ge={payload:G,type:"value",prevKey:M,key:G.key};return M=G.key,s=[...s,ge],!1})}return s;case"child_added":if(C>-1){const M=s[C-1];(M&&M.key||null)!==d&&(s=s.filter(G=>G.payload.key!==r.key)).splice(I,0,o)}else{if(null==d)return[o,...s];(s=s.slice()).splice(I,0,o)}return s;case"child_removed":return s.filter(M=>M.payload.key!==r.key);case"child_changed":return s.map(M=>M.payload.key===m?o:M);case"child_moved":if(C>-1){const M=s.splice(C,1)[0];return(s=s.slice()).splice(I,0,M),s}return s;default:return s}}function Tl(s){return(ou(s)||0===s.length)&&(s=["child_added","child_removed","child_changed","child_moved"]),s}function Nf(s,o,r){return function(s,o,r){return _r(s,"value","once",r).pipe(Vt(d=>{const m=[(0,Ze.of)(d)];return o.forEach(C=>m.push(_r(s,C,"on",r))),(0,Ka.T)(...m).pipe(ia(Al,[]))}),r=>r.lift(new bf(void 0,void 0)))}(s,o=Tl(o),r)}function Oo(s,o,r){const d=(o=Tl(o)).map(m=>_r(s,m,"on",r));return(0,Ka.T)(...d)}function su(s,o){return function(d,m){return _i(d,{stringCase:()=>s.child(d)[o](m),firebaseCase:()=>d[o](m),snapshotCase:()=>d.ref[o](m)})}}function Pf(s){return function(r){return r?_i(r,{stringCase:()=>s.child(r).remove(),firebaseCase:()=>r.remove(),snapshotCase:()=>r.ref.remove()}):s.remove()}}function ed(s,o){return function(){return _r(s,"value","on",o)}}const td=new p.OlP("angularfire2.realtimeDatabaseURL"),nd=new p.OlP("angularfire2.database.use-emulator");let au=(()=>{class s{constructor(r,d,m,C,I,M,G){this.schedulers=new nn.HU(I),this.keepUnstableUntilFirst=(0,nn.ss)(this.schedulers);const ge=M,Ee=(0,nn.on)(r,I,d);!Kc.Z.auth&&G&&(0,nn.yq)(),this.database=(0,nn.sI)(`${Ee.name}.database.${m}`,"AngularFireDatabase",Ee,()=>{const De=I.runOutsideAngular(()=>Ee.database(m||void 0));return ge&&De.useEmulator(...ge),De},[ge])}list(r,d){const m=this.schedulers.ngZone.runOutsideAngular(()=>Dl(this.database,r));let C=m;return d&&(C=d(m)),function(s,o){const r=o.schedulers.outsideAngular,d=o.schedulers.ngZone.run(()=>s.ref);return{query:s,update:su(d,"update"),set:su(d,"set"),push:m=>d.push(m),remove:Pf(d),snapshotChanges:m=>Nf(s,m,r).pipe(o.keepUnstableUntilFirst),stateChanges:m=>Oo(s,m,r).pipe(o.keepUnstableUntilFirst),auditTrail:m=>function(s,o,r){return function(s,o,r){return function(s,o){return _r(s,"value","on",o).pipe((0,tt.U)(r=>{let d;return r.payload.forEach(m=>(d=m.key,!1)),{data:r,lastKeyToLoad:d}}))}(s,r).pipe(function(...s){return o=>{let r;return"function"==typeof s[s.length-1]&&(r=s.pop()),o.lift(new Tn(s,r))}}(o),(0,tt.U)(([m,C])=>{const I=m.lastKeyToLoad,M=C.map(G=>G.key);return{actions:C,lastKeyToLoad:I,loadedKeys:M}}),function(s){return o=>o.lift(new vl(s))}(m=>-1===m.loadedKeys.indexOf(m.lastKeyToLoad)),(0,tt.U)(m=>m.actions))}(s,Oo(s,o).pipe(ia((m,C)=>[...m,C],[])),r)}(s,m,r).pipe(o.keepUnstableUntilFirst),valueChanges:(m,C)=>Nf(s,m,r).pipe((0,tt.U)(M=>M.map(G=>C&&C.idField?Object.assign(Object.assign({},G.payload.val()),{[C.idField]:G.key}):G.payload.val())),o.keepUnstableUntilFirst)}}(C,this)}object(r){return function(s,o){return{query:s,snapshotChanges:()=>ed(s,o.schedulers.outsideAngular)().pipe(o.keepUnstableUntilFirst),update:r=>s.ref.update(r),set:r=>s.ref.set(r),remove:()=>s.ref.remove(),valueChanges:()=>ed(s,o.schedulers.outsideAngular)().pipe(o.keepUnstableUntilFirst,(0,tt.U)(d=>d.payload.exists()?d.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Dl(this.database,r)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(nn.Dh),p.LFG(nn.xv,8),p.LFG(td,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(nd,8),p.LFG(aa,8))},s.\u0275prov=p.Yz7({factory:function(){return new s(p.LFG(nn.Dh),p.LFG(nn.xv,8),p.LFG(td,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(nd,8),p.LFG(aa,8))},token:s,providedIn:"any"}),s})(),Ml=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({providers:[au]}),s})();const u_firebase={apiKey:"AIzaSyBwNuo1DR3aw_sXcudcGbZv2tdq4ji2SoE",authDomain:"media-54777.firebaseapp.com",databaseURL:"https://media-54777-default-rtdb.firebaseio.com",projectId:"media-54777",storageBucket:"media-54777.appspot.com",messagingSenderId:"824465364124",appId:"1:824465364124:web:7a72cfe115e8b83cb44959",measurementId:"G-VE4SWRL5DK"};class a extends Rr.xQ{constructor(o){super(),this._value=o}get value(){return this.getValue()}_subscribe(o){const r=super._subscribe(o);return r&&!r.closed&&o.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Hc.N;return this._value}next(o){super.next(this._value=o)}}var c=F(4869),h=F(6693);const v={};class D{constructor(o){this.resultSelector=o}call(o,r){return r.subscribe(new T(o,this.resultSelector))}}class T extends jc{constructor(o,r){super(o),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(o){this.values.push(v),this.observables.push(o)}_complete(){const o=this.observables,r=o.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let d=0;d<r;d++)this.add(wf(this,o[d],void 0,d))}}notifyComplete(o){0==(this.active-=1)&&this.destination.complete()}notifyNext(o,r,d){const m=this.values,I=this.toRespond?m[d]===v?--this.toRespond:this.toRespond:0;m[d]=r,0===I&&(this.resultSelector?this._tryResultSelector(m):this.destination.next(m.slice()))}_tryResultSelector(o){let r;try{r=this.resultSelector.apply(this,o)}catch(d){return void this.destination.error(d)}this.destination.next(r)}}var R=F(3282);function k(...s){return(0,R.J)(1)((0,Ze.of)(...s))}function J(s){return new Xn.y(o=>{let r;try{r=s()}catch(m){return void o.error(m)}return(r?(0,an.D)(r):(0,Nr.c)()).subscribe(o)})}var le=F(2441);function be(s){return function(r){const d=new ze(s),m=r.lift(d);return d.caught=m}}class ze{constructor(o){this.selector=o}call(o,r){return r.subscribe(new Ue(o,this.selector,this.caught))}}class Ue extends qr.Ds{constructor(o,r,d){super(o),this.selector=r,this.caught=d}error(o){if(!this.isStopped){let r;try{r=this.selector(o,this.caught)}catch(C){return void super.error(C)}this._unsubscribeAndRecycle();const d=new qr.IY(this);this.add(d);const m=(0,qr.ft)(r,d);m!==d&&this.add(m)}}}var Fe=F(9773);function Ut(s,o){return(0,Fe.zg)(s,o,1)}function nr(s){return function(r){return 0===s?(0,Nr.c)():r.lift(new _s(s))}}class _s{constructor(o){if(this.total=o,this.total<0)throw new Cl}call(o,r){return r.subscribe(new uu(o,this.total))}}class uu extends Wn.L{constructor(o,r){super(o),this.total=r,this.ring=new Array,this.count=0}_next(o){const r=this.ring,d=this.total,m=this.count++;r.length<d?r.push(o):r[m%d]=o}_complete(){const o=this.destination;let r=this.count;if(r>0){const d=this.count>=this.total?this.total:this.count,m=this.ring;for(let C=0;C<d;C++){const I=r++%d;o.next(m[I])}}o.complete()}}var _n=F(3342),lm=F(1307);class cm{constructor(o){this.callback=o}call(o,r){return r.subscribe(new dm(o,this.callback))}}class dm extends Wn.L{constructor(o,r){super(o),this.add(new tu.w(r))}}class Yi{constructor(o,r){this.id=o,this.url=r}}class Rl extends Yi{constructor(o,r,d="imperative",m=null){super(o,r),this.navigationTrigger=d,this.restoredState=m}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lu extends Yi{constructor(o,r,d){super(o,r),this.urlAfterRedirects=d}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fm extends Yi{constructor(o,r,d){super(o,r),this.reason=d}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ep extends Yi{constructor(o,r,d){super(o,r),this.error=d}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hm extends Yi{constructor(o,r,d,m){super(o,r),this.urlAfterRedirects=d,this.state=m}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bp extends Yi{constructor(o,r,d,m){super(o,r),this.urlAfterRedirects=d,this.state=m}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pm extends Yi{constructor(o,r,d,m,C){super(o,r),this.urlAfterRedirects=d,this.state=m,this.shouldActivate=C}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gm extends Yi{constructor(o,r,d,m){super(o,r),this.urlAfterRedirects=d,this.state=m}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vi extends Yi{constructor(o,r,d,m){super(o,r),this.urlAfterRedirects=d,this.state=m}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dp{constructor(o){this.route=o}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lf{constructor(o){this.route=o}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mm{constructor(o){this.snapshot=o}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _m{constructor(o){this.snapshot=o}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vm{constructor(o){this.snapshot=o}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ym{constructor(o){this.snapshot=o}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vf{constructor(o,r,d){this.routerEvent=o,this.position=r,this.anchor=d}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ht="primary";class Cm{constructor(o){this.params=o||{}}has(o){return Object.prototype.hasOwnProperty.call(this.params,o)}get(o){if(this.has(o)){const r=this.params[o];return Array.isArray(r)?r[0]:r}return null}getAll(o){if(this.has(o)){const r=this.params[o];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function cu(s){return new Cm(s)}const et="ngNavigationCancelingError";function rd(s){const o=Error("NavigationCancelingError: "+s);return o[et]=!0,o}function id(s,o,r){const d=r.path.split("/");if(d.length>s.length||"full"===r.pathMatch&&(o.hasChildren()||d.length<s.length))return null;const m={};for(let C=0;C<d.length;C++){const I=d[C],M=s[C];if(I.startsWith(":"))m[I.substring(1)]=M;else if(I!==M.path)return null}return{consumed:s.slice(0,d.length),posParams:m}}function Ci(s,o){const r=s?Object.keys(s):void 0,d=o?Object.keys(o):void 0;if(!r||!d||r.length!=d.length)return!1;let m;for(let C=0;C<r.length;C++)if(m=r[C],!Ip(s[m],o[m]))return!1;return!0}function Ip(s,o){if(Array.isArray(s)&&Array.isArray(o)){if(s.length!==o.length)return!1;const r=[...s].sort(),d=[...o].sort();return r.every((m,C)=>d[C]===m)}return s===o}function od(s){return Array.prototype.concat.apply([],s)}function qi(s){return s.length>0?s[s.length-1]:null}function Sn(s,o){for(const r in s)s.hasOwnProperty(r)&&o(s[r],r)}function Qr(s){return(0,p.CqO)(s)?s:(0,p.QGY)(s)?(0,an.D)(Promise.resolve(s)):(0,Ze.of)(s)}const Tp={exact:function xl(s,o,r){if(!vs(s.segments,o.segments)||!Nl(s.segments,o.segments,r)||s.numberOfChildren!==o.numberOfChildren)return!1;for(const d in o.children)if(!s.children[d]||!xl(s.children[d],o.children[d],r))return!1;return!0},subset:bm},Em={exact:function(s,o){return Ci(s,o)},subset:function(s,o){return Object.keys(o).length<=Object.keys(s).length&&Object.keys(o).every(r=>Ip(s[r],o[r]))},ignored:()=>!0};function Zi(s,o,r){return Tp[r.paths](s.root,o.root,r.matrixParams)&&Em[r.queryParams](s.queryParams,o.queryParams)&&!("exact"===r.fragment&&s.fragment!==o.fragment)}function bm(s,o,r){return Sp(s,o,o.segments,r)}function Sp(s,o,r,d){if(s.segments.length>r.length){const m=s.segments.slice(0,r.length);return!(!vs(m,r)||o.hasChildren()||!Nl(m,r,d))}if(s.segments.length===r.length){if(!vs(s.segments,r)||!Nl(s.segments,r,d))return!1;for(const m in o.children)if(!s.children[m]||!bm(s.children[m],o.children[m],d))return!1;return!0}{const m=r.slice(0,s.segments.length),C=r.slice(s.segments.length);return!!(vs(s.segments,m)&&Nl(s.segments,m,d)&&s.children[ht])&&Sp(s.children[ht],o,C,d)}}function Nl(s,o,r){return o.every((d,m)=>Em[r](s[m].parameters,d.parameters))}class du{constructor(o,r,d){this.root=o,this.queryParams=r,this.fragment=d}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cu(this.queryParams)),this._queryParamMap}toString(){return Zv.serialize(this)}}class _t{constructor(o,r){this.segments=o,this.children=r,this.parent=null,Sn(r,(d,m)=>d.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bf(this)}}class ad{constructor(o,r){this.path=o,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=cu(this.parameters)),this._parameterMap}toString(){return Tm(this)}}function vs(s,o){return s.length===o.length&&s.every((r,d)=>r.path===o[d].path)}class Ol{}class wm{parse(o){const r=new Cs(o);return new du(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(o){var s;return`${`/${ud(o.root,!0)}`}${function(s){const o=Object.keys(s).map(r=>{const d=s[r];return Array.isArray(d)?d.map(m=>`${jf(r)}=${jf(m)}`).join("&"):`${jf(r)}=${jf(d)}`}).filter(r=>!!r);return o.length?`?${o.join("&")}`:""}(o.queryParams)}${"string"==typeof o.fragment?`#${s=o.fragment,encodeURI(s)}`:""}`}}const Zv=new wm;function Bf(s){return s.segments.map(o=>Tm(o)).join("/")}function ud(s,o){if(!s.hasChildren())return Bf(s);if(o){const r=s.children[ht]?ud(s.children[ht],!1):"",d=[];return Sn(s.children,(m,C)=>{C!==ht&&d.push(`${C}:${ud(m,!1)}`)}),d.length>0?`${r}(${d.join("//")})`:r}{const r=function(s,o){let r=[];return Sn(s.children,(d,m)=>{m===ht&&(r=r.concat(o(d,m)))}),Sn(s.children,(d,m)=>{m!==ht&&(r=r.concat(o(d,m)))}),r}(s,(d,m)=>m===ht?[ud(s.children[ht],!1)]:[`${m}:${ud(d,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[ht]?`${Bf(s)}/${r[0]}`:`${Bf(s)}/(${r.join("//")})`}}function Im(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jf(s){return Im(s).replace(/%3B/gi,";")}function Rp(s){return Im(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hf(s){return decodeURIComponent(s)}function Am(s){return Hf(s.replace(/\+/g,"%20"))}function Tm(s){return`${Rp(s.path)}${function(s){return Object.keys(s).map(o=>`;${Rp(o)}=${Rp(s[o])}`).join("")}(s.parameters)}`}const Sm=/^[^\/()?;=#]+/;function Pl(s){const o=s.match(Sm);return o?o[0]:""}const Gf=/^[^=?&#]+/,Wf=/^[^?&#]+/;class Cs{constructor(o){this.url=o,this.remaining=o}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){const o={};if(this.consumeOptional("?"))do{this.parseQueryParam(o)}while(this.consumeOptional("&"));return o}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const o=[];for(this.peekStartsWith("(")||o.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),o.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let d={};return this.peekStartsWith("(")&&(d=this.parseParens(!1)),(o.length>0||Object.keys(r).length>0)&&(d[ht]=new _t(o,r)),d}parseSegment(){const o=Pl(this.remaining);if(""===o&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(o),new ad(Hf(o),this.parseMatrixParams())}parseMatrixParams(){const o={};for(;this.consumeOptional(";");)this.parseParam(o);return o}parseParam(o){const r=Pl(this.remaining);if(!r)return;this.capture(r);let d="";if(this.consumeOptional("=")){const m=Pl(this.remaining);m&&(d=m,this.capture(d))}o[Hf(r)]=Hf(d)}parseQueryParam(o){const r=function(s){const o=s.match(Gf);return o?o[0]:""}(this.remaining);if(!r)return;this.capture(r);let d="";if(this.consumeOptional("=")){const I=function(s){const o=s.match(Wf);return o?o[0]:""}(this.remaining);I&&(d=I,this.capture(d))}const m=Am(r),C=Am(d);if(o.hasOwnProperty(m)){let I=o[m];Array.isArray(I)||(I=[I],o[m]=I),I.push(C)}else o[m]=C}parseParens(o){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const d=Pl(this.remaining),m=this.remaining[d.length];if("/"!==m&&")"!==m&&";"!==m)throw new Error(`Cannot parse url '${this.url}'`);let C;d.indexOf(":")>-1?(C=d.substr(0,d.indexOf(":")),this.capture(C),this.capture(":")):o&&(C=ht);const I=this.parseChildren();r[C]=1===Object.keys(I).length?I[ht]:new _t([],I),this.consumeOptional("//")}return r}peekStartsWith(o){return this.remaining.startsWith(o)}consumeOptional(o){return!!this.peekStartsWith(o)&&(this.remaining=this.remaining.substring(o.length),!0)}capture(o){if(!this.consumeOptional(o))throw new Error(`Expected "${o}".`)}}class zf{constructor(o){this._root=o}get root(){return this._root.value}parent(o){const r=this.pathFromRoot(o);return r.length>1?r[r.length-2]:null}children(o){const r=Yf(o,this._root);return r?r.children.map(d=>d.value):[]}firstChild(o){const r=Yf(o,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(o){const r=Np(o,this._root);return r.length<2?[]:r[r.length-2].children.map(m=>m.value).filter(m=>m!==o)}pathFromRoot(o){return Np(o,this._root).map(r=>r.value)}}function Yf(s,o){if(s===o.value)return o;for(const r of o.children){const d=Yf(s,r);if(d)return d}return null}function Np(s,o){if(s===o.value)return[o];for(const r of o.children){const d=Np(s,r);if(d.length)return d.unshift(o),d}return[]}class Ei{constructor(o,r){this.value=o,this.children=r}toString(){return`TreeNode(${this.value})`}}function Fl(s){const o={};return s&&s.children.forEach(r=>o[r.value.outlet]=r),o}class qf extends zf{constructor(o,r){super(o),this.snapshot=r,Es(this,o)}toString(){return this.snapshot.toString()}}function Op(s,o){const r=function(s,o){const I=new Po([],{},{},"",{},ht,o,null,s.root,-1,{});return new fu("",new Ei(I,[]))}(s,o),d=new a([new ad("",{})]),m=new a({}),C=new a({}),I=new a({}),M=new a(""),G=new kn(d,m,I,M,C,ht,o,r.root);return G.snapshot=r.root,new qf(new Ei(G,[]),r)}class kn{constructor(o,r,d,m,C,I,M,G){this.url=o,this.params=r,this.queryParams=d,this.fragment=m,this.data=C,this.outlet=I,this.component=M,this._futureSnapshot=G}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,tt.U)(o=>cu(o)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,tt.U)(o=>cu(o)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function la(s,o="emptyOnly"){const r=s.pathFromRoot;let d=0;if("always"!==o)for(d=r.length-1;d>=1;){const m=r[d],C=r[d-1];if(m.routeConfig&&""===m.routeConfig.path)d--;else{if(C.component)break;d--}}return function(s){return s.reduce((o,r)=>({params:Object.assign(Object.assign({},o.params),r.params),data:Object.assign(Object.assign({},o.data),r.data),resolve:Object.assign(Object.assign({},o.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(d))}class Po{constructor(o,r,d,m,C,I,M,G,ge,Ee,De){this.url=o,this.params=r,this.queryParams=d,this.fragment=m,this.data=C,this.outlet=I,this.component=M,this.routeConfig=G,this._urlSegment=ge,this._lastPathIndex=Ee,this._resolve=De}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(d=>d.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fu extends zf{constructor(o,r){super(r),this.url=o,Es(this,r)}toString(){return Pp(this._root)}}function Es(s,o){o.value._routerState=s,o.children.forEach(r=>Es(s,r))}function Pp(s){const o=s.children.length>0?` { ${s.children.map(Pp).join(", ")} } `:"";return`${s.value}${o}`}function ld(s){if(s.snapshot){const o=s.snapshot,r=s._futureSnapshot;s.snapshot=r,Ci(o.queryParams,r.queryParams)||s.queryParams.next(r.queryParams),o.fragment!==r.fragment&&s.fragment.next(r.fragment),Ci(o.params,r.params)||s.params.next(r.params),function(s,o){if(s.length!==o.length)return!1;for(let r=0;r<s.length;++r)if(!Ci(s[r],o[r]))return!1;return!0}(o.url,r.url)||s.url.next(r.url),Ci(o.data,r.data)||s.data.next(r.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function cd(s,o){return Ci(s.params,o.params)&&function(s,o){return vs(s,o)&&s.every((r,d)=>Ci(r.parameters,o[d].parameters))}(s.url,o.url)&&!(!s.parent!=!o.parent)&&(!s.parent||cd(s.parent,o.parent))}function hu(s,o,r){if(r&&s.shouldReuseRoute(o.value,r.value.snapshot)){const d=r.value;d._futureSnapshot=o.value;const m=function(s,o,r){return o.children.map(d=>{for(const m of r.children)if(s.shouldReuseRoute(d.value,m.value.snapshot))return hu(s,d,m);return hu(s,d)})}(s,o,r);return new Ei(d,m)}{if(s.shouldAttach(o.value)){const C=s.retrieve(o.value);if(null!==C){const I=C.route;return Kf(o,I),I}}const d=function(s){return new kn(new a(s.url),new a(s.params),new a(s.queryParams),new a(s.fragment),new a(s.data),s.outlet,s.component,s)}(o.value),m=o.children.map(C=>hu(s,C));return new Ei(d,m)}}function Kf(s,o){if(s.value.routeConfig!==o.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==o.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");o.value._futureSnapshot=s.value;for(let r=0;r<s.children.length;++r)Kf(s.children[r],o.children[r])}function Jf(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function pu(s){return"object"==typeof s&&null!=s&&s.outlets}function fd(s,o,r,d,m){let C={};return d&&Sn(d,(I,M)=>{C[M]=Array.isArray(I)?I.map(G=>`${G}`):`${I}`}),new du(r.root===s?o:kp(r.root,s,o),C,m)}function kp(s,o,r){const d={};return Sn(s.children,(m,C)=>{d[C]=m===o?r:kp(m,o,r)}),new _t(s.segments,d)}class Xf{constructor(o,r,d){if(this.isAbsolute=o,this.numberOfDoubleDots=r,this.commands=d,o&&d.length>0&&Jf(d[0]))throw new Error("Root segment cannot have matrix parameters");const m=d.find(pu);if(m&&m!==qi(d))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class eh{constructor(o,r,d){this.segmentGroup=o,this.processChildren=r,this.index=d}}function Fm(s,o,r){if(s||(s=new _t([],{})),0===s.segments.length&&s.hasChildren())return th(s,o,r);const d=function(s,o,r){let d=0,m=o;const C={match:!1,pathIndex:0,commandIndex:0};for(;m<s.segments.length;){if(d>=r.length)return C;const I=s.segments[m],M=r[d];if(pu(M))break;const G=`${M}`,ge=d<r.length-1?r[d+1]:null;if(m>0&&void 0===G)break;if(G&&ge&&"object"==typeof ge&&void 0===ge.outlets){if(!nh(G,ge,I))return C;d+=2}else{if(!nh(G,{},I))return C;d++}m++}return{match:!0,pathIndex:m,commandIndex:d}}(s,o,r),m=r.slice(d.commandIndex);if(d.match&&d.pathIndex<s.segments.length){const C=new _t(s.segments.slice(0,d.pathIndex),{});return C.children[ht]=new _t(s.segments.slice(d.pathIndex),s.children),th(C,0,m)}return d.match&&0===m.length?new _t(s.segments,{}):d.match&&!s.hasChildren()?Vp(s,o,r):d.match?th(s,0,m):Vp(s,o,r)}function th(s,o,r){if(0===r.length)return new _t(s.segments,{});{const d=function(s){return pu(s[0])?s[0].outlets:{[ht]:s}}(r),m={};return Sn(d,(C,I)=>{"string"==typeof C&&(C=[C]),null!==C&&(m[I]=Fm(s.children[I],o,C))}),Sn(s.children,(C,I)=>{void 0===d[I]&&(m[I]=C)}),new _t(s.segments,m)}}function Vp(s,o,r){const d=s.segments.slice(0,o);let m=0;for(;m<r.length;){const C=r[m];if(pu(C)){const G=km(C.outlets);return new _t(d,G)}if(0===m&&Jf(r[0])){d.push(new ad(s.segments[o].path,hd(r[0]))),m++;continue}const I=pu(C)?C.outlets[ht]:`${C}`,M=m<r.length-1?r[m+1]:null;I&&M&&Jf(M)?(d.push(new ad(I,hd(M))),m+=2):(d.push(new ad(I,{})),m++)}return new _t(d,{})}function km(s){const o={};return Sn(s,(r,d)=>{"string"==typeof r&&(r=[r]),null!==r&&(o[d]=Vp(new _t([],{}),0,r))}),o}function hd(s){const o={};return Sn(s,(r,d)=>o[d]=`${r}`),o}function nh(s,o,r){return s==r.path&&Ci(o,r.parameters)}class Vm{constructor(o,r,d,m){this.routeReuseStrategy=o,this.futureState=r,this.currState=d,this.forwardEvent=m}activate(o){const r=this.futureState._root,d=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,d,o),ld(this.futureState.root),this.activateChildRoutes(r,d,o)}deactivateChildRoutes(o,r,d){const m=Fl(r);o.children.forEach(C=>{const I=C.value.outlet;this.deactivateRoutes(C,m[I],d),delete m[I]}),Sn(m,(C,I)=>{this.deactivateRouteAndItsChildren(C,d)})}deactivateRoutes(o,r,d){const m=o.value,C=r?r.value:null;if(m===C)if(m.component){const I=d.getContext(m.outlet);I&&this.deactivateChildRoutes(o,r,I.children)}else this.deactivateChildRoutes(o,r,d);else C&&this.deactivateRouteAndItsChildren(r,d)}deactivateRouteAndItsChildren(o,r){this.routeReuseStrategy.shouldDetach(o.value.snapshot)?this.detachAndStoreRouteSubtree(o,r):this.deactivateRouteAndOutlet(o,r)}detachAndStoreRouteSubtree(o,r){const d=r.getContext(o.value.outlet);if(d&&d.outlet){const m=d.outlet.detach(),C=d.children.onOutletDeactivated();this.routeReuseStrategy.store(o.value.snapshot,{componentRef:m,route:o,contexts:C})}}deactivateRouteAndOutlet(o,r){const d=r.getContext(o.value.outlet),m=d&&o.value.component?d.children:r,C=Fl(o);for(const I of Object.keys(C))this.deactivateRouteAndItsChildren(C[I],m);d&&d.outlet&&(d.outlet.deactivate(),d.children.onOutletDeactivated(),d.attachRef=null,d.resolver=null,d.route=null)}activateChildRoutes(o,r,d){const m=Fl(r);o.children.forEach(C=>{this.activateRoutes(C,m[C.value.outlet],d),this.forwardEvent(new ym(C.value.snapshot))}),o.children.length&&this.forwardEvent(new _m(o.value.snapshot))}activateRoutes(o,r,d){const m=o.value,C=r?r.value:null;if(ld(m),m===C)if(m.component){const I=d.getOrCreateContext(m.outlet);this.activateChildRoutes(o,r,I.children)}else this.activateChildRoutes(o,r,d);else if(m.component){const I=d.getOrCreateContext(m.outlet);if(this.routeReuseStrategy.shouldAttach(m.snapshot)){const M=this.routeReuseStrategy.retrieve(m.snapshot);this.routeReuseStrategy.store(m.snapshot,null),I.children.onOutletReAttached(M.contexts),I.attachRef=M.componentRef,I.route=M.route.value,I.outlet&&I.outlet.attach(M.componentRef,M.route.value),Up(M.route)}else{const M=function(s){for(let o=s.parent;o;o=o.parent){const r=o.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(m.snapshot),G=M?M.module.componentFactoryResolver:null;I.attachRef=null,I.route=m,I.resolver=G,I.outlet&&I.outlet.activateWith(m,G),this.activateChildRoutes(o,null,I.children)}}else this.activateChildRoutes(o,null,d)}}function Up(s){ld(s.value),s.children.forEach(Up)}class rh{constructor(o,r){this.routes=o,this.module=r}}function Fo(s){return"function"==typeof s}function ca(s){return s instanceof du}const da=Symbol("INITIAL_VALUE");function kl(){return Vt(s=>function(...s){let o,r;return(0,c.K)(s[s.length-1])&&(r=s.pop()),"function"==typeof s[s.length-1]&&(o=s.pop()),1===s.length&&(0,_o.k)(s[0])&&(s=s[0]),(0,h.n)(s,r).lift(new D(o))}(s.map(o=>o.pipe(El(1),function(...s){const o=s[s.length-1];return(0,c.K)(o)?(s.pop(),r=>k(s,r,o)):r=>k(s,r)}(da)))).pipe(ia((o,r)=>{let d=!1;return r.reduce((m,C,I)=>m!==da?m:(C===da&&(d=!0),d||!1!==C&&I!==r.length-1&&!ca(C)?m:C),o)},da),mi(o=>o!==da),(0,tt.U)(o=>ca(o)?o:!0===o),El(1)))}let $p=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=p.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,d){1&r&&p._UZ(0,"router-outlet")},directives:function(){return[yd]},encapsulation:2}),s})();function jm(s,o=""){for(let r=0;r<s.length;r++){const d=s[r];Gp(d,Hm(o,d))}}function Gp(s,o){s.children&&jm(s.children,o)}function Hm(s,o){return o?s||o.path?s&&!o.path?`${s}/`:!s&&o.path?o.path:`${s}/${o.path}`:"":s}function ih(s){const o=s.children&&s.children.map(ih),r=o?Object.assign(Object.assign({},s),{children:o}):Object.assign({},s);return!r.component&&(o||r.loadChildren)&&r.outlet&&r.outlet!==ht&&(r.component=$p),r}function Kr(s){return s.outlet||ht}function pd(s,o){const r=s.filter(d=>Kr(d)===o);return r.push(...s.filter(d=>Kr(d)!==o)),r}const Wp={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function gd(s,o,r){var d;if(""===o.path)return"full"===o.pathMatch&&(s.hasChildren()||r.length>0)?Object.assign({},Wp):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const C=(o.matcher||id)(r,s,o);if(!C)return Object.assign({},Wp);const I={};Sn(C.posParams,(G,ge)=>{I[ge]=G.path});const M=C.consumed.length>0?Object.assign(Object.assign({},I),C.consumed[C.consumed.length-1].parameters):I;return{matched:!0,consumedSegments:C.consumed,lastChild:C.consumed.length,parameters:M,positionalParamSegments:null!==(d=C.posParams)&&void 0!==d?d:{}}}function fa(s,o,r,d,m="corrected"){if(r.length>0&&function(s,o,r){return r.some(d=>Ll(s,o,d)&&Kr(d)!==ht)}(s,r,d)){const I=new _t(o,function(s,o,r,d){const m={};m[ht]=d,d._sourceSegment=s,d._segmentIndexShift=o.length;for(const C of r)if(""===C.path&&Kr(C)!==ht){const I=new _t([],{});I._sourceSegment=s,I._segmentIndexShift=o.length,m[Kr(C)]=I}return m}(s,o,d,new _t(r,s.children)));return I._sourceSegment=s,I._segmentIndexShift=o.length,{segmentGroup:I,slicedSegments:[]}}if(0===r.length&&function(s,o,r){return r.some(d=>Ll(s,o,d))}(s,r,d)){const I=new _t(s.segments,function(s,o,r,d,m,C){const I={};for(const M of d)if(Ll(s,r,M)&&!m[Kr(M)]){const G=new _t([],{});G._sourceSegment=s,G._segmentIndexShift="legacy"===C?s.segments.length:o.length,I[Kr(M)]=G}return Object.assign(Object.assign({},m),I)}(s,o,r,d,s.children,m));return I._sourceSegment=s,I._segmentIndexShift=o.length,{segmentGroup:I,slicedSegments:r}}const C=new _t(s.segments,s.children);return C._sourceSegment=s,C._segmentIndexShift=o.length,{segmentGroup:C,slicedSegments:r}}function Ll(s,o,r){return(!(s.hasChildren()||o.length>0)||"full"!==r.pathMatch)&&""===r.path}function zp(s,o,r,d){return!!(Kr(s)===d||d!==ht&&Ll(o,r,s))&&("**"===s.path||gd(o,s,r).matched)}function Yp(s,o,r){return 0===o.length&&!s.children[r]}class ha{constructor(o){this.segmentGroup=o||null}}class Gm{constructor(o){this.urlTree=o}}function md(s){return new Xn.y(o=>o.error(new ha(s)))}function uh(s){return new Xn.y(o=>o.error(new Gm(s)))}function qp(s){return new Xn.y(o=>o.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class Kp{constructor(o,r,d,m,C){this.configLoader=r,this.urlSerializer=d,this.urlTree=m,this.config=C,this.allowRedirects=!0,this.ngModule=o.get(p.h0i)}apply(){const o=fa(this.urlTree.root,[],[],this.config).segmentGroup,r=new _t(o.segments,o.children);return this.expandSegmentGroup(this.ngModule,this.config,r,ht).pipe((0,tt.U)(C=>this.createUrlTree(gu(C),this.urlTree.queryParams,this.urlTree.fragment))).pipe(be(C=>{if(C instanceof Gm)return this.allowRedirects=!1,this.match(C.urlTree);throw C instanceof ha?this.noMatchError(C):C}))}match(o){return this.expandSegmentGroup(this.ngModule,this.config,o.root,ht).pipe((0,tt.U)(m=>this.createUrlTree(gu(m),o.queryParams,o.fragment))).pipe(be(m=>{throw m instanceof ha?this.noMatchError(m):m}))}noMatchError(o){return new Error(`Cannot match any routes. URL Segment: '${o.segmentGroup}'`)}createUrlTree(o,r,d){const m=o.segments.length>0?new _t([],{[ht]:o}):o;return new du(m,r,d)}expandSegmentGroup(o,r,d,m){return 0===d.segments.length&&d.hasChildren()?this.expandChildren(o,r,d).pipe((0,tt.U)(C=>new _t([],C))):this.expandSegment(o,d,r,d.segments,m,!0)}expandChildren(o,r,d){const m=[];for(const C of Object.keys(d.children))"primary"===C?m.unshift(C):m.push(C);return(0,an.D)(m).pipe(Ut(C=>{const I=d.children[C],M=pd(r,C);return this.expandSegmentGroup(o,M,I,C).pipe((0,tt.U)(G=>({segment:G,outlet:C})))}),ia((C,I)=>(C[I.outlet]=I.segment,C),{}),function(s,o){const r=arguments.length>=2;return d=>d.pipe(s?mi((m,C)=>s(m,C,d)):ru.y,nr(1),r?zc(o):Yc(()=>new sa))}())}expandSegment(o,r,d,m,C,I){return(0,an.D)(d).pipe(Ut(M=>this.expandSegmentAgainstRoute(o,r,d,M,m,C,I).pipe(be(ge=>{if(ge instanceof ha)return(0,Ze.of)(null);throw ge}))),xo(M=>!!M),be((M,G)=>{if(M instanceof sa||"EmptyError"===M.name){if(Yp(r,m,C))return(0,Ze.of)(new _t([],{}));throw new ha(r)}throw M}))}expandSegmentAgainstRoute(o,r,d,m,C,I,M){return zp(m,r,C,I)?void 0===m.redirectTo?this.matchSegmentAgainstRoute(o,r,m,C,I):M&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(o,r,d,m,C,I):md(r):md(r)}expandSegmentAgainstRouteUsingRedirect(o,r,d,m,C,I){return"**"===m.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(o,d,m,I):this.expandRegularSegmentAgainstRouteUsingRedirect(o,r,d,m,C,I)}expandWildCardWithParamsAgainstRouteUsingRedirect(o,r,d,m){const C=this.applyRedirectCommands([],d.redirectTo,{});return d.redirectTo.startsWith("/")?uh(C):this.lineralizeSegments(d,C).pipe((0,Fe.zg)(I=>{const M=new _t(I,{});return this.expandSegment(o,M,r,I,m,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(o,r,d,m,C,I){const{matched:M,consumedSegments:G,lastChild:ge,positionalParamSegments:Ee}=gd(r,m,C);if(!M)return md(r);const De=this.applyRedirectCommands(G,m.redirectTo,Ee);return m.redirectTo.startsWith("/")?uh(De):this.lineralizeSegments(m,De).pipe((0,Fe.zg)(je=>this.expandSegment(o,r,d,je.concat(C.slice(ge)),I,!1)))}matchSegmentAgainstRoute(o,r,d,m,C){if("**"===d.path)return d.loadChildren?(d._loadedConfig?(0,Ze.of)(d._loadedConfig):this.configLoader.load(o.injector,d)).pipe((0,tt.U)(je=>(d._loadedConfig=je,new _t(m,{})))):(0,Ze.of)(new _t(m,{}));const{matched:I,consumedSegments:M,lastChild:G}=gd(r,d,m);if(!I)return md(r);const ge=m.slice(G);return this.getChildConfig(o,d,m).pipe((0,Fe.zg)(De=>{const je=De.module,Le=De.routes,{segmentGroup:Ht,slicedSegments:hn}=fa(r,M,ge,Le),Zt=new _t(Ht.segments,Ht.children);if(0===hn.length&&Zt.hasChildren())return this.expandChildren(je,Le,Zt).pipe((0,tt.U)(eo=>new _t(M,eo)));if(0===Le.length&&0===hn.length)return(0,Ze.of)(new _t(M,{}));const wn=Kr(d)===C;return this.expandSegment(je,Zt,Le,hn,wn?ht:C,!0).pipe((0,tt.U)(un=>new _t(M.concat(un.segments),un.children)))}))}getChildConfig(o,r,d){return r.children?(0,Ze.of)(new rh(r.children,o)):r.loadChildren?void 0!==r._loadedConfig?(0,Ze.of)(r._loadedConfig):this.runCanLoadGuards(o.injector,r,d).pipe((0,Fe.zg)(m=>{return m?this.configLoader.load(o.injector,r).pipe((0,tt.U)(C=>(r._loadedConfig=C,C))):(s=r,new Xn.y(o=>o.error(rd(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`))));var s})):(0,Ze.of)(new rh([],o))}runCanLoadGuards(o,r,d){const m=r.canLoad;if(!m||0===m.length)return(0,Ze.of)(!0);const C=m.map(I=>{const M=o.get(I);let G;if((s=M)&&Fo(s.canLoad))G=M.canLoad(r,d);else{if(!Fo(M))throw new Error("Invalid CanLoad guard");G=M(r,d)}var s;return Qr(G)});return(0,Ze.of)(C).pipe(kl(),(0,_n.b)(I=>{if(!ca(I))return;const M=rd(`Redirecting to "${this.urlSerializer.serialize(I)}"`);throw M.url=I,M}),(0,tt.U)(I=>!0===I))}lineralizeSegments(o,r){let d=[],m=r.root;for(;;){if(d=d.concat(m.segments),0===m.numberOfChildren)return(0,Ze.of)(d);if(m.numberOfChildren>1||!m.children[ht])return qp(o.redirectTo);m=m.children[ht]}}applyRedirectCommands(o,r,d){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),o,d)}applyRedirectCreatreUrlTree(o,r,d,m){const C=this.createSegmentGroup(o,r.root,d,m);return new du(C,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(o,r){const d={};return Sn(o,(m,C)=>{if("string"==typeof m&&m.startsWith(":")){const M=m.substring(1);d[C]=r[M]}else d[C]=m}),d}createSegmentGroup(o,r,d,m){const C=this.createSegments(o,r.segments,d,m);let I={};return Sn(r.children,(M,G)=>{I[G]=this.createSegmentGroup(o,M,d,m)}),new _t(C,I)}createSegments(o,r,d,m){return r.map(C=>C.path.startsWith(":")?this.findPosParam(o,C,m):this.findOrReturn(C,d))}findPosParam(o,r,d){const m=d[r.path.substring(1)];if(!m)throw new Error(`Cannot redirect to '${o}'. Cannot find '${r.path}'.`);return m}findOrReturn(o,r){let d=0;for(const m of r){if(m.path===o.path)return r.splice(d),m;d++}return o}}function gu(s){const o={};for(const d of Object.keys(s.children)){const C=gu(s.children[d]);(C.segments.length>0||C.hasChildren())&&(o[d]=C)}return function(s){if(1===s.numberOfChildren&&s.children[ht]){const o=s.children[ht];return new _t(s.segments.concat(o.segments),o.children)}return s}(new _t(s.segments,o))}class Jp{constructor(o){this.path=o,this.route=this.path[this.path.length-1]}}class lh{constructor(o,r){this.component=o,this.route=r}}function mu(s,o,r){const d=s._root;return Ul(d,o?o._root:null,r,[d.value])}function bs(s,o,r){const d=function(s){if(!s)return null;for(let o=s.parent;o;o=o.parent){const r=o.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(o);return(d?d.module.injector:r).get(s)}function Ul(s,o,r,d,m={canDeactivateChecks:[],canActivateChecks:[]}){const C=Fl(o);return s.children.forEach(I=>{(function(s,o,r,d,m={canDeactivateChecks:[],canActivateChecks:[]}){const C=s.value,I=o?o.value:null,M=r?r.getContext(s.value.outlet):null;if(I&&C.routeConfig===I.routeConfig){const G=function(s,o,r){if("function"==typeof r)return r(s,o);switch(r){case"pathParamsChange":return!vs(s.url,o.url);case"pathParamsOrQueryParamsChange":return!vs(s.url,o.url)||!Ci(s.queryParams,o.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cd(s,o)||!Ci(s.queryParams,o.queryParams);case"paramsChange":default:return!cd(s,o)}}(I,C,C.routeConfig.runGuardsAndResolvers);G?m.canActivateChecks.push(new Jp(d)):(C.data=I.data,C._resolvedData=I._resolvedData),Ul(s,o,C.component?M?M.children:null:r,d,m),G&&M&&M.outlet&&M.outlet.isActivated&&m.canDeactivateChecks.push(new lh(M.outlet.component,I))}else I&&Bl(o,M,m),m.canActivateChecks.push(new Jp(d)),Ul(s,null,C.component?M?M.children:null:r,d,m)})(I,C[I.value.outlet],r,d.concat([I.value]),m),delete C[I.value.outlet]}),Sn(C,(I,M)=>Bl(I,r.getContext(M),m)),m}function Bl(s,o,r){const d=Fl(s),m=s.value;Sn(d,(C,I)=>{Bl(C,m.component?o?o.children.getContext(I):null:o,r)}),r.canDeactivateChecks.push(new lh(m.component&&o&&o.outlet&&o.outlet.isActivated?o.outlet.component:null,m))}class Zm{}function ig(s){return new Xn.y(o=>o.error(s))}class Qm{constructor(o,r,d,m,C,I){this.rootComponentType=o,this.config=r,this.urlTree=d,this.url=m,this.paramsInheritanceStrategy=C,this.relativeLinkResolution=I}recognize(){const o=fa(this.urlTree.root,[],[],this.config.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,o,ht);if(null===r)return null;const d=new Po([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ht,this.rootComponentType,null,this.urlTree.root,-1,{}),m=new Ei(d,r),C=new fu(this.url,m);return this.inheritParamsAndData(C._root),C}inheritParamsAndData(o){const r=o.value,d=la(r,this.paramsInheritanceStrategy);r.params=Object.freeze(d.params),r.data=Object.freeze(d.data),o.children.forEach(m=>this.inheritParamsAndData(m))}processSegmentGroup(o,r,d){return 0===r.segments.length&&r.hasChildren()?this.processChildren(o,r):this.processSegment(o,r,r.segments,d)}processChildren(o,r){const d=[];for(const C of Object.keys(r.children)){const I=r.children[C],M=pd(o,C),G=this.processSegmentGroup(M,I,C);if(null===G)return null;d.push(...G)}const m=e_(d);return m.sort((o,r)=>o.value.outlet===ht?-1:r.value.outlet===ht?1:o.value.outlet.localeCompare(r.value.outlet)),m}processSegment(o,r,d,m){for(const C of o){const I=this.processSegmentAgainstRoute(C,r,d,m);if(null!==I)return I}return Yp(r,d,m)?[]:null}processSegmentAgainstRoute(o,r,d,m){if(o.redirectTo||!zp(o,r,d,m))return null;let C,I=[],M=[];if("**"===o.path){const Le=d.length>0?qi(d).parameters:{};C=new Po(d,Le,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_d(o),Kr(o),o.component,o,fh(r),xt(r)+d.length,t_(o))}else{const Le=gd(r,o,d);if(!Le.matched)return null;I=Le.consumedSegments,M=d.slice(Le.lastChild),C=new Po(I,Le.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_d(o),Kr(o),o.component,o,fh(r),xt(r)+I.length,t_(o))}const G=(s=o).children?s.children:s.loadChildren?s._loadedConfig.routes:[],{segmentGroup:ge,slicedSegments:Ee}=fa(r,I,M,G.filter(Le=>void 0===Le.redirectTo),this.relativeLinkResolution);var s;if(0===Ee.length&&ge.hasChildren()){const Le=this.processChildren(G,ge);return null===Le?null:[new Ei(C,Le)]}if(0===G.length&&0===Ee.length)return[new Ei(C,[])];const De=Kr(o)===m,je=this.processSegment(G,ge,Ee,De?ht:m);return null===je?null:[new Ei(C,je)]}}function Xm(s){const o=s.value.routeConfig;return o&&""===o.path&&void 0===o.redirectTo}function e_(s){const o=[],r=new Set;for(const d of s){if(!Xm(d)){o.push(d);continue}const m=o.find(C=>d.value.routeConfig===C.value.routeConfig);void 0!==m?(m.children.push(...d.children),r.add(m)):o.push(d)}for(const d of r){const m=e_(d.children);o.push(new Ei(d.value,m))}return o.filter(d=>!r.has(d))}function fh(s){let o=s;for(;o._sourceSegment;)o=o._sourceSegment;return o}function xt(s){let o=s,r=o._segmentIndexShift?o._segmentIndexShift:0;for(;o._sourceSegment;)o=o._sourceSegment,r+=o._segmentIndexShift?o._segmentIndexShift:0;return r-1}function _d(s){return s.data||{}}function t_(s){return s.resolve||{}}function gh(s){return Vt(o=>{const r=s(o);return r?(0,an.D)(r).pipe((0,tt.U)(()=>o)):(0,Ze.of)(o)})}class ag extends class{shouldDetach(o){return!1}store(o,r){}shouldAttach(o){return!1}retrieve(o){return null}shouldReuseRoute(o,r){return o.routeConfig===r.routeConfig}}{}const vd=new p.OlP("ROUTES");class ug{constructor(o,r,d,m){this.loader=o,this.compiler=r,this.onLoadStartListener=d,this.onLoadEndListener=m}load(o,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const m=this.loadModuleFactory(r.loadChildren).pipe((0,tt.U)(C=>{this.onLoadEndListener&&this.onLoadEndListener(r);const I=C.create(o);return new rh(od(I.injector.get(vd,void 0,p.XFs.Self|p.XFs.Optional)).map(ih),I)}),be(C=>{throw r._loader$=void 0,C}));return r._loader$=new le.c(m,()=>new Rr.xQ).pipe((0,lm.x)()),r._loader$}loadModuleFactory(o){return"string"==typeof o?(0,an.D)(this.loader.load(o)):Qr(o()).pipe((0,Fe.zg)(r=>r instanceof p.YKP?(0,Ze.of)(r):(0,an.D)(this.compiler.compileModuleAsync(r))))}}class r_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ki,this.attachRef=null}}class Ki{constructor(){this.contexts=new Map}onChildOutletCreated(o,r){const d=this.getOrCreateContext(o);d.outlet=r,this.contexts.set(o,d)}onChildOutletDestroyed(o){const r=this.getContext(o);r&&(r.outlet=null)}onOutletDeactivated(){const o=this.contexts;return this.contexts=new Map,o}onOutletReAttached(o){this.contexts=o}getOrCreateContext(o){let r=this.getContext(o);return r||(r=new r_,this.contexts.set(o,r)),r}getContext(o){return this.contexts.get(o)||null}}class lg{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,r){return o}}function cg(s){throw s}function dg(s,o,r){return o.parse("/")}function _h(s,o){return(0,Ze.of)(null)}const i_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},o_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ln=(()=>{class s{constructor(r,d,m,C,I,M,G,ge){this.rootComponentType=r,this.urlSerializer=d,this.rootContexts=m,this.location=C,this.config=ge,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Rr.xQ,this.errorHandler=cg,this.malformedUriErrorHandler=dg,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_h,afterPreactivation:_h},this.urlHandlingStrategy=new lg,this.routeReuseStrategy=new ag,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=I.get(p.h0i),this.console=I.get(p.c2e);const je=I.get(p.R0b);this.isNgZoneEnabled=je instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(ge),this.currentUrlTree=new du(new _t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ug(M,G,Le=>this.triggerEvent(new Dp(Le)),Le=>this.triggerEvent(new Lf(Le))),this.routerState=Op(this.currentUrlTree,this.rootComponentType),this.transitions=new a({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const d=this.events;return r.pipe(mi(m=>0!==m.id),(0,tt.U)(m=>Object.assign(Object.assign({},m),{extractedUrl:this.urlHandlingStrategy.extract(m.rawUrl)})),Vt(m=>{let C=!1,I=!1;return(0,Ze.of)(m).pipe((0,_n.b)(M=>{this.currentNavigation={id:M.id,initialUrl:M.currentRawUrl,extractedUrl:M.extractedUrl,trigger:M.source,extras:M.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vt(M=>{const G=!this.navigated||M.extractedUrl.toString()!==this.browserUrlTree.toString(),ge=("reload"===this.onSameUrlNavigation||G)&&this.urlHandlingStrategy.shouldProcessUrl(M.rawUrl);if(jl(M.source)&&(this.browserUrlTree=M.rawUrl),ge)return(0,Ze.of)(M).pipe(Vt(Ee=>{const De=this.transitions.getValue();return d.next(new Rl(Ee.id,this.serializeUrl(Ee.extractedUrl),Ee.source,Ee.restoredState)),De!==this.transitions.getValue()?Nr.E:Promise.resolve(Ee)}),function(s,o,r,d){return Vt(m=>function(s,o,r,d,m){return new Kp(s,o,r,d,m).apply()}(s,o,r,m.extractedUrl,d).pipe((0,tt.U)(C=>Object.assign(Object.assign({},m),{urlAfterRedirects:C}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,_n.b)(Ee=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ee.urlAfterRedirects})}),function(s,o,r,d,m){return(0,Fe.zg)(C=>function(s,o,r,d,m="emptyOnly",C="legacy"){try{const I=new Qm(s,o,r,d,m,C).recognize();return null===I?ig(new Zm):(0,Ze.of)(I)}catch(I){return ig(I)}}(s,o,C.urlAfterRedirects,r(C.urlAfterRedirects),d,m).pipe((0,tt.U)(I=>Object.assign(Object.assign({},C),{targetSnapshot:I}))))}(this.rootComponentType,this.config,Ee=>this.serializeUrl(Ee),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,_n.b)(Ee=>{"eager"===this.urlUpdateStrategy&&(Ee.extras.skipLocationChange||this.setBrowserUrl(Ee.urlAfterRedirects,Ee),this.browserUrlTree=Ee.urlAfterRedirects);const De=new hm(Ee.id,this.serializeUrl(Ee.extractedUrl),this.serializeUrl(Ee.urlAfterRedirects),Ee.targetSnapshot);d.next(De)}));if(G&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:De,extractedUrl:je,source:Le,restoredState:Ht,extras:hn}=M,Zt=new Rl(De,this.serializeUrl(je),Le,Ht);d.next(Zt);const wn=Op(je,this.rootComponentType).snapshot;return(0,Ze.of)(Object.assign(Object.assign({},M),{targetSnapshot:wn,urlAfterRedirects:je,extras:Object.assign(Object.assign({},hn),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=M.rawUrl,this.browserUrlTree=M.urlAfterRedirects,M.resolve(null),Nr.E}),gh(M=>{const{targetSnapshot:G,id:ge,extractedUrl:Ee,rawUrl:De,extras:{skipLocationChange:je,replaceUrl:Le}}=M;return this.hooks.beforePreactivation(G,{navigationId:ge,appliedUrlTree:Ee,rawUrlTree:De,skipLocationChange:!!je,replaceUrl:!!Le})}),(0,_n.b)(M=>{const G=new bp(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(G)}),(0,tt.U)(M=>Object.assign(Object.assign({},M),{guards:mu(M.targetSnapshot,M.currentSnapshot,this.rootContexts)})),function(s,o){return(0,Fe.zg)(r=>{const{targetSnapshot:d,currentSnapshot:m,guards:{canActivateChecks:C,canDeactivateChecks:I}}=r;return 0===I.length&&0===C.length?(0,Ze.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(s,o,r,d){return(0,an.D)(s).pipe((0,Fe.zg)(m=>function(s,o,r,d,m){const C=o&&o.routeConfig?o.routeConfig.canDeactivate:null;if(!C||0===C.length)return(0,Ze.of)(!0);const I=C.map(M=>{const G=bs(M,o,m);let ge;if(function(s){return s&&Fo(s.canDeactivate)}(G))ge=Qr(G.canDeactivate(s,o,r,d));else{if(!Fo(G))throw new Error("Invalid CanDeactivate guard");ge=Qr(G(s,o,r,d))}return ge.pipe(xo())});return(0,Ze.of)(I).pipe(kl())}(m.component,m.route,r,o,d)),xo(m=>!0!==m,!0))}(I,d,m,s).pipe((0,Fe.zg)(M=>M&&function(s){return"boolean"==typeof s}(M)?function(s,o,r,d){return(0,an.D)(o).pipe(Ut(m=>k(function(s,o){return null!==s&&o&&o(new mm(s)),(0,Ze.of)(!0)}(m.route.parent,d),function(s,o){return null!==s&&o&&o(new vm(s)),(0,Ze.of)(!0)}(m.route,d),function(s,o,r){const d=o[o.length-1],C=o.slice(0,o.length-1).reverse().map(I=>function(s){const o=s.routeConfig?s.routeConfig.canActivateChild:null;return o&&0!==o.length?{node:s,guards:o}:null}(I)).filter(I=>null!==I).map(I=>J(()=>{const M=I.guards.map(G=>{const ge=bs(G,I.node,r);let Ee;if(function(s){return s&&Fo(s.canActivateChild)}(ge))Ee=Qr(ge.canActivateChild(d,s));else{if(!Fo(ge))throw new Error("Invalid CanActivateChild guard");Ee=Qr(ge(d,s))}return Ee.pipe(xo())});return(0,Ze.of)(M).pipe(kl())}));return(0,Ze.of)(C).pipe(kl())}(s,m.path,r),function(s,o,r){const d=o.routeConfig?o.routeConfig.canActivate:null;if(!d||0===d.length)return(0,Ze.of)(!0);const m=d.map(C=>J(()=>{const I=bs(C,o,r);let M;if(function(s){return s&&Fo(s.canActivate)}(I))M=Qr(I.canActivate(o,s));else{if(!Fo(I))throw new Error("Invalid CanActivate guard");M=Qr(I(o,s))}return M.pipe(xo())}));return(0,Ze.of)(m).pipe(kl())}(s,m.route,r))),xo(m=>!0!==m,!0))}(d,C,s,o):(0,Ze.of)(M)),(0,tt.U)(M=>Object.assign(Object.assign({},r),{guardsResult:M})))})}(this.ngModule.injector,M=>this.triggerEvent(M)),(0,_n.b)(M=>{if(ca(M.guardsResult)){const ge=rd(`Redirecting to "${this.serializeUrl(M.guardsResult)}"`);throw ge.url=M.guardsResult,ge}const G=new pm(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot,!!M.guardsResult);this.triggerEvent(G)}),mi(M=>!!M.guardsResult||(this.restoreHistory(M),this.cancelNavigationTransition(M,""),!1)),gh(M=>{if(M.guards.canActivateChecks.length)return(0,Ze.of)(M).pipe((0,_n.b)(G=>{const ge=new gm(G.id,this.serializeUrl(G.extractedUrl),this.serializeUrl(G.urlAfterRedirects),G.targetSnapshot);this.triggerEvent(ge)}),Vt(G=>{let ge=!1;return(0,Ze.of)(G).pipe(function(s,o){return(0,Fe.zg)(r=>{const{targetSnapshot:d,guards:{canActivateChecks:m}}=r;if(!m.length)return(0,Ze.of)(r);let C=0;return(0,an.D)(m).pipe(Ut(I=>function(s,o,r,d){return function(s,o,r,d){const m=Object.keys(s);if(0===m.length)return(0,Ze.of)({});const C={};return(0,an.D)(m).pipe((0,Fe.zg)(I=>function(s,o,r,d){const m=bs(s,o,d);return Qr(m.resolve?m.resolve(o,r):m(o,r))}(s[I],o,r,d).pipe((0,_n.b)(M=>{C[I]=M}))),nr(1),(0,Fe.zg)(()=>Object.keys(C).length===m.length?(0,Ze.of)(C):Nr.E))}(s._resolve,s,o,d).pipe((0,tt.U)(C=>(s._resolvedData=C,s.data=Object.assign(Object.assign({},s.data),la(s,r).resolve),null)))}(I.route,d,s,o)),(0,_n.b)(()=>C++),nr(1),(0,Fe.zg)(I=>C===m.length?(0,Ze.of)(r):Nr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,_n.b)({next:()=>ge=!0,complete:()=>{ge||(this.restoreHistory(G),this.cancelNavigationTransition(G,"At least one route resolver didn't emit any value."))}}))}),(0,_n.b)(G=>{const ge=new vi(G.id,this.serializeUrl(G.extractedUrl),this.serializeUrl(G.urlAfterRedirects),G.targetSnapshot);this.triggerEvent(ge)}))}),gh(M=>{const{targetSnapshot:G,id:ge,extractedUrl:Ee,rawUrl:De,extras:{skipLocationChange:je,replaceUrl:Le}}=M;return this.hooks.afterPreactivation(G,{navigationId:ge,appliedUrlTree:Ee,rawUrlTree:De,skipLocationChange:!!je,replaceUrl:!!Le})}),(0,tt.U)(M=>{const G=function(s,o,r){const d=hu(s,o._root,r?r._root:void 0);return new qf(d,o)}(this.routeReuseStrategy,M.targetSnapshot,M.currentRouterState);return Object.assign(Object.assign({},M),{targetRouterState:G})}),(0,_n.b)(M=>{this.currentUrlTree=M.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,M.rawUrl),this.routerState=M.targetRouterState,"deferred"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,M),this.browserUrlTree=M.urlAfterRedirects)}),((s,o,r)=>(0,tt.U)(d=>(new Vm(o,d.targetRouterState,d.currentRouterState,r).activate(s),d)))(this.rootContexts,this.routeReuseStrategy,M=>this.triggerEvent(M)),(0,_n.b)({next(){C=!0},complete(){C=!0}}),function(s){return o=>o.lift(new cm(s))}(()=>{if(!C&&!I){const M=`Navigation ID ${m.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(m),this.cancelNavigationTransition(m,M)):this.cancelNavigationTransition(m,M)}this.currentNavigation=null}),be(M=>{if(I=!0,function(s){return s&&s[et]}(M)){const G=ca(M.url);G||(this.navigated=!0,this.restoreHistory(m,!0));const ge=new fm(m.id,this.serializeUrl(m.extractedUrl),M.message);d.next(ge),G?setTimeout(()=>{const Ee=this.urlHandlingStrategy.merge(M.url,this.rawUrlTree),De={skipLocationChange:m.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jl(m.source)};this.scheduleNavigation(Ee,"imperative",null,De,{resolve:m.resolve,reject:m.reject,promise:m.promise})},0):m.resolve(!1)}else{this.restoreHistory(m,!0);const G=new Ep(m.id,this.serializeUrl(m.extractedUrl),M);d.next(G);try{m.resolve(this.errorHandler(M))}catch(ge){m.reject(ge)}}return Nr.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const d=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,d)&&setTimeout(()=>{const{source:m,state:C,urlTree:I}=d,M={replaceUrl:!0};if(C){const G=Object.assign({},C);delete G.navigationId,delete G.\u0275routerPageId,0!==Object.keys(G).length&&(M.state=G)}this.scheduleNavigation(I,m,C,M)},0),this.lastLocationChangeInfo=d}))}extractLocationChangeInfoFromEvent(r){var d;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(d=r.state)||void 0===d?void 0:d.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,d){if(!r)return!0;const m=d.urlTree.toString()===r.urlTree.toString();return d.transitionId!==r.transitionId||!m||!("hashchange"===d.source&&"popstate"===r.source||"popstate"===d.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){jm(r),this.config=r.map(ih),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,d={}){const{relativeTo:m,queryParams:C,fragment:I,queryParamsHandling:M,preserveFragment:G}=d,ge=m||this.routerState.root,Ee=G?this.currentUrlTree.fragment:I;let De=null;switch(M){case"merge":De=Object.assign(Object.assign({},this.currentUrlTree.queryParams),C);break;case"preserve":De=this.currentUrlTree.queryParams;break;default:De=C||null}return null!==De&&(De=this.removeEmptyProps(De)),function(s,o,r,d,m){if(0===r.length)return fd(o.root,o.root,o,d,m);const C=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new Xf(!0,0,s);let o=0,r=!1;const d=s.reduce((m,C,I)=>{if("object"==typeof C&&null!=C){if(C.outlets){const M={};return Sn(C.outlets,(G,ge)=>{M[ge]="string"==typeof G?G.split("/"):G}),[...m,{outlets:M}]}if(C.segmentPath)return[...m,C.segmentPath]}return"string"!=typeof C?[...m,C]:0===I?(C.split("/").forEach((M,G)=>{0==G&&"."===M||(0==G&&""===M?r=!0:".."===M?o++:""!=M&&m.push(M))}),m):[...m,C]},[]);return new Xf(r,o,d)}(r);if(C.toRoot())return fd(o.root,new _t([],{}),o,d,m);const I=function(s,o,r){if(s.isAbsolute)return new eh(o.root,!0,0);if(-1===r.snapshot._lastPathIndex){const C=r.snapshot._urlSegment;return new eh(C,C===o.root,0)}const d=Jf(s.commands[0])?0:1;return function(s,o,r){let d=s,m=o,C=r;for(;C>m;){if(C-=m,d=d.parent,!d)throw new Error("Invalid number of '../'");m=d.segments.length}return new eh(d,!1,m-C)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+d,s.numberOfDoubleDots)}(C,o,s),M=I.processChildren?th(I.segmentGroup,I.index,C.commands):Fm(I.segmentGroup,I.index,C.commands);return fd(I.segmentGroup,M,o,d,m)}(ge,this.currentUrlTree,r,De,null!=Ee?Ee:null)}navigateByUrl(r,d={skipLocationChange:!1}){const m=ca(r)?r:this.parseUrl(r),C=this.urlHandlingStrategy.merge(m,this.rawUrlTree);return this.scheduleNavigation(C,"imperative",null,d)}navigate(r,d={skipLocationChange:!1}){return function(s){for(let o=0;o<s.length;o++){const r=s[o];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${o}`)}}(r),this.navigateByUrl(this.createUrlTree(r,d),d)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let d;try{d=this.urlSerializer.parse(r)}catch(m){d=this.malformedUriErrorHandler(m,this.urlSerializer,r)}return d}isActive(r,d){let m;if(m=!0===d?Object.assign({},i_):!1===d?Object.assign({},o_):d,ca(r))return Zi(this.currentUrlTree,r,m);const C=this.parseUrl(r);return Zi(this.currentUrlTree,C,m)}removeEmptyProps(r){return Object.keys(r).reduce((d,m)=>{const C=r[m];return null!=C&&(d[m]=C),d},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new lu(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(r,d,m,C,I){var M,G;if(this.disposed)return Promise.resolve(!1);const ge=this.getTransition(),Ee=jl(d)&&ge&&!jl(ge.source),Le=(this.lastSuccessfulId===ge.id||this.currentNavigation?ge.rawUrl:ge.urlAfterRedirects).toString()===r.toString();if(Ee&&Le)return Promise.resolve(!0);let Ht,hn,Zt;I?(Ht=I.resolve,hn=I.reject,Zt=I.promise):Zt=new Promise((un,eo)=>{Ht=un,hn=eo});const wn=++this.navigationId;let rn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(m=this.location.getState()),rn=m&&m.\u0275routerPageId?m.\u0275routerPageId:C.replaceUrl||C.skipLocationChange?null!==(M=this.browserPageId)&&void 0!==M?M:0:(null!==(G=this.browserPageId)&&void 0!==G?G:0)+1):rn=0,this.setTransition({id:wn,targetPageId:rn,source:d,restoredState:m,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:C,resolve:Ht,reject:hn,promise:Zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Zt.catch(un=>Promise.reject(un))}setBrowserUrl(r,d){const m=this.urlSerializer.serialize(r),C=Object.assign(Object.assign({},d.extras.state),this.generateNgRouterState(d.id,d.targetPageId));this.location.isCurrentPathEqualTo(m)||d.extras.replaceUrl?this.location.replaceState(m,"",C):this.location.go(m,"",C)}restoreHistory(r,d=!1){var m,C;if("computed"===this.canceledNavigationResolution){const I=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(m=this.currentNavigation)||void 0===m?void 0:m.finalUrl)||0===I?this.currentUrlTree===(null===(C=this.currentNavigation)||void 0===C?void 0:C.finalUrl)&&0===I&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(I)}else"replace"===this.canceledNavigationResolution&&(d&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,d){const m=new fm(r.id,this.serializeUrl(r.extractedUrl),d);this.triggerEvent(m),r.resolve(!1)}generateNgRouterState(r,d){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:d}:{navigationId:r}}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(p.DyG),p.LFG(Ol),p.LFG(Ki),p.LFG(we),p.LFG(p.zs3),p.LFG(p.v3s),p.LFG(p.Sil),p.LFG(void 0))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();function jl(s){return"imperative"!==s}let Hl=(()=>{class s{constructor(r,d,m){this.router=r,this.route=d,this.locationStrategy=m,this.commands=[],this.onChanges=new Rr.xQ,this.subscription=r.events.subscribe(C=>{C instanceof lu&&this.updateTargetUrlAndHref()})}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}ngOnChanges(r){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(r,d,m,C,I){if(0!==r||d||m||C||I||"string"==typeof this.target&&"_self"!=this.target)return!0;const M={skipLocationChange:yu(this.skipLocationChange),replaceUrl:yu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,M),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:yu(this.preserveFragment)})}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Ln),p.Y36(kn),p.Y36(Ae))},s.\u0275dir=p.lG2({type:s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(r,d){1&r&&p.NdJ("click",function(C){return d.onClick(C.button,C.ctrlKey,C.shiftKey,C.altKey,C.metaKey)}),2&r&&(p.Ikx("href",d.href,p.LSH),p.uIk("target",d.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[p.TTD]}),s})();function yu(s){return""===s||!!s}let yd=(()=>{class s{constructor(r,d,m,C,I){this.parentContexts=r,this.location=d,this.resolver=m,this.changeDetector=I,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.name=C||ht,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,d){this.activated=r,this._activatedRoute=d,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,d){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const I=(d=d||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),M=this.parentContexts.getOrCreateContext(this.name).children,G=new vh(r,M,this.location.injector);this.activated=this.location.createComponent(I,this.location.length,G),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Ki),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},s.\u0275dir=p.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class vh{constructor(o,r,d){this.route=o,this.childContexts=r,this.parent=d}get(o,r){return o===kn?this.route:o===Ki?this.childContexts:this.parent.get(o,r)}}class hg{}class yh{preload(o,r){return(0,Ze.of)(null)}}let u_=(()=>{class s{constructor(r,d,m,C,I){this.router=r,this.injector=C,this.preloadingStrategy=I,this.loader=new ug(d,m,ge=>r.triggerEvent(new Dp(ge)),ge=>r.triggerEvent(new Lf(ge)))}setUpPreloading(){this.subscription=this.router.events.pipe(mi(r=>r instanceof lu),Ut(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(p.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,d){const m=[];for(const C of d)if(C.loadChildren&&!C.canLoad&&C._loadedConfig){const I=C._loadedConfig;m.push(this.processRoutes(I.module,I.routes))}else C.loadChildren&&!C.canLoad?m.push(this.preloadConfig(r,C)):C.children&&m.push(this.processRoutes(r,C.children));return(0,an.D)(m).pipe((0,R.J)(),(0,tt.U)(C=>{}))}preloadConfig(r,d){return this.preloadingStrategy.preload(d,()=>(d._loadedConfig?(0,Ze.of)(d._loadedConfig):this.loader.load(r.injector,d)).pipe((0,Fe.zg)(C=>(d._loadedConfig=C,this.processRoutes(C.module,C.routes)))))}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(Ln),p.LFG(p.v3s),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(hg))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})(),kr=(()=>{class s{constructor(r,d,m={}){this.router=r,this.viewportScroller=d,this.options=m,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},m.scrollPositionRestoration=m.scrollPositionRestoration||"disabled",m.anchorScrolling=m.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Rl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof lu&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Vf&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,d){this.router.triggerEvent(new Vf(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,d))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(Ln),p.LFG(Mt),p.LFG(void 0))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();const Cu=new p.OlP("ROUTER_CONFIGURATION"),l_=new p.OlP("ROUTER_FORROOT_GUARD"),mg=[we,{provide:Ol,useClass:wm},{provide:Ln,useFactory:function(s,o,r,d,m,C,I,M={},G,ge){const Ee=new Ln(null,s,o,r,d,m,C,od(I));return G&&(Ee.urlHandlingStrategy=G),ge&&(Ee.routeReuseStrategy=ge),function(s,o){s.errorHandler&&(o.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(o.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(o.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(o.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(o.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(o.urlUpdateStrategy=s.urlUpdateStrategy)}(M,Ee),M.enableTracing&&Ee.events.subscribe(De=>{var je,Le;null===(je=console.group)||void 0===je||je.call(console,`Router Event: ${De.constructor.name}`),console.log(De.toString()),console.log(De),null===(Le=console.groupEnd)||void 0===Le||Le.call(console)}),Ee},deps:[Ol,Ki,we,p.zs3,p.v3s,p.Sil,vd,Cu,[class{},new p.FiY],[class{},new p.FiY]]},Ki,{provide:kn,useFactory:function(s){return s.routerState.root},deps:[Ln]},{provide:p.v3s,useClass:p.EAV},u_,yh,class{preload(o,r){return r().pipe(be(()=>(0,Ze.of)(null)))}},{provide:Cu,useValue:{enableTracing:!1}}];function _g(){return new p.PXZ("Router",Ln)}let vg=(()=>{class s{constructor(r,d){}static forRoot(r,d){return{ngModule:s,providers:[mg,Cg(r),{provide:l_,useFactory:Ch,deps:[[Ln,new p.FiY,new p.tp0]]},{provide:Cu,useValue:d||{}},{provide:Ae,useFactory:yg,deps:[Q,[new p.tBr(ye),new p.FiY],Cu]},{provide:kr,useFactory:ey,deps:[Ln,Mt,Cu]},{provide:hg,useExisting:d&&d.preloadingStrategy?d.preloadingStrategy:yh},{provide:p.PXZ,multi:!0,useFactory:_g},[bh,{provide:p.ip1,multi:!0,useFactory:f_,deps:[bh]},{provide:Eg,useFactory:h_,deps:[bh]},{provide:p.tb,multi:!0,useExisting:Eg}]]}}static forChild(r){return{ngModule:s,providers:[Cg(r)]}}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(l_,8),p.LFG(Ln,8))},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({}),s})();function ey(s,o,r){return r.scrollOffset&&o.setOffset(r.scrollOffset),new kr(s,o,r)}function yg(s,o,r={}){return r.useHash?new Ye(s,o):new Te(s,o)}function Ch(s){return"guarded"}function Cg(s){return[{provide:p.deG,multi:!0,useValue:s},{provide:vd,multi:!0,useValue:s}]}let bh=(()=>{class s{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Rr.xQ}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let d=null;const m=new Promise(M=>d=M),C=this.injector.get(Ln),I=this.injector.get(Cu);return"disabled"===I.initialNavigation?(C.setUpLocationChangeListener(),d(!0)):"enabled"===I.initialNavigation||"enabledBlocking"===I.initialNavigation?(C.hooks.afterPreactivation=()=>this.initNavigation?(0,Ze.of)(null):(this.initNavigation=!0,d(!0),this.resultOfPreactivationDone),C.initialNavigation()):d(!0),m})}bootstrapListener(r){const d=this.injector.get(Cu),m=this.injector.get(u_),C=this.injector.get(kr),I=this.injector.get(Ln),M=this.injector.get(p.z2F);r===M.components[0]&&(("enabledNonBlocking"===d.initialNavigation||void 0===d.initialNavigation)&&I.initialNavigation(),m.setUpPreloading(),C.init(),I.resetRootComponentType(M.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(p.zs3))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();function f_(s){return s.appInitializer.bind(s)}function h_(s){return s.bootstrapListener.bind(s)}const Eg=new p.OlP("Router Initializer"),bg=function(){return[""]},bi=function(s){return["/menu",s,"games"]},Gl=function(s){return["/menu",s,"library"]},p_=function(s){return["/menu",s,"friends","list"]},g_=function(s){return["/menu",s,"profile"]};let Ed=(()=>{class s{constructor(r){this.route=r}ngOnInit(){this.uid=this.route.snapshot.paramMap.get("uid")}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(kn))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-menu"]],decls:18,vars:14,consts:[[1,"button","fancy-button",3,"routerLink"],[1,"material-icons"],[3,"routerLink"]],template:function(r,d){1&r&&(p.TgZ(0,"menu"),p.TgZ(1,"li"),p.TgZ(2,"a",0),p.TgZ(3,"i",1),p._uU(4,"explore"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(5,"li"),p.TgZ(6,"a",2),p._uU(7,"Games"),p.qZA(),p.qZA(),p.TgZ(8,"li"),p.TgZ(9,"a",2),p._uU(10,"Library"),p.qZA(),p.qZA(),p.TgZ(11,"li"),p.TgZ(12,"a",2),p._uU(13,"Friends"),p.qZA(),p.qZA(),p.TgZ(14,"li"),p.TgZ(15,"a",2),p._uU(16,"Profile"),p.qZA(),p.qZA(),p.qZA(),p._UZ(17,"router-outlet")),2&r&&(p.xp6(2),p.Q6J("routerLink",p.DdM(5,bg)),p.xp6(4),p.Q6J("routerLink",p.VKq(6,bi,d.uid)),p.xp6(3),p.Q6J("routerLink",p.VKq(8,Gl,d.uid)),p.xp6(3),p.Q6J("routerLink",p.VKq(10,p_,d.uid)),p.xp6(3),p.Q6J("routerLink",p.VKq(12,g_,d.uid)))},directives:[Hl,yd],styles:["menu[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;background-color:#fff;display:flex;align-items:center;box-shadow:0 3px 10px #0000008c}.material-icons[_ngcontent-%COMP%]{color:#55d;font-size:36px;padding:10px 0}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:14px 10px;text-decoration:none;color:#000;cursor:pointer}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#55d}"]}),s})();const Ji=[{login:"user_1@mail.ua",pass:"user_1"},{login:"user_2@mail.ua",pass:"user_2"},{login:"user_3@mail.com",pass:"user_3"},{login:"user_4@mail.com",pass:"user_4"}];let Xi=(()=>{class s{constructor(r,d){this.auth=r,this.db=d}login(r,d){return new Promise((m,C)=>{this.auth.signInWithEmailAndPassword(r,d).then(I=>m(I),I=>C(I))})}read(r){return this.db.object(r).valueChanges()}readGames(r){return this.read(r).pipe((0,tt.U)(d=>d),(0,tt.U)(d=>Object.values(d)))}readAllGames(){return this.readGames("games")}readGamesFromLibrary(r){return this.readGames(`users/${r}/games`)}readUser(r){return this.read(`users/${r}`).pipe((0,tt.U)(d=>d))}readFriends(r){return this.read(`users/${r}/friends`).pipe((0,tt.U)(d=>{const m=d;return m&&Object.keys(m).map(C=>({username:m[C],id:C}))}))}update(r,d){this.db.database.ref(r).update(d).then(()=>{alert("update successful")}).catch(m=>{alert(m.message)})}delete(r){return this.db.object(r).remove().then(()=>alert("delete successful")).catch(d=>alert(d.message))}push(r,d){this.db.database.ref(r).push(d).then(()=>alert("add data")).catch(m=>alert(m.message))}searchUser(r,d){let m=[];return this.read("users").pipe((0,tt.U)(C=>C),(0,_n.b)(C=>{m.push(C[r].username),C[r].friends&&(m=[...Object.values(C[r].friends),C[r].username])}),(0,tt.U)(C=>Object.values(C).map(I=>I.username).filter(I=>I.includes(d)).filter(I=>!m.includes(I))))}addGameInLibrary(r,d){this.db.object(`users/${r}/games/${d.name}`).set(d).then(()=>alert(`add ${d.name} game`)).catch(m=>alert(m.message))}}return s.\u0275fac=function(r){return new(r||s)(p.LFG(xf),p.LFG(au))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Yn(s,o){if(1&s&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.qZA()),2&s){const r=o.$implicit;p.xp6(2),p.Oqu(r.login),p.xp6(2),p.Oqu(r.pass)}}let pa=(()=>{class s{constructor(r,d,m){this.formBuilder=r,this.router=d,this.userService=m,this.title="steamClone",this.loginForm=this.formBuilder.group({email:new Gt(null,[Ar.required]),password:new Gt(null,[Ar.required])}),this.usersList=Ji}ngOnInit(){}submit(){const{email:r,password:d}=this.loginForm.value;this.userService.login(r,d).then(m=>{var C;console.log("succes",m),this.uid=null===(C=m.user)||void 0===C?void 0:C.uid}).then(()=>{this.router.navigate(["/menu",this.uid,"games"])}).catch(m=>{console.log(m.code),console.log(m.message),alert(m.message)}),this.loginForm.reset()}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Mo),p.Y36(Ln),p.Y36(Xi))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-login"]],decls:21,vars:3,consts:[[1,"round"],[1,"signIn"],[3,"formGroup","submit"],["type","text","placeholder","email","formControlName","email"],["type","password","placeholder","password","formControlName","password"],["type","submit",3,"disabled"],[4,"ngFor","ngForOf"]],template:function(r,d){1&r&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"h3"),p._uU(3,"Sign In"),p.qZA(),p.TgZ(4,"form",2),p.NdJ("submit",function(){return d.submit()}),p.TgZ(5,"p"),p._uU(6,"Email"),p.qZA(),p._UZ(7,"input",3),p.TgZ(8,"p"),p._uU(9,"Password"),p.qZA(),p._UZ(10,"input",4),p.TgZ(11,"button",5),p._uU(12,"Sign In"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(13,"div"),p.TgZ(14,"table"),p.TgZ(15,"thead"),p.TgZ(16,"th"),p._uU(17,"login"),p.qZA(),p.TgZ(18,"th"),p._uU(19,"password"),p.qZA(),p.qZA(),p.YNc(20,Yn,5,2,"tr",6),p.qZA(),p.qZA(),p.qZA()),2&r&&(p.xp6(4),p.Q6J("formGroup",d.loginForm),p.xp6(7),p.Q6J("disabled",!d.loginForm.valid),p.xp6(9),p.Q6J("ngForOf",d.usersList))},directives:[ta,Eo,ji,dr,is,Mr,Oe],styles:[".signIn[_ngcontent-%COMP%]{width:250px;background:#fff;border-radius:10px;padding:77px 55px 33px;display:flex;align-items:center;justify-content:center;flex-direction:column}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:95%;height:35px;padding:0 5px}button[_ngcontent-%COMP%]{margin-top:15px;width:100%}table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #55d}table[_ngcontent-%COMP%]{margin:15px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:10px 15px}"]}),s})();function bd(s,o){if(1&s){const r=p.EpF();p.TgZ(0,"div",15),p.TgZ(1,"div",16),p.TgZ(2,"h2"),p._uU(3),p.qZA(),p.TgZ(4,"h3",17),p._uU(5),p.TgZ(6,"span"),p._uU(7,"UAH"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(8,"p",18),p._uU(9),p.qZA(),p.TgZ(10,"div",19),p.TgZ(11,"button",20),p.NdJ("click",function(){const C=p.CHM(r).$implicit;return p.oxw().addGame(C.name)}),p._uU(12,"Add to Library"),p.qZA(),p.qZA(),p.qZA()}if(2&s){const r=o.$implicit;p.xp6(3),p.Oqu(r.name),p.xp6(2),p.hij("",r.price," "),p.xp6(4),p.Oqu(r.about)}}let Jr=(()=>{class s{constructor(r,d,m){this.formBuilder=r,this.userService=d,this.route=m,this.max=13,this.rate=100}ngOnInit(){this.initForm(),this.userService.readAllGames().subscribe(r=>{this.allGames=r,this.games=[...this.allGames]})}initForm(){this.gamesForm=this.formBuilder.group({searchGames:new Gt("",[Ar.required]),casual:new Gt(!0),strategy:new Gt(!0),adventure:new Gt(!0),range:new Gt(this.max)})}addFilter(){const r=this.gamesForm.value.range*this.rate;this.games=this.allGames.filter(d=>this.gamesForm.value[d.genre]),this.gamesForm.value.range!==this.max&&(this.games=this.games.filter(d=>d.price<=r)),this.games=this.games.filter(d=>d.name.includes(this.gamesForm.value.searchGames))}addGame(r){const d=this.games.find(C=>C.name===r);d&&this.userService.addGameInLibrary(this.route.snapshot.root.children[0].params.uid,d)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Mo),p.Y36(Xi),p.Y36(kn))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-games"]],decls:34,vars:4,consts:[[1,"block"],[1,""],[3,"formGroup"],["type","text","placeholder","Search Games","formControlName","searchGames",1,"searchInput"],["type","button",1,"searchButton",3,"click"],[1,"blockGames"],[1,"cards"],["class","card",4,"ngFor","ngForOf"],["type","range","id","range","formControlName","range","min","0","step","1","value","13",3,"max","change"],["type","checkbox","id","casual","name","casual","formControlName","casual",3,"change"],["for","casual"],["type","checkbox","id","strategy","name","strategy","checked","","formControlName","strategy",3,"change"],["for","strategy"],["type","checkbox","id","adventure","name","adventure","checked","","formControlName","adventure",3,"change"],["for","adventure"],[1,"card"],[1,"card-img"],[1,"card-img-money"],[1,"about"],[1,"card-share"],["type","button",3,"click"]],template:function(r,d){1&r&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"h3"),p._uU(3,"Games"),p.qZA(),p.TgZ(4,"form",2),p.TgZ(5,"p"),p._uU(6,"Search Games"),p.qZA(),p._UZ(7,"input",3),p.TgZ(8,"button",4),p.NdJ("click",function(){return d.addFilter()}),p._uU(9,"Search"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"div"),p.TgZ(11,"h3"),p._uU(12,"Featured Games"),p.qZA(),p.TgZ(13,"div",5),p.TgZ(14,"div",6),p.YNc(15,bd,13,3,"div",7),p.qZA(),p.TgZ(16,"div"),p.TgZ(17,"form",2),p.TgZ(18,"p"),p._uU(19,"Filter by price"),p.qZA(),p.TgZ(20,"input",8),p.NdJ("change",function(){return d.addFilter()}),p.qZA(),p.TgZ(21,"p"),p._uU(22,"Filter by tag"),p.qZA(),p.TgZ(23,"input",9),p.NdJ("change",function(){return d.addFilter()}),p.qZA(),p.TgZ(24,"label",10),p._uU(25,"casual"),p.qZA(),p._UZ(26,"br"),p.TgZ(27,"input",11),p.NdJ("change",function(){return d.addFilter()}),p.qZA(),p.TgZ(28,"label",12),p._uU(29,"strategy"),p.qZA(),p._UZ(30,"br"),p.TgZ(31,"input",13),p.NdJ("change",function(){return d.addFilter()}),p.qZA(),p.TgZ(32,"label",14),p._uU(33,"adventure"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&r&&(p.xp6(4),p.Q6J("formGroup",d.gamesForm),p.xp6(11),p.Q6J("ngForOf",d.games),p.xp6(2),p.Q6J("formGroup",d.gamesForm),p.xp6(3),p.s9C("max",d.max))},directives:[ta,Eo,ji,dr,is,Mr,Oe,ol,Vi],styles:[".blockGames[_ngcontent-%COMP%]{display:flex;flex-direction:row}"]}),s})();function Dh(s,o){if(1&s){const r=p.EpF();p.TgZ(0,"div",3),p.TgZ(1,"div",4),p.TgZ(2,"h2"),p._uU(3),p.qZA(),p.qZA(),p.TgZ(4,"p",5),p._uU(5),p.qZA(),p.TgZ(6,"div",6),p.TgZ(7,"button",7),p.NdJ("click",function(){const C=p.CHM(r).$implicit;return p.oxw().download(C.name)}),p._uU(8,"Download"),p.qZA(),p.TgZ(9,"button",7),p.NdJ("click",function(){const C=p.CHM(r).$implicit;return p.oxw().share(C.name)}),p._uU(10,"Share"),p.qZA(),p.qZA(),p.qZA()}if(2&s){const r=o.$implicit;p.xp6(3),p.Oqu(r.name),p.xp6(2),p.Oqu(r.about)}}let Eu=(()=>{class s{constructor(r,d){this.userService=r,this.route=d}ngOnInit(){this.userService.readGamesFromLibrary(this.route.snapshot.root.children[0].params.uid).subscribe(d=>this.games=d)}download(r){alert(`Wait a minute, the game ${r} is installed on your computer`)}share(r){alert(`You shared the game ${r}`)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Xi),p.Y36(kn))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-library"]],decls:5,vars:1,consts:[[1,"block"],[1,"cards"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-img"],[1,"about"],[1,"card-share"],["type","button",3,"click"]],template:function(r,d){1&r&&(p.TgZ(0,"div",0),p.TgZ(1,"h3"),p._uU(2,"My Games"),p.qZA(),p.TgZ(3,"div",1),p.YNc(4,Dh,11,2,"div",2),p.qZA(),p.qZA()),2&r&&(p.xp6(4),p.Q6J("ngForOf",d.games))},directives:[Oe],styles:[""]}),s})(),ga=(()=>{class s{constructor(r,d,m){this.formBuilder=r,this.router=d,this.route=m,this.searchForm=this.formBuilder.group({searchfriends:new Gt(null,[Ar.required])})}ngOnInit(){}submit(){console.warn("New friends have been found",this.searchForm.value.searchfriends),this.router.navigate(["./search"],{relativeTo:this.route,queryParams:{search:this.searchForm.value.searchfriends}})}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Mo),p.Y36(Ln),p.Y36(kn))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-friends"]],decls:11,vars:1,consts:[[1,"block"],[1,"searchFriends"],[3,"formGroup","submit"],["type","text","placeholder","Search Friends","formControlName","searchfriends",1,"searchInput"],["type","submit",1,"searchButton"]],template:function(r,d){1&r&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"h3"),p._uU(3,"Friends"),p.qZA(),p.TgZ(4,"form",2),p.NdJ("submit",function(){return d.submit()}),p.TgZ(5,"p"),p._uU(6,"Search Friends"),p.qZA(),p._UZ(7,"input",3),p.TgZ(8,"button",4),p._uU(9,"Search"),p.qZA(),p.qZA(),p.qZA(),p._UZ(10,"router-outlet"),p.qZA()),2&r&&(p.xp6(4),p.Q6J("formGroup",d.searchForm))},directives:[ta,Eo,ji,dr,is,Mr,yd],styles:[""]}),s})(),bu=(()=>{class s{constructor(r,d,m){this.formBuilder=r,this.route=d,this.userService=m}ngOnInit(){this.uid=this.route.snapshot.root.children[0].params.uid,this.userService.readUser(this.uid).subscribe(r=>this.user=Object.assign({},r)),this.profileForm=this.formBuilder.group({username:new Gt("",[Ar.required]),email:new Gt(""),age:new Gt("",[Ar.required])})}submit(){console.warn("Your profile has been modified",this.profileForm.value);const{username:r,age:d}=this.profileForm.value;this.userService.update(`users/${this.uid}`,{username:r,age:d})}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(Mo),p.Y36(kn),p.Y36(Xi))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-profile"]],decls:16,vars:5,consts:[[1,"round"],[1,"profile"],[3,"formGroup","submit"],["type","text","placeholder","username","formControlName","username",3,"value"],["type","text","placeholder","email","formControlName","email","readonly","",3,"value"],["type","number","min","1","placeholder","age","formControlName","age",3,"value"],["type","submit",3,"disabled"]],template:function(r,d){1&r&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"h3"),p._uU(3,"Profile"),p.qZA(),p.TgZ(4,"form",2),p.NdJ("submit",function(){return d.submit()}),p.TgZ(5,"p"),p._uU(6,"Username"),p.qZA(),p._UZ(7,"input",3),p.TgZ(8,"p"),p._uU(9,"Email"),p.qZA(),p._UZ(10,"input",4),p.TgZ(11,"p"),p._uU(12,"Age"),p.qZA(),p._UZ(13,"input",5),p.TgZ(14,"button",6),p._uU(15,"Save"),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&r&&(p.xp6(4),p.Q6J("formGroup",d.profileForm),p.xp6(3),p.s9C("value",d.user?d.user.username:null),p.xp6(3),p.s9C("value",d.user?d.user.email:null),p.xp6(3),p.s9C("value",d.user?d.user.age:null),p.xp6(1),p.Q6J("disabled",!d.profileForm.valid))},directives:[ta,Eo,ji,dr,is,Mr,Za,pi],styles:[".profile[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;margin:25px;padding:25px;width:250px;box-shadow:0 0 15px 2px #0000008c}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px;padding:10px}"]}),s})();function Du(s,o){if(1&s){const r=p.EpF();p.TgZ(0,"div",2),p.TgZ(1,"p"),p._uU(2),p.qZA(),p.TgZ(3,"button",3),p.NdJ("click",function(){const C=p.CHM(r).$implicit;return p.oxw().addFriend(C)}),p._uU(4,"Add friend"),p.qZA(),p.qZA()}if(2&s){const r=o.$implicit;p.xp6(2),p.Oqu(r)}}function Iu(s,o){if(1&s){const r=p.EpF();p.TgZ(0,"div",4),p.TgZ(1,"p"),p._uU(2),p.qZA(),p.TgZ(3,"button",5),p.NdJ("click",function(){const C=p.CHM(r).$implicit;return p.oxw(3).removeFriend(C.id)}),p._uU(4,"Remove friend"),p.qZA(),p.qZA()}if(2&s){const r=o.$implicit;p.xp6(2),p.Oqu(r.username)}}function Au(s,o){if(1&s&&(p.ynx(0),p.YNc(1,Iu,5,1,"div",3),p.BQk()),2&s){const r=p.oxw(2);p.xp6(1),p.Q6J("ngForOf",r.friends)}}function Tu(s,o){if(1&s&&(p.TgZ(0,"div",1),p.TgZ(1,"h3"),p._uU(2,"My Friends"),p.qZA(),p.YNc(3,Au,2,1,"ng-container",2),p.qZA()),2&s){const r=p.oxw();p.xp6(3),p.Q6J("ngIf",r.friends)}}const Dg=[{path:"",component:pa},{path:"menu/:uid",component:Ed},{path:"menu/:uid",component:Ed,children:[{path:"games",component:Jr},{path:"library",component:Eu},{path:"friends",component:ga},{path:"friends",component:ga,children:[{path:"search",component:(()=>{class s{constructor(r,d,m,C){this.db=r,this.router=d,this.route=m,this.userService=C,this.findUsers=[],this.users=[],this.friends=[]}ngOnInit(){const r=this.route.snapshot.root.children[0].params.uid;this.route.queryParams.subscribe(d=>{this.search=d.search,this.userService.searchUser(r,this.search).subscribe(m=>this.findUsers=m)})}addFriend(r){this.userService.push(`users/${this.route.snapshot.root.children[0].params.uid}/friends`,r),this.router.navigate(["../list"],{relativeTo:this.route})}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(au),p.Y36(Ln),p.Y36(kn),p.Y36(Xi))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-friends-search"]],decls:4,vars:2,consts:[[1,"profile"],["class","blockFriend",4,"ngFor","ngForOf"],[1,"blockFriend"],["type","button",3,"click"]],template:function(r,d){1&r&&(p.TgZ(0,"div",0),p.TgZ(1,"h3"),p._uU(2),p.qZA(),p.YNc(3,Du,5,1,"div",1),p.qZA()),2&r&&(p.xp6(2),p.hij("Search Friends: ",d.search,""),p.xp6(1),p.Q6J("ngForOf",d.findUsers))},directives:[Oe],styles:[""]}),s})()},{path:"list",component:(()=>{class s{constructor(r,d){this.route=r,this.userService=d}ngOnInit(){this.uid=this.route.snapshot.root.children[0].params.uid,this.userService.readFriends(this.uid).subscribe(r=>{this.friends=r,console.log("friends form list",this.friends)})}removeFriend(r){this.userService.delete(`users/${this.uid}/friends/${r}`)}}return s.\u0275fac=function(r){return new(r||s)(p.Y36(kn),p.Y36(Xi))},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-friends-list"]],decls:1,vars:1,consts:[["class","usersFriends",4,"ngIf"],[1,"usersFriends"],[4,"ngIf"],["class","blockFriend",4,"ngFor","ngForOf"],[1,"blockFriend"],["type","button",3,"click"]],template:function(r,d){1&r&&p.YNc(0,Tu,4,1,"div",0),2&r&&p.Q6J("ngIf",d.friends)},directives:[bt,Oe],styles:["button[_ngcontent-%COMP%]{background-color:#d2386c}"]}),s})()}]},{path:"profile",component:bu}]}];let wg=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[[vg.forRoot(Dg)],vg]}),s})(),Ig=(()=>{class s{constructor(){this.title="steamClone"}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-root"]],decls:1,vars:0,template:function(r,d){1&r&&p._UZ(0,"router-outlet")},directives:[yd],styles:[""]}),s})(),Ag=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=p.oAB({type:s,bootstrap:[Ig]}),s.\u0275inj=p.cJS({providers:[],imports:[[of,wg,Cf,nn.hO.initializeApp(u_firebase),Ml]]}),s})();(0,p.G48)(),ki().bootstrapModule(Ag).catch(s=>console.error(s))},4762:(Pe,me,F)=>{"use strict";F.d(me,{ZT:()=>ie,pi:()=>A,mG:()=>Q,Jh:()=>z,XA:()=>O,CR:()=>B,ev:()=>ce});var p=function(ee,ne){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,X){re.__proto__=X}||function(re,X){for(var he in X)Object.prototype.hasOwnProperty.call(X,he)&&(re[he]=X[he])})(ee,ne)};function ie(ee,ne){if("function"!=typeof ne&&null!==ne)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function re(){this.constructor=ee}p(ee,ne),ee.prototype=null===ne?Object.create(ne):(re.prototype=ne.prototype,new re)}var A=function(){return(A=Object.assign||function(ne){for(var re,X=1,he=arguments.length;X<he;X++)for(var te in re=arguments[X])Object.prototype.hasOwnProperty.call(re,te)&&(ne[te]=re[te]);return ne}).apply(this,arguments)};function Q(ee,ne,re,X){return new(re||(re=Promise))(function(te,He){function $e(ke){try{Ve(X.next(ke))}catch(Me){He(Me)}}function Ot(ke){try{Ve(X.throw(ke))}catch(Me){He(Me)}}function Ve(ke){ke.done?te(ke.value):function(te){return te instanceof re?te:new re(function(He){He(te)})}(ke.value).then($e,Ot)}Ve((X=X.apply(ee,ne||[])).next())})}function z(ee,ne){var X,he,te,He,re={label:0,sent:function(){if(1&te[0])throw te[1];return te[1]},trys:[],ops:[]};return He={next:$e(0),throw:$e(1),return:$e(2)},"function"==typeof Symbol&&(He[Symbol.iterator]=function(){return this}),He;function $e(Ve){return function(ke){return function(Ve){if(X)throw new TypeError("Generator is already executing.");for(;re;)try{if(X=1,he&&(te=2&Ve[0]?he.return:Ve[0]?he.throw||((te=he.return)&&te.call(he),0):he.next)&&!(te=te.call(he,Ve[1])).done)return te;switch(he=0,te&&(Ve=[2&Ve[0],te.value]),Ve[0]){case 0:case 1:te=Ve;break;case 4:return re.label++,{value:Ve[1],done:!1};case 5:re.label++,he=Ve[1],Ve=[0];continue;case 7:Ve=re.ops.pop(),re.trys.pop();continue;default:if(!(te=(te=re.trys).length>0&&te[te.length-1])&&(6===Ve[0]||2===Ve[0])){re=0;continue}if(3===Ve[0]&&(!te||Ve[1]>te[0]&&Ve[1]<te[3])){re.label=Ve[1];break}if(6===Ve[0]&&re.label<te[1]){re.label=te[1],te=Ve;break}if(te&&re.label<te[2]){re.label=te[2],re.ops.push(Ve);break}te[2]&&re.ops.pop(),re.trys.pop();continue}Ve=ne.call(ee,re)}catch(ke){Ve=[6,ke],he=0}finally{X=te=0}if(5&Ve[0])throw Ve[1];return{value:Ve[0]?Ve[1]:void 0,done:!0}}([Ve,ke])}}}function O(ee){var ne="function"==typeof Symbol&&Symbol.iterator,re=ne&&ee[ne],X=0;if(re)return re.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&X>=ee.length&&(ee=void 0),{value:ee&&ee[X++],done:!ee}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(ee,ne){var re="function"==typeof Symbol&&ee[Symbol.iterator];if(!re)return ee;var he,He,X=re.call(ee),te=[];try{for(;(void 0===ne||ne-- >0)&&!(he=X.next()).done;)te.push(he.value)}catch($e){He={error:$e}}finally{try{he&&!he.done&&(re=X.return)&&re.call(X)}finally{if(He)throw He.error}}return te}function ce(ee,ne,re){if(re||2===arguments.length)for(var te,X=0,he=ne.length;X<he;X++)(te||!(X in ne))&&(te||(te=Array.prototype.slice.call(ne,0,X)),te[X]=ne[X]);return ee.concat(te||Array.prototype.slice.call(ne))}}},Pe=>{Pe(Pe.s=1503)}]);